!function(e){function n(n){for(var r,u,o=n[0],s=n[1],c=n[2],f=0,d=[];f<o.length;f++)u=o[f],Object.prototype.hasOwnProperty.call(i,u)&&i[u]&&d.push(i[u][0]),i[u]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);for(l&&l(n);d.length;)d.shift()();return a.push.apply(a,c||[]),t()}function t(){for(var e,n=0;n<a.length;n++){for(var t=a[n],r=!0,o=1;o<t.length;o++){var s=t[o];0!==i[s]&&(r=!1)}r&&(a.splice(n--,1),e=u(u.s=t[0]))}return e}var r={},i={0:0},a=[];function u(n){if(r[n])return r[n].exports;var t=r[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,u),t.l=!0,t.exports}u.m=e,u.c=r,u.d=function(e,n,t){u.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},u.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,n){if(1&n&&(e=u(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(u.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)u.d(t,r,function(n){return e[n]}.bind(null,r));return t},u.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return u.d(n,"a",n),n},u.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},u.p="";var o=window.webpackJsonp=window.webpackJsonp||[],s=o.push.bind(o);o.push=n,o=o.slice();for(var c=0;c<o.length;c++)n(o[c]);var l=s;a.push([105,1]),t()}({105:function(e,n,t){"use strict";t.r(n);t(5);function r(e){return null!=e&&"function"==typeof e.Dispose}function i(e,n,t){return e.has(n)?[!0,e.get(n)]:[!1,t]}function a(e){const n=e;return"number"==typeof n.offset?n.offset:1===e.kind?0:-6e4*e.getTimezoneOffset()}class u{static id(e){return u.idMap.has(e)||u.idMap.set(e,++u.count),u.idMap.get(e)}}function o(e){let n=0,t=5381;const r=e.length;for(;n<r;)t=33*t^e.charCodeAt(n++);return t}function s(e){return 2654435761*e|0}function c(e){return 0===e.length?0:e.reduce((e,n)=>(e<<5)+e^n)}function l(e){if(null==e)return 0;switch(typeof e){case"boolean":return e?1:0;case"number":return s(e);case"string":return o(e);default:if("function"==typeof e.GetHashCode)return e.GetHashCode();if(f(e)){const n=e,t=n.length,r=new Array(t);for(let e=0;e<t;e++)r[e]=l(n[e]);return c(r)}return o(String(e))}}function f(e){return Array.isArray(e)||ArrayBuffer.isView(e)}function d(e,n,t){if(null==e)return null==n;if(null==n)return!1;if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++)if(!t(e[r],n[r]))return!1;return!0}function w(e,n){return d(e,n,h)}function h(e,n){return e===n||(null==e?null==n:null!=n&&("object"==typeof e&&("function"==typeof e.Equals?e.Equals(n):f(e)?f(n)&&w(e,n):e instanceof Date&&(n instanceof Date&&0===p(e,n)))))}function p(e,n){let t,r;return"offset"in e&&"offset"in n?(t=e.getTime(),r=n.getTime()):(t=e.getTime()+a(e),r=n.getTime()+a(n)),t===r?0:t<r?-1:1}function g(e,n){return e===n?0:e<n?-1:1}function m(e,n,t){if(null==e)return null==n?0:1;if(null==n)return-1;if(e.length!==n.length)return e.length<n.length?-1:1;for(let r=0,i=0;r<e.length;r++)if(i=t(e[r],n[r]),0!==i)return i;return 0}function y(e,n){return m(e,n,v)}function v(e,n){return e===n?0:null==e?null==n?0:-1:null==n?1:"object"!=typeof e?e<n?-1:1:"function"==typeof e.CompareTo?e.CompareTo(n):f(e)?f(n)&&y(e,n):e instanceof Date?n instanceof Date&&p(e,n):1}function S(e,n,t){return e(n,t)>0?n:t}u.idMap=new WeakMap,u.count=0;const E=0,b=1,C=2,k=3,R=4;function O(e,n){return e.replace(/[a-z]?[A-Z]/g,e=>1===e.length?e.toLowerCase():e.charAt(0)+n+e.charAt(1).toLowerCase())}function P(e,n){switch(n){case b:return e.charAt(0).toLowerCase()+e.slice(1);case C:return O(e,"_");case k:return O(e,"_").toUpperCase();case R:return O(e,"-");case E:default:return e}}function A(e,n=E){function t(e){throw new Error("Cannot infer key and value of "+String(e))}const r={},i=n;for(let n of e){let e=E;if(null==n&&t(n),"function"==typeof n.toJSON&&(n=n.toJSON(),e=i),Array.isArray(n))switch(n.length){case 0:t(n);break;case 1:r[P(n[0],e)]=!0;break;case 2:const i=n[1];r[P(n[0],e)]=i;break;default:r[P(n[0],e)]=n.slice(1)}else"string"==typeof n?r[P(n,e)]=!0:t(n)}return r}function M(e,n){if(null==n)return null;if(n.length>1)return n;let t;switch(e){case 2:t=(e,t)=>n(e)(t);break;case 3:t=(e,t,r)=>n(e)(t)(r);break;case 4:t=(e,t,r,i)=>n(e)(t)(r)(i);break;case 5:t=(e,t,r,i,a)=>n(e)(t)(r)(i)(a);break;case 6:t=(e,t,r,i,a,u)=>n(e)(t)(r)(i)(a)(u);break;case 7:t=(e,t,r,i,a,u,o)=>n(e)(t)(r)(i)(a)(u)(o);break;case 8:t=(e,t,r,i,a,u,o,s)=>n(e)(t)(r)(i)(a)(u)(o)(s);break;default:throw new Error("Uncurrying to more than 8-arity is not supported: "+e)}return t.__CURRIED__=n,t}function I(e,n){if(null==n)return null;if("__CURRIED__"in n)return n.__CURRIED__;switch(e){case 2:return e=>t=>n(e,t);case 3:return e=>t=>r=>n(e,t,r);case 4:return e=>t=>r=>i=>n(e,t,r,i);case 5:return e=>t=>r=>i=>a=>n(e,t,r,i,a);case 6:return e=>t=>r=>i=>a=>u=>n(e,t,r,i,a,u);case 7:return e=>t=>r=>i=>a=>u=>o=>n(e,t,r,i,a,u,o);case 8:return e=>t=>r=>i=>a=>u=>o=>s=>n(e,t,r,i,a,u,o,s);default:throw new Error("Currying to more than 8-arity is not supported: "+e)}}function T(e,n,t){if(null==n)return null;if("__CURRIED__"in n){n=n.__CURRIED__;for(let e=0;e<t.length;e++)n=n(t[e]);return n}switch(e){case 1:return e=>n.apply(null,t.concat([e]));case 2:return e=>r=>n.apply(null,t.concat([e,r]));case 3:return e=>r=>i=>n.apply(null,t.concat([e,r,i]));case 4:return e=>r=>i=>a=>n.apply(null,t.concat([e,r,i,a]));case 5:return e=>r=>i=>a=>u=>n.apply(null,t.concat([e,r,i,a,u]));case 6:return e=>r=>i=>a=>u=>o=>n.apply(null,t.concat([e,r,i,a,u,o]));case 7:return e=>r=>i=>a=>u=>o=>s=>n.apply(null,t.concat([e,r,i,a,u,o,s]));case 8:return e=>r=>i=>a=>u=>o=>s=>c=>n.apply(null,t.concat([e,r,i,a,u,o,s,c]));default:throw new Error("Partially applying to more than 8-arity is not supported: "+e)}}function N(e,n){if(e.has(n))return e.get(n);throw new Error(`The given key '${n}' was not present in the dictionary.`)}function D(e,n){return null!=n&&Object.getPrototypeOf(e).constructor===Object.getPrototypeOf(n).constructor}function x(e,n){return function(e,n){e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}(e,n||G),e}function G(){}function _(e,n){if(e===n)return 0;if(null==n)return-1;for(;null!=e.tail;){if(null==n.tail)return 1;const t=v(e.head,n.head);if(0!==t)return t;e=e.tail,n=n.tail}return null==n.tail?0:-1}function j(e,n){this.head=e,this.tail=n}function F(e,n,...t){this.tag=0|e,this.name=n,this.fields=t}function B(e,n){const t={},r=null==n?Object.keys(e):n(e);for(let n=0;n<r.length;n++)t[r[n]]=e[r[n]];return t}function V(e,n,t){if(e===n)return!0;if(D(e,n)){const r=null==t?Object.keys(e):t(e);for(let t=0;t<r.length;t++)if(!h(e[r[t]],n[r[t]]))return!1;return!0}return!1}function q(e,n,t){if(e===n)return 0;if(D(e,n)){const r=null==t?Object.keys(e):t(e);for(let t=0;t<r.length;t++){const i=v(e[r[t]],n[r[t]]);if(0!==i)return i}return 0}return-1}function H(){}G.prototype.toString=function(){return"{"+Object.keys(this).map(e=>e+" = "+String(this[e])).join(";\n ")+"}"},G.prototype.GetHashCode=function(){return function(e){if(null==e)return 0;switch(typeof e){case"boolean":return e?1:0;case"number":return s(e);case"string":return o(e);default:return s(u.id(e))}}(this)},G.prototype.Equals=function(e){return this===e},j.prototype.toString=function(){return"["+Array.from(this).map(e=>String(e)).join("; ")+"]"},j.prototype.toJSON=function(){return Array.from(this)},j.prototype[Symbol.iterator]=function(){let e=this;return{next:()=>{const n=e;return e=e.tail,{done:null==n.tail,value:n.head}}}},j.prototype.GetHashCode=function(){return c(Array.from(this).map(l))},j.prototype.Equals=function(e){return 0===_(this,e)},j.prototype.CompareTo=function(e){return _(this,e)},F.prototype.toString=function(){const e=this.fields.length;return 0===e?this.name:1===e?this.name+" "+String(this.fields[0]):this.name+" ("+this.fields.map(e=>String(e)).join(",")+")"},F.prototype.toJSON=function(){return 0===this.fields.length?this.name:[this.name].concat(this.fields)},F.prototype.GetHashCode=function(){const e=this.fields.map(e=>l(e));return e.splice(0,0,s(this.tag)),c(e)},F.prototype.Equals=function(e){return this===e||D(this,e)&&this.tag===e.tag&&w(this.fields,e.fields)},F.prototype.CompareTo=function(e){return this===e?0:D(this,e)?this.tag===e.tag?y(this.fields,e.fields):this.tag<e.tag?-1:1:-1},H.prototype.toString=function(){return"{"+Object.keys(this).map(e=>e+" = "+String(this[e])).join(";\n ")+"}"},H.prototype.toJSON=function(){return B(this)},H.prototype.GetHashCode=function(){return c(Object.keys(this).map(e=>l(this[e])))},H.prototype.Equals=function(e){return V(this,e)},H.prototype.CompareTo=function(e){return q(this,e)};const L=x((function(e){this.contents=e}),H),W=x((function(e){this.stack=Error().stack,this.message=e}));function z(e){return Object.keys(e).filter(e=>"message"!==e&&"stack"!==e)}const J=x((function(){W.call(this)}),W);J.prototype.toString=function(){const e=z(this),n=e.length;return 0===n?this.message:1===n?this.message+" "+String(this[e[0]]):this.message+" ("+e.map(e=>String(this[e])).join(",")+")"},J.prototype.toJSON=function(){return B(this,z)},J.prototype.GetHashCode=function(){return c(z(this).map(e=>l(this[e])))},J.prototype.Equals=function(e){return V(this,e,z)},J.prototype.CompareTo=function(e){return q(this,e,z)};x((function(e,n,t){this.arg1=e,this.arg2=0|n,this.arg3=0|t,this.message="The match cases were incomplete"}),J),x((function(){}));class U{constructor(e,n,t,r,i,a){this.fullname=e,this.generics=n,this.constructor=t,this.fields=r,this.cases=i,this.enumCases=a}toString(){return function e(n){const t=null==n.generics||$(n)?[]:n.generics;return t.length>0?n.fullname+"["+t.map(n=>e(n)).join(",")+"]":n.fullname}(this)}Equals(e){return K(this,e)}CompareTo(e){return Z(this,e)}}function Y(e){return null!=e.generics?e.generics:[]}function K(e,n){return""===e.fullname?""===n.fullname&&d(X(e),X(n),([e,n],[t,r])=>e===t&&K(n,r)):e.fullname===n.fullname&&d(Y(e),Y(n),K)}function Z(e,n){return e.fullname!==n.fullname?e.fullname<n.fullname?-1:1:m(Y(e),Y(n),Z)}new U("System.Object"),new U("Microsoft.FSharp.Core.Unit"),new U("System.Char"),new U("System.String"),new U("System.Boolean"),new U("System.SByte"),new U("System.Byte"),new U("System.Int16"),new U("System.UInt16"),new U("System.Int32"),new U("System.UInt32"),new U("System.Single"),new U("System.Double"),new U("System.Decimal");function $(e){return e.fullname.endsWith("[]")}function X(e){if(null!=e.fields)return e.fields();throw new Error(`${e.fullname} is not an F# record type`)}class Q{constructor(e){this.value=e}toString(){return String(this.value)}toJSON(){return this.value}GetHashCode(){return l(this.value)}Equals(e){return null!=e&&h(this.value,e instanceof Q?e.value:e)}CompareTo(e){return null==e?1:v(this.value,e instanceof Q?e.value:e)}}function ee(e){return null==(e=void 0===e?null:e)||e instanceof Q?new Q(e):e}function ne(e,n){if(null==e){if(!n)throw new Error("Option has no value");return null}return e instanceof Q?e.value:e}function te(e,n,t){return null==e?n:null!=t?t(ne(e)):ne(e)}function re(e,n){return null==n?n:ee(e(ne(n)))}x((function(e,n,t){F.call(this,e,n,t)}),F);const ie=x((function(e,n,t){F.call(this,e,n,t)}),F);function ae(e,n){return 0===n.tag?(t=e(n.fields[0]),new ie(0,"Ok",t)):n;var t}function ue(e,n){return 0===n.tag?e(n.fields[0]):n}var oe={GetHashCode(){return c([this.s,this.e].concat(this.c))},Equals(e){return!this.cmp(e)},CompareTo(e){return this.cmp(e)}},se="[big.js] ",ce=se+"Invalid ",le=ce+"decimal places",fe=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function de(e,n){var t,r,i;if(0===n&&1/n<0)n="-0";else if(!fe.test(n+=""))throw Error(ce+"number");for(e.s="-"==n.charAt(0)?(n=n.slice(1),-1):1,(t=n.indexOf("."))>-1&&(n=n.replace(".","")),(r=n.search(/e/i))>0?(t<0&&(t=r),t+=+n.slice(r+1),n=n.substring(0,r)):t<0&&(t=n.length),i=n.length,r=0;r<t&&r<i&&"0"==n.charAt(r);)++r;if(r==i)e.c=[e.e=0];else for(e.e=t-r-1,e.c=[],t=0;r<i;)e.c[t++]=+n.charAt(r++);return e=we(e,pe.DP,pe.RM)}function we(e,n,t,r){var i=e.c,a=e.e+n+1;if(a<i.length){if(1===t)r=i[a]>=5;else if(2===t)r=i[a]>5||5==i[a]&&(r||a<0||void 0!==i[a+1]||1&i[a-1]);else if(3===t)r=r||!!i[0];else if(r=!1,0!==t)throw Error("[big.js] Invalid rounding mode");if(a<1)i.length=1,r?(e.e=-n,i[0]=1):i[0]=e.e=0;else{if(i.length=a--,r)for(;++i[a]>9;)i[a]=0,a--||(++e.e,i.unshift(1));for(a=i.length;!i[--a];)i.pop()}}else if(t<0||t>3||t!==~~t)throw Error("[big.js] Invalid rounding mode");return e}function he(e,n,t,r){var i,a,u=e.constructor,o=!e.c[0];if(void 0!==t){if(t!==~~t||t<(3==n)||t>1e6)throw Error(3==n?ce+"precision":le);for(t=r-(e=new u(e)).e,e.c.length>++r&&we(e,t,u.RM),2==n&&(r=e.e+t+1);e.c.length<r;)e.c.push(0)}if(i=e.e,t=(a=e.c.join("")).length,2!=n&&(1==n||3==n&&r<=i||i<=u.NE||i>=u.PE))a=a.charAt(0)+(t>1?"."+a.slice(1):"")+(i<0?"e":"e+")+i;else if(i<0){for(;++i;)a="0"+a;a="0."+a}else if(i>0)if(++i>t)for(i-=t;i--;)a+="0";else i<t&&(a=a.slice(0,i)+"."+a.slice(i));else t>1&&(a=a.charAt(0)+"."+a.slice(1));return e.s<0&&(!o||4==n)?"-"+a:a}oe.abs=function(){var e=new this.constructor(this);return e.s=1,e},oe.cmp=function(e){var n,t=this.constructor,r=new t(this),i=(e=new t(e),r.c),a=e.c,u=r.s,o=e.s,s=r.e,c=e.e;if(!i[0]||!a[0])return i[0]?u:a[0]?-o:0;if(u!=o)return u;if(n=u<0,s!=c)return s>c^n?1:-1;for(o=Math.max(i.length,a.length),u=0;u<o;u++)if((s=u<i.length?i[u]:0)!=(c=u<a.length?a[u]:0))return s>c^n?1:-1;return 0},oe.div=function(e){var n=this.constructor,t=new n(this),r=(e=new n(e),t.c),i=e.c,a=t.s==e.s?1:-1,u=n.DP;if(u!==~~u||u<0||u>1e6)throw Error(le);if(!i[0])throw Error("[big.js] Division by zero");if(!r[0])return new n(0*a);var o,s,c,l,f,d=i.slice(),w=o=i.length,h=r.length,p=r.slice(0,o),g=p.length,m=e,y=m.c=[],v=0,S=u+(m.e=t.e-e.e)+1;for(m.s=a,a=S<0?0:S,d.unshift(0);g++<o;)p.push(0);do{for(c=0;c<10;c++){if(o!=(g=p.length))l=o>g?1:-1;else for(f=-1,l=0;++f<o;)if(i[f]!=p[f]){l=i[f]>p[f]?1:-1;break}if(!(l<0))break;for(s=g==o?i:d;g;){if(p[--g]<s[g]){for(f=g;f&&!p[--f];)p[f]=9;--p[f],p[g]+=10}p[g]-=s[g]}for(;!p[0];)p.shift()}y[v++]=l?c:++c,p[0]&&l?p[g]=r[w]||0:p=[r[w]]}while((w++<h||void 0!==p[0])&&a--);return y[0]||1==v||(y.shift(),m.e--),v>S&&we(m,u,n.RM,void 0!==p[0]),m},oe.eq=function(e){return!this.cmp(e)},oe.gt=function(e){return this.cmp(e)>0},oe.gte=function(e){return this.cmp(e)>-1},oe.lt=function(e){return this.cmp(e)<0},oe.lte=function(e){return this.cmp(e)<1},oe.minus=oe.sub=function(e){var n,t,r,i,a=this.constructor,u=new a(this),o=(e=new a(e),u.s),s=e.s;if(o!=s)return e.s=-s,u.plus(e);var c=u.c.slice(),l=u.e,f=e.c,d=e.e;if(!c[0]||!f[0])return f[0]?(e.s=-s,e):new a(c[0]?u:0);if(o=l-d){for((i=o<0)?(o=-o,r=c):(d=l,r=f),r.reverse(),s=o;s--;)r.push(0);r.reverse()}else for(t=((i=c.length<f.length)?c:f).length,o=s=0;s<t;s++)if(c[s]!=f[s]){i=c[s]<f[s];break}if(i&&(r=c,c=f,f=r,e.s=-e.s),(s=(t=f.length)-(n=c.length))>0)for(;s--;)c[n++]=0;for(s=n;t>o;){if(c[--t]<f[t]){for(n=t;n&&!c[--n];)c[n]=9;--c[n],c[t]+=10}c[t]-=f[t]}for(;0===c[--s];)c.pop();for(;0===c[0];)c.shift(),--d;return c[0]||(e.s=1,c=[d=0]),e.c=c,e.e=d,e},oe.mod=function(e){var n,t=this.constructor,r=new t(this),i=(e=new t(e),r.s),a=e.s;if(!e.c[0])throw Error("[big.js] Division by zero");return r.s=e.s=1,n=1==e.cmp(r),r.s=i,e.s=a,n?new t(r):(i=t.DP,a=t.RM,t.DP=t.RM=0,r=r.div(e),t.DP=i,t.RM=a,this.minus(r.times(e)))},oe.plus=oe.add=function(e){var n,t=this.constructor,r=new t(this),i=(e=new t(e),r.s),a=e.s;if(i!=a)return e.s=-a,r.minus(e);var u=r.e,o=r.c,s=e.e,c=e.c;if(!o[0]||!c[0])return c[0]?e:new t(o[0]?r:0*i);if(o=o.slice(),i=u-s){for(i>0?(s=u,n=c):(i=-i,n=o),n.reverse();i--;)n.push(0);n.reverse()}for(o.length-c.length<0&&(n=c,c=o,o=n),i=c.length,a=0;i;o[i]%=10)a=(o[--i]=o[i]+c[i]+a)/10|0;for(a&&(o.unshift(a),++s),i=o.length;0===o[--i];)o.pop();return e.c=o,e.e=s,e},oe.pow=function(e){var n=this.constructor,t=new n(this),r=new n(1),i=new n(1),a=e<0;if(e!==~~e||e<-1e6||e>1e6)throw Error(ce+"exponent");for(a&&(e=-e);1&e&&(r=r.times(t)),e>>=1;)t=t.times(t);return a?i.div(r):r},oe.round=function(e,n){var t=this.constructor;if(void 0===e)e=0;else if(e!==~~e||e<-1e6||e>1e6)throw Error(le);return we(new t(this),e,void 0===n?t.RM:n)},oe.sqrt=function(){var e,n,t,r=this.constructor,i=new r(this),a=i.s,u=i.e,o=new r(.5);if(!i.c[0])return new r(i);if(a<0)throw Error(se+"No square root");0===(a=Math.sqrt(i+""))||a===1/0?((n=i.c.join("")).length+u&1||(n+="0"),u=((u+1)/2|0)-(u<0||1&u),e=new r(((a=Math.sqrt(n))==1/0?"1e":(a=a.toExponential()).slice(0,a.indexOf("e")+1))+u)):e=new r(a),u=e.e+(r.DP+=4);do{t=e,e=o.times(t.plus(i.div(t)))}while(t.c.slice(0,u).join("")!==e.c.slice(0,u).join(""));return we(e,r.DP-=4,r.RM)},oe.times=oe.mul=function(e){var n,t=this.constructor,r=new t(this),i=(e=new t(e),r.c),a=e.c,u=i.length,o=a.length,s=r.e,c=e.e;if(e.s=r.s==e.s?1:-1,!i[0]||!a[0])return new t(0*e.s);for(e.e=s+c,u<o&&(n=i,i=a,a=n,c=u,u=o,o=c),n=new Array(c=u+o);c--;)n[c]=0;for(s=o;s--;){for(o=0,c=u+s;c>s;)o=n[c]+a[s]*i[c-s-1]+o,n[c--]=o%10,o=o/10|0;n[c]=(n[c]+o)%10}for(o?++e.e:n.shift(),s=n.length;!n[--s];)n.pop();return e.c=n,e},oe.toExponential=function(e){return he(this,1,e,e)},oe.toFixed=function(e){return he(this,2,e,this.e+e)},oe.toPrecision=function(e){return he(this,3,e,e-1)},oe.toString=function(){return he(this)},oe.valueOf=oe.toJSON=function(){return he(this,4)};var pe=function e(){function n(t){var r=this;if(!(r instanceof n))return void 0===t?e():new n(t);t instanceof n?(r.s=t.s,r.e=t.e,r.c=t.c.slice(),function(e){if((e=we(e,28,0)).c.length>1&&!e.c[0]){let n=e.c.findIndex(e=>e);e.c=e.c.slice(n),e.e=e.e-n}}(r)):de(r,t),r.constructor=n}return n.prototype=oe,n.DP=28,n.RM=1,n.NE=-29,n.PE=29,n.version="5.2.2",n}(),ge=pe,me=ge;new ge(0),new ge(1),new ge(-1),new ge("79228162514264337593543950335"),new ge("-79228162514264337593543950335");var ye;!function(e){e[e.AllowHexSpecifier=512]="AllowHexSpecifier"}(ye||(ye={}));var ve=null;try{ve=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(e){}function Se(e,n,t){this.low=0|e,this.high=0|n,this.unsigned=!!t}function Ee(e){return!0===(e&&e.__isLong__)}Se.prototype.GetHashCode=function(){let e=this.unsigned?1:0;return e=(e<<5)+e^this.high,e=(e<<5)+e^this.low,e},Se.prototype.Equals=function(e){return Ye(this,e)},Se.prototype.CompareTo=function(e){return Xe(this,e)},Se.prototype.toString=function(e){return We(this,e)},Se.prototype.toJSON=function(){return We(this)},Se.prototype.__isLong__,Object.defineProperty(Se.prototype,"__isLong__",{value:!0});var be={},Ce={};function ke(e,n){var t,r,i;return n?(i=0<=(e>>>=0)&&e<256)&&(r=Ce[e])?r:(t=Oe(e,(0|e)<0?-1:0,!0),i&&(Ce[e]=t),t):(i=-128<=(e|=0)&&e<128)&&(r=be[e])?r:(t=Oe(e,e<0?-1:0,!1),i&&(be[e]=t),t)}function Re(e,n){if(isNaN(e))return n?Ge:xe;if(n){if(e<0)return Ge;if(e>=Te)return Ve}else{if(e<=-Ne)return qe;if(e+1>=Ne)return Be}return e<0?Qe(Re(-e,n)):Oe(e%Ie|0,e/Ie|0,n)}function Oe(e,n,t){return new Se(e,n,t)}var Pe=Math.pow;function Ae(e,n,t){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return xe;if("number"==typeof n?(t=n,n=!1):n=!!n,(t=t||10)<2||36<t)throw RangeError("radix");var r=e.indexOf("-");if(r>0)throw Error("interior hyphen");if(0===r)return Qe(Ae(e.substring(1),n,t));for(var i=Re(Pe(t,8)),a=xe,u=0;u<e.length;u+=8){var o=Math.min(8,e.length-u),s=parseInt(e.substring(u,u+o),t);if(o<8)a=en(tn(a,Re(Pe(t,o))),Re(s));else a=en(a=tn(a,i),Re(s))}return a.unsigned=n,a}function Me(e,n){return"number"==typeof e?Re(e,n):"string"==typeof e?Ae(e,n):Oe(e.low,e.high,"boolean"==typeof n?n:e.unsigned)}var Ie=4294967296,Te=Ie*Ie,Ne=Te/2,De=ke(1<<24),xe=ke(0),Ge=ke(0,!0),_e=ke(1),je=ke(1,!0),Fe=ke(-1),Be=Oe(-1,2147483647,!1),Ve=Oe(-1,-1,!0),qe=Oe(0,-2147483648,!1);function He(e){return e.unsigned?e.low>>>0:e.low}function Le(e){return e.unsigned?(e.high>>>0)*Ie+(e.low>>>0):e.high*Ie+(e.low>>>0)}function We(e,n){if((n=n||10)<2||36<n)throw RangeError("radix");if(ze(e))return"0";if(Je(e)){if(Ye(e,qe)){var t=Re(n),r=rn(e,t),i=nn(tn(r,t),e);return We(r,n)+He(i).toString(n)}return"-"+We(Qe(e),n)}for(var a=Re(Pe(n,6),e.unsigned),u=e,o="";;){var s=rn(u,a),c=(He(nn(u,tn(s,a)))>>>0).toString(n);if(ze(u=s))return c+o;for(;c.length<6;)c="0"+c;o=""+c+o}}function ze(e){return 0===e.high&&0===e.low}function Je(e){return!e.unsigned&&e.high<0}function Ue(e){return 1==(1&e.low)}function Ye(e,n){return Ee(n)||(n=Me(n)),(e.unsigned===n.unsigned||e.high>>>31!=1||n.high>>>31!=1)&&(e.high===n.high&&e.low===n.low)}function Ke(e,n){return Xe(e,n)<0}function Ze(e,n){return Xe(e,n)>0}function $e(e,n){return Xe(e,n)>=0}function Xe(e,n){if(Ee(n)||(n=Me(n)),Ye(e,n))return 0;var t=Je(e),r=Je(n);return t&&!r?-1:!t&&r?1:e.unsigned?n.high>>>0>e.high>>>0||n.high===e.high&&n.low>>>0>e.low>>>0?-1:1:Je(nn(e,n))?-1:1}function Qe(e){return!e.unsigned&&Ye(e,qe)?qe:en(an(e),_e)}function en(e,n){Ee(n)||(n=Me(n));var t=e.high>>>16,r=65535&e.high,i=e.low>>>16,a=65535&e.low,u=n.high>>>16,o=65535&n.high,s=n.low>>>16,c=0,l=0,f=0,d=0;return f+=(d+=a+(65535&n.low))>>>16,l+=(f+=i+s)>>>16,c+=(l+=r+o)>>>16,c+=t+u,Oe((f&=65535)<<16|(d&=65535),(c&=65535)<<16|(l&=65535),e.unsigned)}function nn(e,n){return Ee(n)||(n=Me(n)),en(e,Qe(n))}function tn(e,n){if(ze(e))return e.unsigned?Ge:xe;if(Ee(n)||(n=Me(n)),ve)return Oe(ve.mul(e.low,e.high,n.low,n.high),ve.get_high(),e.unsigned);if(ze(n))return e.unsigned?Ge:xe;if(Ye(e,qe))return Ue(n)?qe:xe;if(Ye(n,qe))return Ue(e)?qe:xe;if(Je(e))return Je(n)?tn(Qe(e),Qe(n)):Qe(tn(Qe(e),n));if(Je(n))return Qe(tn(e,Qe(n)));if(Ke(e,De)&&Ke(n,De))return Re(Le(e)*Le(n),e.unsigned);var t=e.high>>>16,r=65535&e.high,i=e.low>>>16,a=65535&e.low,u=n.high>>>16,o=65535&n.high,s=n.low>>>16,c=65535&n.low,l=0,f=0,d=0,w=0;return d+=(w+=a*c)>>>16,f+=(d+=i*c)>>>16,d&=65535,f+=(d+=a*s)>>>16,l+=(f+=r*c)>>>16,f&=65535,l+=(f+=i*s)>>>16,f&=65535,l+=(f+=a*o)>>>16,l+=t*c+r*s+i*o+a*u,Oe((d&=65535)<<16|(w&=65535),(l&=65535)<<16|(f&=65535),e.unsigned)}function rn(e,n){if(Ee(n)||(n=Me(n)),ze(n))throw Error("division by zero");var t,r,i;if(ve)return e.unsigned||-2147483648!==e.high||-1!==n.low||-1!==n.high?Oe((e.unsigned?ve.div_u:ve.div_s)(e.low,e.high,n.low,n.high),ve.get_high(),e.unsigned):e;if(ze(e))return e.unsigned?Ge:xe;if(e.unsigned){if(n.unsigned||(n=function(e){return e.unsigned?e:Oe(e.low,e.high,!0)}(n)),Ze(n,e))return Ge;if(Ze(n,sn(e,1)))return je;i=Ge}else{if(Ye(e,qe))return Ye(n,_e)||Ye(n,Fe)?qe:Ye(n,qe)?_e:Ye(t=un(rn(on(e,1),n),1),xe)?Je(n)?_e:Fe:i=en(t,rn(r=nn(e,tn(n,t)),n));if(Ye(n,qe))return e.unsigned?Ge:xe;if(Je(e))return Je(n)?rn(Qe(e),Qe(n)):Qe(rn(Qe(e),n));if(Je(n))return Qe(rn(e,Qe(n)));i=xe}for(r=e;$e(r,n);){t=Math.max(1,Math.floor(Le(r)/Le(n)));for(var a=Math.ceil(Math.log(t)/Math.LN2),u=a<=48?1:Pe(2,a-48),o=Re(t),s=tn(o,n);Je(s)||Ze(s,r);)s=tn(o=Re(t-=u,e.unsigned),n);ze(o)&&(o=_e),i=en(i,o),r=nn(r,s)}return i}function an(e){return Oe(~e.low,~e.high,e.unsigned)}function un(e,n){return Ee(n)&&(n=He(n)),0==(n&=63)?e:n<32?Oe(e.low<<n,e.high<<n|e.low>>>32-n,e.unsigned):Oe(0,e.low<<n-32,e.unsigned)}function on(e,n){return Ee(n)&&(n=He(n)),0==(n&=63)?e:n<32?Oe(e.low>>>n|e.high<<32-n,e.high>>n,e.unsigned):Oe(e.high>>n-32,e.high>=0?0:-1,e.unsigned)}function sn(e,n){if(Ee(n)&&(n=He(n)),0===(n&=63))return e;var t=e.high;return n<32?Oe(e.low>>>n|t<<32-n,t>>>n,e.unsigned):Oe(32===n?t:t>>>n-32,0,e.unsigned)}var cn=Se;const ln=tn,fn=Xe,dn=function(e,n,t){return t?function(e,n){return new Se(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,n)}(e,n):function(e,n){return new Se(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],n)}(e,n)},wn=function(e,n){return n?function(e){var n=e.high,t=e.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&n,n>>>8&255,n>>>16&255,n>>>24]}(e):function(e){var n=e.high,t=e.low;return[n>>>24,n>>>16&255,n>>>8&255,255&n,t>>>24,t>>>16&255,t>>>8&255,255&t]}(e)},hn=We;class pn{constructor(e){this.iter=e}MoveNext(){const e=this.iter.next();return this.current=e.value,!e.done}get Current(){return this.current}Reset(){throw new Error("JS iterators cannot be reset")}Dispose(){}}function gn(e){return new pn(e[Symbol.iterator]())}function mn(e){return{next:()=>e.MoveNext()?{done:!1,value:e.Current}:{done:!0,value:null}}}function yn(e){return bn(()=>Dn(n=>n<e.length?[e[n],n+1]:null,0))}function vn(e,n){return bn(()=>{let t=!1;let r=[e[Symbol.iterator](),null];return Dn(()=>{let e;if(!t){if(e=r[0].next(),!e.done)return[e.value,r];t=!0,r=[null,n[Symbol.iterator]()]}return e=r[1].next(),e.done?null:[e.value,r]},r)})}function Sn(e){return bn(()=>{const n=e[Symbol.iterator]();let t={value:null};return Dn(e=>{let r=!1;for(;!r;)if(null==e){const t=n.next();t.done?r=!0:e=t.value[Symbol.iterator]()}else{const n=e.next();n.done?e=null:(t={value:n.value},r=!0)}return null!=e&&null!=t?[t.value,e]:null},null)})}function En(e,n){return Sn(On(e,n))}function bn(e){return{[Symbol.iterator]:()=>e()[Symbol.iterator]()}}function Cn(e,n,t){if(Array.isArray(t)||ArrayBuffer.isView(t))return t.reduce(e,n);{let r;for(let i=0,a=t[Symbol.iterator]();r=a.next(),!r.done;i++)n=e(n,r.value,i);return n}}function kn(e,n){Cn((n,t)=>e(t),null,n)}function Rn(e,n){Cn((n,t,r)=>e(r,t),null,n)}function On(e,n){return bn(()=>Dn(n=>{const t=n.next();return t.done?null:[e(t.value),n]},n[Symbol.iterator]()))}function Pn(e,n,t){return bn(()=>{const r=t[Symbol.iterator]();return Dn(t=>{if(null==t)return[n,n];const i=r.next();return i.done?void 0:[t=e(t,i.value),t]},null)})}function An(e){return[e]}function Mn(e,n){return{[Symbol.iterator]:()=>{const t=n[Symbol.iterator]();for(let n=1;n<=e;n++)if(t.next().done)throw new Error("Seq has not enough elements");return t}}}function In(e,n,t){return Cn((n,r)=>t.Add(n,e(r)),t.GetZero(),n)}function Tn(e,n,t=!1){return bn(()=>{const r=n[Symbol.iterator]();return Dn(n=>{if(n<e){const e=r.next();if(!e.done)return[e.value,n+1];if(!t)throw new Error("Seq has not enough elements")}},0)})}function Nn(e,n){for(let t=0,r=n[Symbol.iterator]();;t++){const n=r.next();if(n.done)break;if(e(n.value,t))return t}return null}function Dn(e,n){return{[Symbol.iterator]:()=>{let t=n;return{next:()=>{const n=e(t);return null!=n?(t=n[1],{done:!1,value:n[0]}):{done:!0}}}}}}function xn(e){return e.replace(/[\-\[\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}const Gn=/(^|[^%])%([0+\- ]*)(\d+)?(?:\.(\d+))?(\w)/;function _n(e){return"number"==typeof e||e instanceof cn||e instanceof me}function jn(e,n){return e instanceof cn?fn(e,n)<0:e instanceof me?e.cmp(n)<0:e<n}function Fn(e,n){return e instanceof cn?ln(e,n):e instanceof me?e.mul(n):e*n}function Bn(e,n){return e instanceof cn?String(e)+(0).toFixed(n).substr(1):e.toFixed(n)}function Vn(e,n){return e instanceof cn?String(e)+(0).toPrecision(n).substr(1):e.toPrecision(n)}function qn(e,n){return e instanceof cn?String(e)+(0).toExponential(n).substr(1):e.toExponential(n)}function Hn(e){return e instanceof cn?hn(e.unsigned?e:dn(wn(e),!0),16):(Number(e)>>>0).toString(16)}function Ln(e){return{input:e,cont:(n=e,e=>Gn.test(n)?function e(n,t){return(...r)=>{let i=n;for(const e of r)i=Jn(i,e);return Gn.test(i)?e(i,t):t(i.replace(/%%/g,"%"))}}(n,e):e(n))};var n}function Wn(e){return e.cont(e=>e)}function zn(e){return e.cont(e=>{throw new Error(e)})}function Jn(e,n){return e.replace(Gn,(e,t,r,i,a,u)=>{let o="";if(_n(n))switch("x"!==u.toLowerCase()&&(jn(n,0)?(n=Fn(n,-1),o="-"):r.indexOf(" ")>=0?o=" ":r.indexOf("+")>=0&&(o="+")),a=null==a?null:parseInt(a,10),u){case"f":case"F":n=Bn(n,a=null!=a?a:6);break;case"g":case"G":n=null!=a?Vn(n,a):Vn(n);break;case"e":case"E":n=null!=a?qn(n,a):qn(n);break;case"x":n=Hn(n);break;case"X":n=Hn(n).toUpperCase();break;default:n=String(n)}if(i=parseInt(i,10),isNaN(i))n=o+n;else{const e=r.indexOf("0")>=0,t=r.indexOf("-")>=0,a=t||!e?" ":"0";n="0"===a?o+(n=Yn(n,i-o.length,a,t)):Yn(o+n,i,a,t)}return(t+n).replace(/%/g,"%%")})}function Un(e,n){return Array.isArray(n)?n.join(e):Array.from(n).join(e)}function Yn(e,n,t,r){t=t||" ",n-=e.length;for(let i=0;i<n;i++)e=r?e+t:t+e;return e}function Kn(e,n,t){return e.replace(new RegExp(xn(n),"g"),t)}const Zn=x((function(e,n){const t=new L(null);this.comparer=n,t.contents=this,this["entries@24"]=new Map([]),this["init@21-2"]=1,kn((function(e){et(t.contents,e)}),e)}));function $n(e,n){const t=0|e.comparer.GetHashCode(n),r=i(e["entries@24"],t,null);return r[0]?[!0,t,r[1].findIndex((function(t){return e.comparer.Equals(n,t)}))]:[!1,t,-1]}function Xn(e){e["entries@24"].clear()}function Qn(e){return 0|In((function(e){return e.length}),e["entries@24"].values(),{GetZero:()=>0,Add:(e,n)=>e+n})}function et(e,n){const t=$n(e,n);switch(t[0]&&t[2]>-1?0:1){case 0:return!1;case 1:if(t[0]){N(e["entries@24"],t[1]).push(n);return!0}return e["entries@24"].set(t[1],[n]),!0}}function nt(e,n){const t=$n(e,n);switch(t[0]&&t[2]>-1?0:1){case 0:return!0;case 1:return!1}}function tt(e,n){const t=$n(e,n);switch(t[0]&&t[2]>-1?0:1){case 0:return N(e["entries@24"],t[1]).splice(t[2],1),!0;case 1:return!1}}Zn.prototype[Symbol.iterator]=function(){const e=this;return mn(gn(bn((function(){return En((function(e){return On((function(e){return e}),e)}),e["entries@24"].values())}))))},Zn.prototype.Add=function(e){et(this,e)},Zn.prototype.Clear=function(){Xn(this)},Zn.prototype.Contains=function(e){return nt(this,e)},Zn.prototype.CopyTo=function(e,n){Rn((function(t,r){e[n+t]=r}),this)},Object.defineProperty(Zn.prototype,"Count",{get:function(){return 0|Qn(this)}}),Object.defineProperty(Zn.prototype,"IsReadOnly",{get:function(){return!1}}),Zn.prototype.Remove=function(e){return tt(this,e)},Object.defineProperty(Zn.prototype,"size",{get:function(){return 0|Qn(this)}}),Zn.prototype.add=function(e){et(this,e);return this},Zn.prototype.add_=function(e){return et(this,e)},Zn.prototype.clear=function(){Xn(this)},Zn.prototype.delete=function(e){return tt(this,e)},Zn.prototype.has=function(e){return nt(this,e)},Zn.prototype.keys=function(){return On((function(e){return e}),this)},Zn.prototype.values=function(){return On((function(e){return e}),this)},Zn.prototype.entries=function(){return On((function(e){return[e,e]}),this)};const rt=x((function(e,n,...t){F.call(this,e,n,...t)}),F);function it(e){return function e(n,t){e:for(;;){const r=n,i=t;switch(r.tag){case 2:return i+1|0;case 0:return 0|i;default:n=r.fields[1],t=e(r.fields[2],i+1);continue e}break}}(e,0)}function at(e){return new rt(2,"SetOne",e)}function ut(e,n,t,r){return new rt(1,"SetNode",e,n,t,r)}function ot(e){switch(e.tag){case 2:return 1;case 1:return 0|e.fields[3];default:return 0}}function st(e,n,t){switch(0===e.tag&&0===t.tag?0:1){case 0:return at(n);case 1:{const r=0|ot(e),i=0|ot(t);return ut(n,e,t,(0|(r<i?i:r))+1)}}}function ct(e,n,t){const r=0|ot(e),i=0|ot(t);if(i>r+2){if(1===t.tag){if(ot(t.fields[1])>r+1){if(1===t.fields[1].tag)return st(st(e,n,t.fields[1].fields[1]),t.fields[1].fields[0],st(t.fields[1].fields[2],t.fields[0],t.fields[2]));throw new Error("rebalance")}return st(st(e,n,t.fields[1]),t.fields[0],t.fields[2])}throw new Error("rebalance")}if(r>i+2){if(1===e.tag){if(ot(e.fields[2])>i+1){if(1===e.fields[2].tag)return st(st(e.fields[1],e.fields[0],e.fields[2].fields[1]),e.fields[2].fields[0],st(e.fields[2].fields[2],n,t));throw new Error("rebalance")}return st(e.fields[1],e.fields[0],st(e.fields[2],n,t))}throw new Error("rebalance")}return st(e,n,t)}function lt(e,n,t){switch(t.tag){case 2:{const r=0|e.Compare(n,t.fields[0]);return r<0?ut(n,new rt(0,"SetEmpty"),t,2):0===r?t:ut(n,t,new rt(0,"SetEmpty"),2)}case 0:return at(n);default:{const r=0|e.Compare(n,t.fields[0]);return r<0?ct(lt(e,n,t.fields[1]),t.fields[0],t.fields[2]):0===r?t:ct(t.fields[1],t.fields[0],lt(e,n,t.fields[2]))}}}function ft(e,n,t,r){var i,a,u,o,s,c,l,f,d,w,h,p,g,m,y;switch(2===n.tag?0===r.tag?(i=1,u=n):(r.tag,i=2,o=n.fields[0],s=r):1===n.tag?2===r.tag?(i=3,c=r.fields[0],l=n):1===r.tag?(i=4,f=n.fields[3],d=r.fields[3],w=n.fields[0],h=r.fields[0],p=n.fields[1],g=n.fields[2],m=r.fields[1],y=r.fields[2]):(i=1,u=n):(i=0,a=r),i){case 0:return lt(e,t,a);case 1:return lt(e,t,u);case 2:return lt(e,t,lt(e,o,s));case 3:return lt(e,t,lt(e,c,l));case 4:return f+2<d?ct(ft(e,n,t,m),h,y):d+2<f?ct(p,w,ft(e,g,t,r)):st(n,t,r)}}function dt(e,n,t){switch(t.tag){case 2:{const r=0|e.Compare(t.fields[0],n);return r<0?[t,!1,new rt(0,"SetEmpty")]:0===r?[new rt(0,"SetEmpty"),!0,new rt(0,"SetEmpty")]:[new rt(0,"SetEmpty"),!1,t]}case 0:return[new rt(0,"SetEmpty"),!1,new rt(0,"SetEmpty")];default:{const r=0|e.Compare(n,t.fields[0]);if(r<0){const r=dt(e,n,t.fields[1]);return[r[0],r[1],ft(e,r[2],t.fields[0],t.fields[2])]}if(0===r)return[t.fields[1],!0,t.fields[2]];{const r=dt(e,n,t.fields[2]);return[ft(e,t.fields[1],t.fields[0],r[0]),r[1],r[2]]}}}}function wt(e,n,t){switch(t.tag){case 2:return 0===(0|e.Compare(n,t.fields[0]))?new rt(0,"SetEmpty"):t;case 1:{const r=0|e.Compare(n,t.fields[0]);if(r<0)return ct(wt(e,n,t.fields[1]),t.fields[0],t.fields[2]);if(0===r){if(0===t.fields[1].tag)return t.fields[2];if(0===t.fields[2].tag)return t.fields[1];{const e=function e(n){switch(n.tag){case 2:return[n.fields[0],new rt(0,"SetEmpty")];case 1:if(0===n.fields[1].tag)return[n.fields[0],n.fields[2]];{const t=e(n.fields[1]);return[t[0],st(t[1],n.fields[0],n.fields[2])]}default:throw new Error("internal error: Set.spliceOutSuccessor")}}(t.fields[2]);return st(t.fields[1],e[0],e[1])}}return ct(t.fields[1],t.fields[0],wt(e,n,t.fields[2]))}default:return t}}function ht(e,n,t){e:for(;;){const r=e,i=n,a=t;switch(a.tag){case 2:return 0===r.Compare(i,a.fields[0]);case 0:return!1;default:{const u=0|r.Compare(i,a.fields[0]);if(u<0){e=r,n=i,t=a.fields[1];continue e}if(0===u)return!0;e=r,n=i,t=a.fields[2];continue e}}break}}function pt(e,n,t){e:for(;;){const r=e,i=n,a=t;switch(a.tag){case 2:return r(i,a.fields[0]);case 0:return i;default:{const u=r(pt(r,i,a.fields[1]),a.fields[0]);e=r,n=u,t=a.fields[2];continue e}}break}}function gt(e,n){e:for(;;){const t=e,r=n;switch(r.tag){case 2:return t(r.fields[0]);case 0:return!0;default:if(t(r.fields[0])&&gt(t,r.fields[1])){e=t,n=r.fields[2];continue e}return!1}break}}function mt(e,n,t){return gt((function(n){return ht(e,n,t)}),n)}function yt(e,n,t){return function e(n,t,r,i){e:for(;;){const a=n,u=t,o=r,s=i;switch(o.tag){case 2:return u(o.fields[0])?lt(a,o.fields[0],s):s;case 0:return s;default:{const c=u(o.fields[0])?lt(a,o.fields[0],s):s;n=a,t=u,r=o.fields[1],i=e(a,u,o.fields[2],c);continue e}}break}}(e,n,t,new rt(0,"SetEmpty"))}function vt(e,n,t){return function e(n,t,r){e:for(;;){const i=n,a=t,u=r;switch(a.tag){case 2:return wt(i,a.fields[0],u);case 0:return u;default:n=i,t=a.fields[1],r=e(i,a.fields[2],wt(i,a.fields[0],u));continue e}break}}(e,t,n)}const St=x((function(e,n){this.stack=e,this.started=n}),H);function Et(e){for(;;){const n=e;if(null==n.tail)return new j;if(2===n.head.tag)return n;1!==n.head.tag?e=n.tail:e=new j(n.head.fields[1],new j(at(n.head.fields[0]),new j(n.head.fields[2],n.tail)))}}function bt(e){return new St(Et(new j(e,new j)),!1)}function Ct(e){if(e.started){const n=e.stack;if(null==n.tail)return function(){throw new Error("Enumeration already started")}();if(2===n.head.tag)return n.head.fields[0];throw new Error("Please report error: Set iterator, unexpected stack for current")}return function(){throw new Error("Enumeration not started")}()}const kt=x((function(e){this.s=e,this.i=bt(this.s)}));function Rt(e){return function(e){return this instanceof kt?kt.call(this,e):new kt(e)}(e)}function Ot(e,n,t){return 0===n.tag?0===t.tag?0:-1:0===t.tag?1:0|function(e,n,t){e:for(;;){const V=e,q=n,H=t;var r,i,a,u,o,s,c,l,f,d,w,h,p,g,m,y,v,S,E,b,C,k,R,O,P,A,M,I,T,N,D,x,G,_,F,B;switch(null!=q.tail?null!=H.tail?2===H.head.tag?2===q.head.tag?(r=4,u=q.head.fields[0],o=H.head.fields[0],s=q.tail,c=H.tail):1===q.head.tag?0===q.head.fields[1].tag?(r=6,p=q.head.fields[1],g=q.head.fields[0],m=q.head.fields[2],y=H.head.fields[0],v=q.tail,S=H.tail):(r=9,M=q.head.fields[0],I=q.head.fields[1],T=q.head.fields[2],N=q.tail):(r=10,D=H.head.fields[0],x=H.tail):1===H.head.tag?0===H.head.fields[1].tag?2===q.head.tag?(r=5,l=q.head.fields[0],f=H.head.fields[0],d=H.head.fields[2],w=q.tail,h=H.tail):1===q.head.tag?0===q.head.fields[1].tag?(r=7,E=q.head.fields[0],b=q.head.fields[2],C=H.head.fields[0],k=H.head.fields[2],R=q.tail,O=H.tail):(r=9,M=q.head.fields[0],I=q.head.fields[1],T=q.head.fields[2],N=q.tail):(r=11,G=H.head.fields[0],_=H.head.fields[1],F=H.head.fields[2],B=H.tail):2===q.head.tag?(r=8,P=q.head.fields[0],A=q.tail):1===q.head.tag?(r=9,M=q.head.fields[0],I=q.head.fields[1],T=q.head.fields[2],N=q.tail):(r=11,G=H.head.fields[0],_=H.head.fields[1],F=H.head.fields[2],B=H.tail):2===q.head.tag?(r=8,P=q.head.fields[0],A=q.tail):1===q.head.tag?(r=9,M=q.head.fields[0],I=q.head.fields[1],T=q.head.fields[2],N=q.tail):(r=3,i=q.tail,a=H.tail):r=2:r=null!=H.tail?1:0,r){case 0:return 0;case 1:return-1;case 2:return 1;case 3:e=V,n=i,t=a;continue e;case 4:{const r=0|V.Compare(u,o);if(0!==r)return 0|r;e=V,n=s,t=c;continue e}case 5:{const r=0|V.Compare(l,f);if(0!==r)return 0|r;e=V,n=new j(new rt(0,"SetEmpty"),w),t=new j(d,h);continue e}case 6:{const r=0|V.Compare(g,y);if(0!==r)return 0|r;e=V,n=new j(m,v),t=new j(p,S);continue e}case 7:{const r=0|V.Compare(E,C);if(0!==r)return 0|r;e=V,n=new j(b,R),t=new j(k,O);continue e}case 8:e=V,n=new j(new rt(0,"SetEmpty"),new j(at(P),A)),t=H;continue e;case 9:e=V,n=new j(I,new j(ut(M,new rt(0,"SetEmpty"),T,0),N)),t=H;continue e;case 10:e=V,n=q,t=new j(new rt(0,"SetEmpty"),new j(at(D),x));continue e;case 11:e=V,n=q,t=new j(_,new j(ut(G,new rt(0,"SetEmpty"),F,0),B));continue e}break}}(e,new j(n,new j),new j(t,new j))}function Pt(e){return function e(n,t){e:for(;;){const r=n,i=t;switch(r.tag){case 2:return new j(r.fields[0],i);case 0:return i;default:n=r.fields[1],t=new j(r.fields[0],e(r.fields[2],i));continue e}break}}(e,new j)}function At(e,n){const t=gn(n);try{return function(e,n,t){for(;;){const r=e,i=n,a=t;if(!a.MoveNext())return i;e=r,n=lt(r,a.Current,i),t=a}}(e,new rt(0,"SetEmpty"),t)}finally{r(t)&&t.Dispose()}}Object.defineProperty(kt.prototype,"Current",{get:function(){return Ct(this.i)}}),kt.prototype.MoveNext=function(){return function(e){if(e.started){const n=e.stack;if(null==n.tail)return!1;if(2===n.head.tag)return e.stack=Et(n.tail),!(null==e.stack.tail);throw new Error("Please report error: Set iterator, unexpected stack for moveNext")}return e.started=!0,!(null==e.stack.tail)}(this.i)},kt.prototype.Reset=function(){this.i=bt(this.s)},kt.prototype.Dispose=function(){};const Mt=x((function(e,n){this.comparer=e,this.tree=n}));function It(e,n){return this instanceof Mt?Mt.call(this,e,n):new Mt(e,n)}function Tt(e){return e.comparer}function Nt(e){return e.tree}function Dt(e,n){return ht(Tt(e),n,Nt(e))}function xt(e,n){if(0===Nt(e).tag)return e;return 0===Nt(n).tag?e:It(Tt(e),vt(Tt(e),Nt(e),Nt(n)))}function Gt(e,n){if(0===Nt(n).tag)return e;return 0===Nt(e).tag?n:It(Tt(e),function e(n,t,r){var i,a,u,o,s,c,l,f,d,w,h,p,g,m,y;switch(0===t.tag?(i=1,w=r):2===t.tag?0===r.tag?(i=2,h=t):(r.tag,i=3,p=t.fields[0],g=r):0===r.tag?(i=2,h=t):2===r.tag?(i=4,m=r.fields[0],y=t):(i=0,a=t.fields[3],u=r.fields[3],o=t.fields[0],s=r.fields[0],c=t.fields[1],l=t.fields[2],f=r.fields[1],d=r.fields[2]),i){case 0:if(a>u){const t=dt(n,o,r);return ft(n,e(n,c,t[0]),o,e(n,l,t[2]))}{const r=dt(n,s,t);return ft(n,e(n,f,r[0]),s,e(n,d,r[2]))}case 1:return w;case 2:return h;case 3:return lt(n,p,g);case 4:return lt(n,m,y)}}(Tt(e),Nt(e),Nt(n)))}function _t(e){return 0===Nt(e).tag}function jt(e,n){return Dt(n,e)}function Ft(e,n){return r=e,It(Tt(t=n),lt(Tt(t),r,Nt(t)));var t,r}function Bt(e,n){return It(n,new rt(2,"SetOne",e))}function Vt(e,n){return r=e,It(Tt(t=n),wt(Tt(t),r,Nt(t)));var t,r}function qt(e,n){return Cn(Gt,It(n,new rt(0,"SetEmpty")),e)}function Ht(e){return It(e,new rt(0,"SetEmpty"))}function Lt(e,n){return r=e,0===Nt(t=n).tag?t:It(Tt(t),yt(Tt(t),r,Nt(t)));var t,r}function Wt(e,n,t){return r=n,i=e,It(a=t,pt((function(e,n){return lt(a,i(n),e)}),new rt(0,"SetEmpty"),Nt(r)));var r,i,a}function zt(e){return it(Nt(e))}function Jt(e,n){return It(n,At(n,e))}function Ut(e,n){return r=n,mt(Tt(t=e),Nt(t),Nt(r));var t,r}Mt.prototype.toString=function(){return"set ["+Un("; ",On((function(e){return String(e)}),this))+"]"},Mt.prototype.GetHashCode=function(){let e=0;const n=Rt(Nt(this));for(;n.MoveNext();){e=((0|e)<<1)+(0|l(n.Current))+631}return 0|Math.abs(e)},Mt.prototype.Equals=function(e){return 0===Ot(Tt(this),Nt(this),Nt(e))},Mt.prototype.CompareTo=function(e){return 0|Ot(Tt(this),Nt(this),Nt(e))},Mt.prototype[Symbol.iterator]=function(){return mn(Rt(Nt(this)))};const Yt=x((function(e,n){const t=new L(null);this.comparer=n,t.contents=this,this["entries@23"]=new Map([]),this["init@20-1"]=1,kn((function(e){Qt(t.contents,e[0],e[1])}),e)}));function Kt(e,n){const t=0|e.comparer.GetHashCode(n),r=i(e["entries@23"],t,null);return r[0]?[!0,t,r[1].findIndex((function(t){return e.comparer.Equals(n,t[0])}))]:[!1,t,-1]}function Zt(e,n){const t=Kt(e,n);switch(t[0]&&t[2]>-1?0:1){case 0:return N(e["entries@23"],t[1])[t[2]];case 1:return null}}function $t(e){e["entries@23"].clear()}function Xt(e){return 0|In((function(e){return e.length}),e["entries@23"].values(),{GetZero:()=>0,Add:(e,n)=>e+n})}function Qt(e,n,t){const r=Kt(e,n);switch(r[0]&&r[2]>-1?0:1){case 0:{let e;throw e=Wn(Ln("An item with the same key has already been added. Key: %A"))(n),new Error(e)}case 1:if(r[0]){N(e["entries@23"],r[1]).push([n,t])}else e["entries@23"].set(r[1],[[n,t]])}}function er(e,n){const t=Kt(e,n);switch(t[0]&&t[2]>-1?0:1){case 0:return N(e["entries@23"],t[1]).splice(t[2],1),!0;case 1:return!1}}Yt.prototype[Symbol.iterator]=function(){const e=this;return mn(gn(bn((function(){return En((function(e){return On((function(e){return e}),e)}),e["entries@23"].values())}))))},Yt.prototype.Add=function(e){Qt(this,e[0],e[1])},Yt.prototype.Clear=function(){$t(this)},Yt.prototype.Contains=function(e){const n=Zt(this,e[0]);switch(null!=n&&h(n[1],e[1])?0:1){case 0:return!0;case 1:return!1}},Yt.prototype.CopyTo=function(e,n){Rn((function(t,r){e[n+t]=r}),this)},Object.defineProperty(Yt.prototype,"Count",{get:function(){return 0|Xt(this)}}),Object.defineProperty(Yt.prototype,"IsReadOnly",{get:function(){return!1}}),Yt.prototype.Remove=function(e){const n=this,t=Zt(n,e[0]);if(null!=t){if(h(t[1],e[1])){er(n,e[0])}return!0}return!1},Object.defineProperty(Yt.prototype,"size",{get:function(){return 0|Xt(this)}}),Yt.prototype.clear=function(){$t(this)},Yt.prototype.delete=function(e){return er(this,e)},Yt.prototype.entries=function(){return On((function(e){return e}),this)},Yt.prototype.get=function(e){return function(e,n){const t=Zt(e,n);if(null!=t){return t[1]}throw new Error("The item was not found in collection")}(this,e)},Yt.prototype.has=function(e){return function(e,n){const t=Kt(e,n);switch(t[0]&&t[2]>-1?0:1){case 0:return!0;case 1:return!1}}(this,e)},Yt.prototype.keys=function(){return On((function(e){return e[0]}),this)},Yt.prototype.set=function(e,n){return function(e,n,t){const r=Kt(e,n);switch(r[0]&&r[2]>-1?0:1){case 0:N(e["entries@23"],r[1])[r[2]]=[n,t];break;case 1:if(r[0]){N(e["entries@23"],r[1]).push([n,t])}else e["entries@23"].set(r[1],[[n,t]])}}(this,e,n),this},Yt.prototype.values=function(){return On((function(e){return e[1]}),this)};const nr=x((function(e,n,...t){F.call(this,e,n,...t)}),F);function tr(e){return function e(n,t){e:for(;;){const r=n,i=t;switch(i.tag){case 1:return r+1|0;case 2:n=e(r+1,i.fields[2]),t=i.fields[3];continue e;default:return 0|r}break}}(0,e)}function rr(){return new nr(0,"MapEmpty")}function ir(e){switch(e.tag){case 1:return 1;case 2:return 0|e.fields[4];default:return 0}}function ar(e,n,t,r){switch(0===e.tag&&0===r.tag?0:1){case 0:return new nr(1,"MapOne",n,t);case 1:{const i=0|ir(e),a=0|ir(r);return new nr(2,"MapNode",n,t,e,r,(0|(i<a?a:i))+1)}}}function ur(e,n,t,r){const i=0|ir(e),a=0|ir(r);if(a>i+2){if(2===r.tag){if(ir(r.fields[2])>i+1){if(2===r.fields[2].tag)return ar(ar(e,n,t,r.fields[2].fields[2]),r.fields[2].fields[0],r.fields[2].fields[1],ar(r.fields[2].fields[3],r.fields[0],r.fields[1],r.fields[3]));throw new Error("rebalance")}return ar(ar(e,n,t,r.fields[2]),r.fields[0],r.fields[1],r.fields[3])}throw new Error("rebalance")}if(i>a+2){if(2===e.tag){if(ir(e.fields[3])>a+1){if(2===e.fields[3].tag)return ar(ar(e.fields[2],e.fields[0],e.fields[1],e.fields[3].fields[2]),e.fields[3].fields[0],e.fields[3].fields[1],ar(e.fields[3].fields[3],n,t,r));throw new Error("re  balance")}return ar(e.fields[2],e.fields[0],e.fields[1],ar(e.fields[3],n,t,r))}throw new Error("rebalance")}return ar(e,n,t,r)}function or(e,n,t,r){switch(r.tag){case 1:{const i=0|e.Compare(n,r.fields[0]);return i<0?new nr(2,"MapNode",n,t,new nr(0,"MapEmpty"),r,2):0===i?new nr(1,"MapOne",n,t):new nr(2,"MapNode",n,t,r,new nr(0,"MapEmpty"),2)}case 2:{const i=0|e.Compare(n,r.fields[0]);return i<0?ur(or(e,n,t,r.fields[2]),r.fields[0],r.fields[1],r.fields[3]):0===i?new nr(2,"MapNode",n,t,r.fields[2],r.fields[3],r.fields[4]):ur(r.fields[2],r.fields[0],r.fields[1],or(e,n,t,r.fields[3]))}default:return new nr(1,"MapOne",n,t)}}function sr(e,n,t){e:for(;;){const r=e,i=n,a=t;switch(a.tag){case 1:if(0===(0|r.Compare(i,a.fields[0])))return a.fields[1];throw new Error("key not found");case 2:{const u=0|r.Compare(i,a.fields[0]);if(u<0){e=r,n=i,t=a.fields[2];continue e}if(0===u)return a.fields[1];e=r,n=i,t=a.fields[3];continue e}default:throw new Error("key not found")}break}}function cr(e,n,t,r,i){return n(t,r)?or(e,t,r,i):i}function lr(e,n,t){return function e(n,t,r,i){e:for(;;){const a=n,u=t,o=r,s=i;switch(o.tag){case 1:return cr(a,u,o.fields[0],o.fields[1],s);case 2:{const c=e(a,u,o.fields[2],s),l=cr(a,u,o.fields[0],o.fields[1],c);n=a,t=u,r=o.fields[3],i=l;continue e}default:return s}break}}(e,n,t,rr())}function fr(e,n,t){e:for(;;){const r=e,i=n,a=t;switch(a.tag){case 1:return 0===r.Compare(i,a.fields[0]);case 2:{const u=0|r.Compare(i,a.fields[0]);if(u<0){e=r,n=i,t=a.fields[2];continue e}if(0===u)return!0;e=r,n=i,t=a.fields[3];continue e}default:return!1}break}}function dr(e,n){const t=gn(n);try{return function(e,n,t){for(;;){const r=e,i=n,a=t;if(!a.MoveNext())return i;{const u=a.Current;e=r,n=or(r,u[0],u[1],i),t=a}}}(e,rr(),t)}finally{r(t)&&t.Dispose()}}const wr=x((function(e,n){this.stack=e,this.started=n}),H);function hr(e){for(;;){const n=e;if(null==n.tail)return new j;if(1===n.head.tag)return n;2!==n.head.tag?e=n.tail:e=new j(n.head.fields[2],new j(new nr(1,"MapOne",n.head.fields[0],n.head.fields[1]),new j(n.head.fields[3],n.tail)))}}function pr(e){return new wr(hr(new j(e,new j)),!1)}function gr(e){if(e.started){const n=e.stack;if(null==n.tail)return function(){throw new Error("enumeration already finished")}();if(1===n.head.tag)return[n.head.fields[0],n.head.fields[1]];throw new Error("Please report error: Map iterator, unexpected stack for current")}return function(){throw new Error("enumeration not started")}()}const mr=x((function(e){this.s=e,this.i=pr(this.s)}));function yr(e){return function(e){return this instanceof mr?mr.call(this,e):new mr(e)}(e)}function vr(e){return Dn((function(e){return e.MoveNext()?[e.Current,e]:null}),yr(e))}Object.defineProperty(mr.prototype,"Current",{get:function(){return gr(this.i)}}),mr.prototype.MoveNext=function(){return function(e){if(e.started){const n=e.stack;if(null==n.tail)return!1;if(1===n.head.tag)return e.stack=hr(n.tail),!(null==e.stack.tail);throw new Error("Please report error: Map iterator, unexpected stack for moveNext")}return e.started=!0,!(null==e.stack.tail)}(this.i)},mr.prototype.Reset=function(){this.i=pr(this.s)},mr.prototype.Dispose=function(){};const Sr=x((function(e,n){this.comparer=e,this.tree=n}));function Er(e,n){return this instanceof Sr?Sr.call(this,e,n):new Sr(e,n)}function br(e){return e.tree}function Cr(e,n){return sr(e.comparer,n,e.tree)}function kr(e,n){return Er(e.comparer,function e(n,t){switch(t.tag){case 1:return new nr(1,"MapOne",t.fields[0],n(t.fields[0],t.fields[1]));case 2:{const r=e(n,t.fields[2]),i=n(t.fields[0],t.fields[1]),a=e(n,t.fields[3]);return new nr(2,"MapNode",t.fields[0],i,r,a,t.fields[4])}default:return rr()}}(n,e.tree))}function Rr(e){return tr(e.tree)}function Or(e,n){return fr(e.comparer,n,e.tree)}function Pr(e,n){return r=e,Er((t=n).comparer,lr(t.comparer,r,t.tree));var t,r}function Ar(e,n){return Er(n,dr(n,e))}function Mr(e){if(null!=e.tail)return e.head;throw new Error("List was empty")}function Ir(e,n,t){return function(e,n,t,r){for(;;){const i=e,a=n,u=t,o=r;if(null==o.tail)return u;e=i,n=a+1,t=i(a,u,o.head),r=o.tail}}(e,0,n,t)}function Tr(e,n,t){for(;;){const r=e,i=n,a=t;if(null==a.tail)return i;e=r,n=r(i,a.head),t=a.tail}}function Nr(e){return Tr((function(e,n){return new j(n,e)}),new j,e)}function Dr(e,n,t){return Tr((function(n,t){return e(t,n)}),t,Nr(n))}function xr(e){return Nr(Cn((function(e,n){return new j(n,e)}),new j,e))}function Gr(e){return Tr((function(e,n){return e+1}),0,e)}function _r(e,n){return Tr((function(e,n){return new j(n,e)}),n,Nr(e))}function jr(e,n){return Nr(Tr((function(n,t){return new j(e(t),n)}),new j,n))}function Fr(e){return n=function(e,n){return[e,n]},t=e,Nr(Ir((function(e,t,r){return new j(n(e,r),t)}),new j,t));var n,t}function Br(e,n){Tr((function(n,t){e(t)}),null,n)}function Vr(e){let n=new j;for(let t=function(e){if(f(e))return e.length;{let n=0;for(const t of e)n++;return n}}(e)-1;t>=0;t--)n=new j(e[t],n);return n}function qr(e,n){return function(e,n,t){e:for(;;){const r=e,i=n,a=t;if(null!=a.tail){const u=r(i,a.head);if(null==u){e=r,n=i+1,t=a.tail;continue e}return u}return null}}(e,0,n)}function Hr(e,n){return qr((function(n,t){return e(n,t)?ee(t):null}),n)}function Lr(e,n){return Nr(Tr((function(n,t){return e(t)?new j(t,n):n}),new j,n))}function Wr(e,n){return Nr(Tr((function(n,t){const r=e(t);if(null==r)return n;return new j(ne(r),n)}),new j,n))}function zr(e,n){if(e<0)throw new Error("The input must be non-negative.");var t,r,i;switch(0===e?t=0:1===e&&null!=n.tail?t=1:(t=2,r=e,i=n),t){case 0:return n;case 1:return n.tail;case 2:return function(e,n){for(;;){const t=e,r=n;if(0===t)return r;if(null==r.tail)throw new Error("The input sequence has an insufficient number of elements.");e=t-1,n=r.tail}}(r,i)}}function Jr(e,n,t,r){for(;;){const i=e,a=n,u=t,o=r;if(0===a)return[Nr(u),o];if(null==o.tail){if(i)throw new Error("The input sequence has an insufficient number of elements.");return[Nr(u),o]}e=i,n=a-1,t=new j(o.head,u),r=o.tail}}function Ur(e,n){return null!=n.tail?null==n.tail.tail?e(n.head)?n:n.tail:e(n.head)?new j(n.head,Ur(e,n.tail)):new j:n}Sr.prototype.toString=function(){return"map ["+Un("; ",On((function(e){return Wn(Ln("(%A, %A)"))(e[0])(e[1])}),this))+"]"},Sr.prototype.GetHashCode=function(){const e=function(e,n){return(e<<1)+n+631};let n=0;const t=yr(br(this));for(;t.MoveNext();){const r=t.Current;n=e(n,l(r[0])),n=e(n,l(r[1]))}return 0|Math.abs(n)},Sr.prototype.Equals=function(e){return 0===this.CompareTo(e)},Sr.prototype[Symbol.iterator]=function(){return mn(yr(this.tree))},Sr.prototype.CompareTo=function(e){const n=this;let t=0,i=!1;const a=yr(br(n));try{const u=yr(br(e));try{for(;!i&&0===t;){const e=[a.MoveNext(),u.MoveNext()];if(e[0])if(e[1]){const e=a.Current,r=u.Current,i=0|n.comparer.Compare(e[0],r[0]);t=0!==i?i:v(e[1],r[1])}else t=1;else e[1]?t=-1:i=!0}return 0|t}finally{r(u)&&u.Dispose()}}finally{r(a)&&a.Dispose()}},Object.defineProperty(Sr.prototype,"size",{get:function(){return 0|Rr(this)}}),Sr.prototype.clear=function(){throw new Error("Map cannot be mutated")},Sr.prototype.delete=function(e){throw new Error("Map cannot be mutated")},Sr.prototype.entries=function(){return vr(br(this))},Sr.prototype.get=function(e){return Cr(this,e)},Sr.prototype.has=function(e){return Or(this,e)},Sr.prototype.keys=function(){return On((function(e){return e[0]}),vr(br(this)))},Sr.prototype.set=function(e,n){throw new Error("Map cannot be mutated")},Sr.prototype.values=function(){return On((function(e){return e[1]}),vr(br(this)))};var Yr=x((function(e,n){for(var t=arguments.length,r=new Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];F.call.apply(F,[this,e,n].concat(r))}),F);function Kr(e,n,t){var r,i=0|zt(t);if(i===e){var a=n(t);return new ie(0,"Ok",a)}return r=Wn(Ln("%A should have size %i, but has size %i"))(t)(e)(i),new ie(1,"Error",r)}function Zr(e,n,t){var r,i=Kr(e,n,t);return 1===(r=i).tag?zn(Ln("An Error (not Ok) was returned: %s"))(r.fields[0]):r.fields[0]}function $r(e){return 1===e.tag?zn(Ln("%A"))(e.fields[0]):e.fields[0]}var Xr=x((function(){}));function Qr(e,n,t){return ue(t,n)}function ei(e,n){return n}!function(){this instanceof Xr?Xr.call(this):new Xr}();var ni=x((function(e,n){for(var t=arguments.length,r=new Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];F.call.apply(F,[this,e,n].concat(r))}),F);var ti=x((function(e,n){for(var t=arguments.length,r=new Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];F.call.apply(F,[this,e,n].concat(r))}),F);var ri=Jt([new ti(0,"Algiers"),new ti(1,"Atlanta"),new ti(2,"Baghdad"),new ti(3,"Bangkok"),new ti(4,"Beijing"),new ti(5,"Bogota"),new ti(6,"BuenosAires"),new ti(7,"Cairo"),new ti(8,"Chennai"),new ti(9,"Chicago"),new ti(10,"Delhi"),new ti(11,"Essen"),new ti(12,"HoChiMinhCity"),new ti(13,"HongKong"),new ti(14,"Istanbul"),new ti(15,"Jakarta"),new ti(16,"Johannesburg"),new ti(17,"Karachi"),new ti(18,"Khartoum"),new ti(19,"Kinshasa"),new ti(20,"Kolkata"),new ti(21,"Lagos"),new ti(22,"Lima"),new ti(23,"London"),new ti(24,"LosAngeles"),new ti(25,"Madrid"),new ti(26,"Manila"),new ti(27,"MexicoCity"),new ti(28,"Miami"),new ti(29,"Milan"),new ti(30,"Montreal"),new ti(31,"Moscow"),new ti(32,"Mumbai"),new ti(33,"NewYork"),new ti(34,"Osaka"),new ti(35,"Paris"),new ti(36,"Riyadh"),new ti(37,"SanFrancisco"),new ti(38,"Santiago"),new ti(39,"SaoPaulo"),new ti(40,"Seoul"),new ti(41,"Shanghai"),new ti(42,"StPetersburg"),new ti(43,"Sydney"),new ti(44,"Taipei"),new ti(45,"Tehran"),new ti(46,"Tokyo"),new ti(47,"Washington")],{Compare:function(e,n){return e.CompareTo(n)}}),ii=x((function(e,n){for(var t=arguments.length,r=new Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];F.call.apply(F,[this,e,n].concat(r))}),F);function ai(e){return n="DeckSize",t=function(e){return new ii(0,"DeckSize",e)},i=48,(a=e)<(r=0)?(u=Wn(Ln("%s: Must not be less than %i"))(n)(r),new ie(1,"Error",u)):a>i?(o=Wn(Ln("%s: Must not be greater than %i"))(n)(i),new ie(1,"Error",o)):new ie(0,"Ok",t(a));var n,t,r,i,a,u,o}var ui=x((function(e,n){for(var t=arguments.length,r=new Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];F.call.apply(F,[this,e,n].concat(r))}),F);function oi(e){var n,t;if(function(e,n){for(;;){const t=e,r=n;if(null==r.tail)return!1;if(t(r.head))return!0;e=t,n=r.tail}}(_t,e))return n=jr((function(e){return e[0]}),Lr((function(e){return _t(e[1])}),Fr(e))),t=Wn(Ln("%A contains empty sets at indexes %A"))(e)(n),new ie(1,"Error",t);var r,i,a=0|zt(r=Lt((function(n){return Gr(Lr((function(e){return jt(n,e)}),e))>=2}),qt(e,{Compare:function(e,n){return e.CompareTo(n)}})));if(0===a){var u=new ui(0,"Deck",e);return new ie(0,"Ok",u)}return i=Wn(Ln("%A contains %d duplicates: %A"))(e)(a)(r),new ie(1,"Error",i)}function si(e){return e.fields[0]}function ci(e){return qt(e.fields[0],{Compare:function(e,n){return e.CompareTo(n)}})}function li(e){return null==si(e).tail}function fi(e){return function(e){var n=ai(e);if(1===n.tag)throw new Error(n.fields[0]);return n.fields[0]}(0|zt(ci(e)))}function di(e,n){return oi(Lr((function(e){return!_t(e)}),jr((function(n){return xt(n,e)}),si(n))))}function wi(e){var n,t,r;return zr(1,(n=function(e,n){return[n,e[1]+zt(n)]},t=[Ht({Compare:function(e,n){return e.CompareTo(n)}}),0],r=e.fields[0],xr(Pn(n,t,r))))}function hi(e,n){return qt(jr((function(e){return e[0]}),Ur((function(n){return n[1]<=e.fields[0]}),wi(n))),{Compare:function(e,n){return e.CompareTo(n)}})}function pi(e,n){var t,r,i,a;if(e.fields[0]>fi(n).fields[0])t=null;else if(0===e.fields[0])t=new j;else{var u,o=wi(n);i=function(n){return n[1]<e.fields[0]},a=o;var s=[jr((function(e){return e[0]}),(u=Tr((function(e,n){return i(n)?[new j(n,e[0]),e[1]]:[e[0],new j(n,e[1])]}),[new j,new j],Nr(a)))[0]),jr((function(e){return e[0]}),u[1])],c=(r=0,Hr((function(e,n){return r===e}),s[1]));if(null==c)t=s[0];else t=_r(s[0],new j(c,new j))}return null==t?ci(n):qt(t,{Compare:function(e,n){return e.CompareTo(n)}})}function gi(e){return function(e){for(;;){const n=e;if(null==n.tail)return null;if(null==n.tail.tail)return ee(n.head);e=n.tail}}(si(e))}function mi(e,n){return oi(new j(e,n.fields[0]))}var yi=x((function(e,n){for(var t=arguments.length,r=new Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];F.call.apply(F,[this,e,n].concat(r))}),F);var vi=new yi(0,"DiscardPile",Ht({Compare:function(e,n){return e.CompareTo(n)}}));function Si(e){return e.fields[0]}function Ei(e,n){var t;if(jt(e,n.fields[0]))return t=Wn(Ln("Tried to add %A to DiscardPile %A, but it is already present"))(e)(n.fields[0]),new ie(1,"Error",t);var r,i=Ft(e,n.fields[0]);return r=new yi(0,"DiscardPile",i),new ie(0,"Ok",r)}function bi(e,n){return t=function(e,n){return ue((function(e){return Ei(n,e)}),e)},r=new ie(0,"Ok",n),pt(t,r,Nt(e));var t,r}var Ci=x((function(e,n){for(var t=arguments.length,r=new Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];F.call.apply(F,[this,e,n].concat(r))}),F);var ki=new Ci(0,"Empty");function Ri(e){switch(e.tag){case 1:return!0;case 2:return!1;default:return!0}}function Oi(e,n){var t;switch(t=Wn(Ln("Cannot add %A to removed cards; "))(e),n.tag){case 1:if(h(e,n.fields[0]))return new ie(1,"Error",t+"it is already present.");var r=new Ci(2,"TwoCards",Jt([e,n.fields[0]],{Compare:function(e,n){return e.CompareTo(n)}}));return new ie(0,"Ok",r);case 2:var i,a;i=Mr(xr(n.fields[0])),a=Mr(function(e){if(null!=e.tail)return e.tail;throw new Error("List was empty")}(xr(n.fields[0])));var u=t+Wn(Ln("no more than two cards can be removed, and the following\r\n                cards already have been: %A and %A"))(i)(a);return new ie(1,"Error",u);default:var o=new Ci(1,"OneCard",e);return new ie(0,"Ok",o)}}function Pi(e){switch(e.tag){case 1:return Bt(e.fields[0],{Compare:function(e,n){return e.CompareTo(n)}});case 2:return e.fields[0];default:return Ht({Compare:function(e,n){return e.CompareTo(n)}})}}var Ai=x((function(e,n){for(var t=arguments.length,r=new Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];F.call.apply(F,[this,e,n].concat(r))}),F);var Mi=x((function(e,n){for(var t=arguments.length,r=new Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];F.call.apply(F,[this,e,n].concat(r))}),F);function Ii(e){switch(e.tag){case 1:case 2:return new Ai(0,"Two");case 3:case 4:return new Ai(1,"Three");case 5:case 6:return new Ai(2,"Four");default:return new Ai(0,"Two")}}var Ti;Ti=new Mi(6,"SeventhPosition");var Ni=x((function(e,n,t,r){this.Deck=e,this.DiscardPile=n,this.RemovedCards=t,this.TrackPosition=r}),H);var Di=x((function(e,n){for(var t=arguments.length,r=new Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];F.call.apply(F,[this,e,n].concat(r))}),F);function xi(e,n,t,r){var i=function(r){var i=function(e){return jt(r,e)?1:0},a=ci(e),u=Si(n),o=Pi(t);return i(a)+i(u)+i(o)|0},a=Lt((function(e){return 0===i(e)}),ri),u=Lt((function(e){return i(e)>1}),ri),o=[_t(a),_t(u)];switch(o[0]?o[1]?2:1:0){case 0:var s;return s=Wn(Ln("%A not in any of the deck, discard pile, removed cards"))(a),new ie(1,"Error",s);case 1:var c;return c=Wn(Ln("%A in multiple of the deck, discard pile, removed cards"))(u),new ie(1,"Error",c);case 2:var l,f=new Ni(e,n,t,r);return l=new Di(0,"GameState",f),new ie(0,"Ok",l)}}function Gi(e){return e.fields[0].Deck}function _i(e){return e.fields[0].DiscardPile}function ji(e){return e.fields[0].RemovedCards}function Fi(e){return e.fields[0].TrackPosition}function Bi(e,n,t){return xi(n,t,e.fields[0].RemovedCards,e.fields[0].TrackPosition)}function Vi(e){return Ii(Fi(e))}function qi(e){return 0|function(e){switch(e.tag){case 1:return 3;case 2:return 4;default:return 2}}(Ii(Fi(e)))}function Hi(e,n){var t,r=0|zt(n),i=0|qi(e);return r===i?null:(t=Wn(Ln("Tried to infect %i cities when infection rate is %i"))(r)(i),new ni(0,"ValidationError",t))}function Li(e,n,t){var r=e(n,t);if(null==r)return Qr(0,function(e,n){var t=0|zt(n),r=hi(new ii(0,"DeckSize",t),e),i=Ut(r,n),a=pi(new ii(0,"DeckSize",t),e),u=Ut(n,a);switch(i?u?2:1:0){case 0:var o;return o=Wn(Ln("When drawing %i cards, the following must be drawn: %A"))(t)(r),new ie(1,"Error",o);case 1:var s;return s=Wn(Ln("When drawing %i cards, the cards that can be drawn are: %A"))(t)(a),new ie(1,"Error",s);case 2:return di(n,e)}}(Gi(n),t),(function(e){var r;return Qr(0,(r=_i(n),bi(t,r)),(function(t){return ei(0,Bi(n,e,t))}))}));var i=r.fields[0];return new ie(1,"Error",i)}function Wi(e,n){var t,r,i,a,u,o,s,c,l;switch(t=function(e,n){var t,r=Vt(e,n.fields[0]);if(r.Equals(n.fields[0]))return t=Wn(Ln("%A is not present in DiscardPile %A, so cannot remove it."))(e)(n.fields[0]),new ie(1,"Error",t);var i=new yi(0,"DiscardPile",r);return new ie(0,"Ok",i)}(e,_i(n)),r=Oi(e,ji(n)),1===t.tag?(r.tag,i=1,o=t.fields[0]):1===r.tag?(i=1,o=r.fields[0]):(i=0,a=t.fields[0],u=r.fields[0]),i){case 0:return c=a,l=u,xi((s=n).fields[0].Deck,c,l,s.fields[0].TrackPosition);case 1:return new ie(1,"Error",o)}}function zi(e,n){var t=function(e){return ae((function(n){return r=n,new Di(0,"GameState",new Ni((t=e).fields[0].Deck,t.fields[0].DiscardPile,t.fields[0].RemovedCards,r));var t,r}),function(e){switch(e.tag){case 1:return new ie(0,"Ok",new Mi(2,"ThirdPosition"));case 2:return new ie(0,"Ok",new Mi(3,"FourthPosition"));case 3:return new ie(0,"Ok",new Mi(4,"FifthPosition"));case 4:return new ie(0,"Ok",new Mi(5,"SixthPosition"));case 5:return new ie(0,"Ok",new Mi(6,"SeventhPosition"));case 6:return new ie(1,"Error","Cannot advance from seventh position of infection rate track");default:return new ie(0,"Ok",new Mi(1,"SecondPosition"))}}(Fi(e)))},r=function(e){var t;return Qr(0,(t=Gi(e),function(e,n){var t=gi(n);switch(null!=t&&jt(e,t)?0:1){case 0:return di(Bt(e,{Compare:function(e,n){return e.CompareTo(n)}}),n);case 1:return null==t?new ie(1,"Error","Deck is empty."):(r=Wn(Ln("%A cannot be at the bottom of %A."))(e)(n),new ie(1,"Error",r));var r}}(n,t)),(function(t){var r;return Qr(0,(r=_i(e),Ei(n,r)),(function(n){return ei(0,Bi(e,t,n))}))}))},i=function(e){var n,t=_i(e);if(_t(t.fields[0]))n=new ie(0,"Ok",e);else{var r=Gi(e);n=ue((function(n){return Bi(e,n,vi)}),mi(t.fields[0],r))}return $r(n)},a=function(e,n,t){return ae(n,e(t))},u=function(e,n,t){return ue(n,e(t))};if(null==e)return T(1,a,[T(1,u,[t,r]),i]);var o=e;return T(1,a,[T(1,u,[T(1,u,[t,r]),o]),i])}var Ji=function(e){return zi(null,e)};function Ui(e,n){return zi((function(e){return Wi(n,e)}),e)}var Yi=x((function(e,n){this.SelectedCards=e,this.ErrorMessageOpt=n}),H);var Ki=x((function(e,n){this.GameState=e,this.ErrorMessageOpt=n}),H);function Zi(e){return new Ki(e,null)}var $i=x((function(e,n,t){this.CardsToSelected=e,this.GameState=n,this.ErrorMessageOpt=t}),H);var Xi=x((function(e,n,t){this.GameState=e,this.InfectedOpt=n,this.ErrorMessageOpt=t}),H);var Qi=x((function(e,n,t,r){this.GameState=e,this.Infected=n,this.IsPlayingResilientPopulationOpt=t,this.ErrorMessageOpt=r}),H);var ea=x((function(e,n,t,r){this.GameState=e,this.Infected=n,this.ResilientOpt=t,this.ErrorMessageOpt=r}),H);var na=x((function(e,n){for(var t=arguments.length,r=new Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];F.call.apply(F,[this,e,n].concat(r))}),F);function ta(e){var n;return n=new Xi(e,null,null),new na(0,"SelectingInfectedData",n)}var ra=x((function(e,n,t){this.GameState=e,this.ResilientOpt=n,this.ErrorMessageOpt=t}),H);var ia=x((function(e,n){this.Infected=e,this.ResilientOpt=n}),H);var aa=x((function(e,n){for(var t=arguments.length,r=new Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];F.call.apply(F,[this,e,n].concat(r))}),F);var ua=x((function(e,n){for(var t=arguments.length,r=new Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];F.call.apply(F,[this,e,n].concat(r))}),F);function oa(e){switch(e.tag){case 1:return!1;case 3:return!0;case 2:return!1;case 4:return!0;case 5:return!1;case 6:return!0;case 7:return!1;case 8:return!0;case 9:case 10:return!1;case 11:return!0;case 12:case 13:return!1;case 14:return!0;case 15:return!1;case 16:case 17:return!0;case 18:return!1;case 19:return!0;case 20:return!1;case 21:default:return!0}}var sa=x((function(e,n){this.Events=e,this.State=n}),H);function ca(){return new Yi(Ht({Compare:function(e,n){return e.CompareTo(n)}}),null)}function la(e){return Zi(function(e){var n=e.fields[0];return $r(Qr(0,oi(new j(xt(ri,n),new j)),(function(e){return ei(0,xi(e,new yi(0,"DiscardPile",n),ki,new Mi(0,"FirstPosition")))})))}(Zr(9,(function(e){return new Yr(0,"NineDistinct",e)}),e.SelectedCards)))}function fa(e){var n,t,r,i,a,u;return n=Ar(Wt((function(n){var t,r,i,a;return[n,(r=e.GameState,i=Gi(r),a=0|qi(r),t=hi(new ii(0,"DeckSize",a),i),jt(n,t))]}),(t=e.GameState,r=Gi(t),i=0|qi(t),pi(new ii(0,"DeckSize",i),r)),{Compare:y}),{Compare:function(e,n){return e.CompareTo(n)}}),a=n,u=e.GameState,new $i(a,u,null)}function da(e){return new ra(e,null,null)}function wa(e,n){var t,r=(t=function(n,t){return h(n,e)?!t:t},kr(n.CardsToSelected,t));return new $i(r,n.GameState,n.ErrorMessageOpt)}function ha(e,n){var t,r,i=(r=n.GameState,function(e){return Li(Hi,r,e)})(e);1===i.tag?t=zn(Ln("Bug in processFinishInfecting validation. Tried to\r\n                    apply InfectingFinished, but get an error: %s"))(i.fields[0]):t=i.fields[0];return Zi(t)}function pa(e,n){switch(n.tag){case 1:return new na(1,"SelectingIsPlayingResilientPopulationData",n.fields[0]);case 2:return new na(2,"SelectingResilientData",n.fields[0]);default:var t;return r=n.fields[0].GameState,t=new Qi(r,e,null,null),new na(1,"SelectingIsPlayingResilientPopulationData",t)}var r}function ga(e,n){switch(n.tag){case 1:var t;return r=n.fields[0].GameState,t=new ea(r,e,null,null),new na(2,"SelectingResilientData",t);case 2:return new na(2,"SelectingResilientData",n.fields[0]);default:return new na(0,"SelectingInfectedData",n.fields[0])}var r}function ma(e){switch(e.tag){case 1:return new aa(1,"Starting",e.fields[0]);case 2:return new aa(2,"Viewing",e.fields[0]);case 3:return new aa(3,"Infecting",e.fields[0]);case 4:return new aa(4,"ResolvingEpidemic",e.fields[0]);case 5:return new aa(5,"ApplyingResilientPopulation",e.fields[0]);default:var n=ca();return new aa(1,"Starting",n)}}function ya(e,n){switch(n.tag){case 1:var t=(i=e,a=n.fields[0],u=jt(i,a.SelectedCards)?Vt(i,a.SelectedCards):Ft(i,a.SelectedCards),new Yi(u,a.ErrorMessageOpt));return new aa(1,"Starting",t);case 2:return new aa(2,"Viewing",n.fields[0]);case 3:var r=wa(e,n.fields[0]);return new aa(3,"Infecting",r);case 4:return new aa(4,"ResolvingEpidemic",n.fields[0]);case 5:return new aa(5,"ApplyingResilientPopulation",n.fields[0]);default:return new aa(0,"New")}var i,a,u}function va(e,n){switch(n.tag){case 1:var t=(r=e,i=n.fields[0],a=r,new Yi(i.SelectedCards,a));return new aa(1,"Starting",t);case 2:return new aa(2,"Viewing",n.fields[0]);case 3:return new aa(3,"Infecting",n.fields[0]);case 4:return new aa(4,"ResolvingEpidemic",n.fields[0]);case 5:return new aa(5,"ApplyingResilientPopulation",n.fields[0]);default:return new aa(0,"New")}var r,i,a}function Sa(e){switch(e.tag){case 1:var n=la(e.fields[0]);return new aa(2,"Viewing",n);case 2:return new aa(2,"Viewing",e.fields[0]);case 3:return new aa(3,"Infecting",e.fields[0]);case 4:return new aa(4,"ResolvingEpidemic",e.fields[0]);case 5:return new aa(5,"ApplyingResilientPopulation",e.fields[0]);default:return new aa(0,"New")}}function Ea(e){switch(e.tag){case 1:return new aa(1,"Starting",e.fields[0]);case 2:var n=fa(e.fields[0]);return new aa(3,"Infecting",n);case 3:return new aa(3,"Infecting",e.fields[0]);case 4:return new aa(4,"ResolvingEpidemic",e.fields[0]);case 5:return new aa(5,"ApplyingResilientPopulation",e.fields[0]);default:return new aa(0,"New")}}function ba(e,n){switch(n.tag){case 1:return new aa(1,"Starting",n.fields[0]);case 2:return new aa(2,"Viewing",n.fields[0]);case 3:var t=(r=e,i=n.fields[0],a=r,new $i(i.CardsToSelected,i.GameState,a));return new aa(3,"Infecting",t);case 4:return new aa(4,"ResolvingEpidemic",n.fields[0]);case 5:return new aa(5,"ApplyingResilientPopulation",n.fields[0]);default:return new aa(0,"New")}var r,i,a}function Ca(e,n){switch(n.tag){case 1:return new aa(1,"Starting",n.fields[0]);case 2:var t=(r=e,i=n.fields[0],a=r,new Ki(i.GameState,a));return new aa(2,"Viewing",t);case 3:return new aa(3,"Infecting",n.fields[0]);case 4:return new aa(4,"ResolvingEpidemic",n.fields[0]);case 5:return new aa(5,"ApplyingResilientPopulation",n.fields[0]);default:return new aa(0,"New")}var r,i,a}function ka(e){switch(e.tag){case 1:return new aa(1,"Starting",e.fields[0]);case 2:var n=ta(e.fields[0].GameState);return new aa(4,"ResolvingEpidemic",n);case 3:return new aa(3,"Infecting",e.fields[0]);case 4:return new aa(4,"ResolvingEpidemic",e.fields[0]);case 5:return new aa(5,"ApplyingResilientPopulation",e.fields[0]);default:return new aa(0,"New")}}function Ra(e,n){switch(n.tag){case 1:return new aa(1,"Starting",n.fields[0]);case 2:return new aa(2,"Viewing",n.fields[0]);case 3:return new aa(3,"Infecting",n.fields[0]);case 4:var t=function(e,n){var t,r;switch(n.tag){case 1:return new na(1,"SelectingIsPlayingResilientPopulationData",n.fields[0]);case 2:return new na(2,"SelectingResilientData",(t=e,new ea(n.fields[0].GameState,n.fields[0].Infected,t,n.fields[0].ErrorMessageOpt)));default:return new na(0,"SelectingInfectedData",(r=e,new Xi(n.fields[0].GameState,r,n.fields[0].ErrorMessageOpt)))}}(e,n.fields[0]);return new aa(4,"ResolvingEpidemic",t);case 5:var r=(i=e,a=n.fields[0],u=i,new ra(a.GameState,u,a.ErrorMessageOpt));return new aa(5,"ApplyingResilientPopulation",r);default:return new aa(0,"New")}var i,a,u}function Oa(e,n){switch(n.tag){case 1:return new aa(1,"Starting",n.fields[0]);case 2:return new aa(2,"Viewing",n.fields[0]);case 3:return new aa(3,"Infecting",n.fields[0]);case 4:var t=function(e,n){var t;switch(n.tag){case 1:return new na(1,"SelectingIsPlayingResilientPopulationData",n.fields[0]);case 2:return new na(2,"SelectingResilientData",n.fields[0]);default:return new na(0,"SelectingInfectedData",(t=e,new Xi(n.fields[0].GameState,n.fields[0].InfectedOpt,t)))}}(e,n.fields[0]);return new aa(4,"ResolvingEpidemic",t);case 5:return new aa(5,"ApplyingResilientPopulation",n.fields[0]);default:return new aa(0,"New")}}function Pa(e,n){switch(n.tag){case 1:return new aa(1,"Starting",n.fields[0]);case 2:return new aa(2,"Viewing",n.fields[0]);case 3:return new aa(3,"Infecting",n.fields[0]);case 4:var t=function(e,n){switch(n.tag){case 1:var t,r=e;return t=new Qi(n.fields[0].GameState,n.fields[0].Infected,r,n.fields[0].ErrorMessageOpt),new na(1,"SelectingIsPlayingResilientPopulationData",t);case 2:return new na(2,"SelectingResilientData",n.fields[0]);default:return new na(0,"SelectingInfectedData",n.fields[0])}}(e,n.fields[0]);return new aa(4,"ResolvingEpidemic",t);case 5:return new aa(5,"ApplyingResilientPopulation",n.fields[0]);default:return new aa(0,"New")}}function Aa(e,n){switch(n.tag){case 1:return new aa(1,"Starting",n.fields[0]);case 2:return new aa(2,"Viewing",n.fields[0]);case 3:return new aa(3,"Infecting",n.fields[0]);case 4:var t=function(e,n){switch(n.tag){case 1:var t,r=e;return t=new Qi(n.fields[0].GameState,n.fields[0].Infected,n.fields[0].IsPlayingResilientPopulationOpt,r),new na(1,"SelectingIsPlayingResilientPopulationData",t);case 2:return new na(2,"SelectingResilientData",n.fields[0]);default:return new na(0,"SelectingInfectedData",n.fields[0])}}(e,n.fields[0]);return new aa(4,"ResolvingEpidemic",t);case 5:return new aa(5,"ApplyingResilientPopulation",n.fields[0]);default:return new aa(0,"New")}}function Ma(e,n){switch(n.tag){case 1:return new aa(1,"Starting",n.fields[0]);case 2:return new aa(2,"Viewing",n.fields[0]);case 3:return new aa(3,"Infecting",n.fields[0]);case 4:var t=function(e,n){var t,r,i;switch(n.tag){case 1:return new na(1,"SelectingIsPlayingResilientPopulationData",(t=e,new Qi(n.fields[0].GameState,n.fields[0].Infected,n.fields[0].IsPlayingResilientPopulationOpt,t)));case 2:return new na(2,"SelectingResilientData",(r=e,new ea(n.fields[0].GameState,n.fields[0].Infected,n.fields[0].ResilientOpt,r)));default:return new na(0,"SelectingInfectedData",(i=e,new Xi(n.fields[0].GameState,n.fields[0].InfectedOpt,i)))}}(e,n.fields[0]);return new aa(4,"ResolvingEpidemic",t);case 5:return new aa(5,"ApplyingResilientPopulation",n.fields[0]);default:return new aa(0,"New")}}function Ia(e,n){switch(n.tag){case 1:return new aa(1,"Starting",n.fields[0]);case 2:return new aa(2,"Viewing",n.fields[0]);case 3:return new aa(3,"Infecting",n.fields[0]);case 4:var t=function(e,n){var t,r=function(e){switch(e.tag){case 1:case 2:default:return e.fields[0].GameState}}(n);if(null==e.ResilientOpt)t=Ji(e.Infected)(r);else{var i=e.ResilientOpt;t=Ui(e.Infected,i)(r)}return 1===t.tag?zn(Ln("Bug in processFinishResolvingEpidemic validation.\r\n                    Tried to apply ResolvingEpidemicFinished, but get an error:\r\n                    %s"))(t.fields[0]):Zi(t.fields[0])}(e,n.fields[0]);return new aa(2,"Viewing",t);case 5:return new aa(5,"ApplyingResilientPopulation",n.fields[0]);default:return new aa(0,"New")}}function Ta(e){switch(e.tag){case 1:return new aa(1,"Starting",e.fields[0]);case 2:var n=da(e.fields[0].GameState);return new aa(5,"ApplyingResilientPopulation",n);case 3:return new aa(3,"Infecting",e.fields[0]);case 4:return new aa(4,"ResolvingEpidemic",e.fields[0]);case 5:return new aa(5,"ApplyingResilientPopulation",e.fields[0]);default:return new aa(0,"New")}}function Na(e,n){switch(n.tag){case 1:return new aa(1,"Starting",n.fields[0]);case 2:return new aa(2,"Viewing",n.fields[0]);case 3:return new aa(3,"Infecting",n.fields[0]);case 4:return new aa(4,"ResolvingEpidemic",n.fields[0]);case 5:var t=(r=e,i=n.fields[0],a=r,new ra(i.GameState,i.ResilientOpt,a));return new aa(5,"ApplyingResilientPopulation",t);default:return new aa(0,"New")}var r,i,a}function Da(e){switch(e.tag){case 1:return new aa(1,"Starting",e.fields[0]);case 2:return new aa(2,"Viewing",e.fields[0]);case 3:return new aa(3,"Infecting",e.fields[0]);case 4:return new aa(4,"ResolvingEpidemic",e.fields[0]);case 5:var n=function(e){var n=function(e){return zn(Ln("Bug in processFinishApplyingResilientPopulation validation.\r\n                    Tried to apply ApplyingResilientPopulationFinished, but got\r\n                    an error: %s"))(e)};if(null==e.ResilientOpt)return n("No city chosen to remove.");var t=Wi(e.ResilientOpt,e.GameState);return 1===t.tag?n(t.fields[0]):Zi(t.fields[0])}(e.fields[0]);return new aa(2,"Viewing",n);default:return new aa(0,"New")}}function xa(e){return function(n){return function(e,n){var t,r,i,a,u,o,s;switch(n.tag){case 1:return new aa(1,"Starting",(t=e,new Yi(n.fields[0].SelectedCards,t)));case 2:return new aa(2,"Viewing",(r=e,new Ki(n.fields[0].GameState,r)));case 3:return new aa(3,"Infecting",(i=e,new $i(n.fields[0].CardsToSelected,n.fields[0].GameState,i)));case 4:var c=1===n.fields[0].tag?new na(1,"SelectingIsPlayingResilientPopulationData",(a=e,new Qi(n.fields[0].fields[0].GameState,n.fields[0].fields[0].Infected,n.fields[0].fields[0].IsPlayingResilientPopulationOpt,a))):2===n.fields[0].tag?new na(2,"SelectingResilientData",(u=e,new ea(n.fields[0].fields[0].GameState,n.fields[0].fields[0].Infected,n.fields[0].fields[0].ResilientOpt,u))):new na(0,"SelectingInfectedData",(o=e,new Xi(n.fields[0].fields[0].GameState,n.fields[0].fields[0].InfectedOpt,o)));return new aa(4,"ResolvingEpidemic",c);case 5:return new aa(5,"ApplyingResilientPopulation",(s=e,new ra(n.fields[0].GameState,n.fields[0].ResilientOpt,s)));default:return new aa(0,"New")}}(e,n)}}function Ga(e){switch(e.tag){case 1:return function(n){return ya(e.fields[0],n)};case 3:return Sa;case 2:return function(n){return va(e.fields[0],n)};case 4:return Ea;case 5:return function(n){return ba(e.fields[0],n)};case 6:return function(n){return function(e,n){switch(n.tag){case 1:return new aa(1,"Starting",n.fields[0]);case 2:return new aa(2,"Viewing",n.fields[0]);case 3:var t=ha(e,n.fields[0]);return new aa(2,"Viewing",t);case 4:return new aa(4,"ResolvingEpidemic",n.fields[0]);case 5:return new aa(5,"ApplyingResilientPopulation",n.fields[0]);default:return new aa(0,"New")}}(e.fields[0],n)};case 7:return function(n){return Ca(e.fields[0],n)};case 8:return ka;case 9:return function(n){return Ra(e.fields[0],n)};case 10:return function(n){return Oa(e.fields[0],n)};case 11:return function(n){return function(e,n){switch(n.tag){case 1:return new aa(1,"Starting",n.fields[0]);case 2:return new aa(2,"Viewing",n.fields[0]);case 3:return new aa(3,"Infecting",n.fields[0]);case 4:var t=pa(e,n.fields[0]);return new aa(4,"ResolvingEpidemic",t);case 5:return new aa(5,"ApplyingResilientPopulation",n.fields[0]);default:return new aa(0,"New")}}(e.fields[0],n)};case 12:return function(n){return Pa(e.fields[0],n)};case 13:return function(n){return Aa(e.fields[0],n)};case 14:return function(n){return function(e,n){switch(n.tag){case 1:return new aa(1,"Starting",n.fields[0]);case 2:return new aa(2,"Viewing",n.fields[0]);case 3:return new aa(3,"Infecting",n.fields[0]);case 4:var t=ga(e,n.fields[0]);return new aa(4,"ResolvingEpidemic",t);case 5:return new aa(5,"ApplyingResilientPopulation",n.fields[0]);default:return new aa(0,"New")}}(e.fields[0],n)};case 15:return function(n){return Ma(e.fields[0],n)};case 16:return function(n){return Ia(e.fields[0],n)};case 17:return Ta;case 18:return function(n){return Na(e.fields[0],n)};case 19:return Da;case 20:return xa(e.fields[0]);case 21:return function(n){return e.fields[0]};default:return ma}}var _a=x((function(e,n){for(var t=arguments.length,r=new Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];F.call.apply(F,[this,e,n].concat(r))}),F);function ja(e,n){var t;return t=e,Or(n.CardsToSelected,t)?new ua(1,"SelectionToggled",e):null}function Fa(e){var n,t=Pr((function(e,n){return n}),e.CardsToSelected);n=Jt(On((function(e){return e[0]}),vr(br(t))),{Compare:function(e,n){return e.CompareTo(n)}});var r,i=0|qi(e.GameState);if(zt(n)===i){var a=Hi(e.GameState,n);if(null==a)return new ua(6,"InfectingFinished",n);var u=a.fields[0];return new ua(5,"FinishInfectingValidationFailed",u)}switch(Vi(e.GameState).tag){case 1:r="Select three cards";break;case 2:r="Select four cards";break;default:r="Select two cards"}return new ua(5,"FinishInfectingValidationFailed",r)}function Ba(e){return new ua(15,"FinishResolvingEpidemicValidationFailed",e)}function Va(e,n){var t=Ji(e)(n);if(1===t.tag)return Ba(t.fields[0]);var r=new ia(e,null);return new ua(16,"ResolvingEpidemicFinished",r)}function qa(e){switch(e.tag){case 1:return null==e.fields[0].IsPlayingResilientPopulationOpt?Ba("Select whether you are playing resilient population"):e.fields[0].IsPlayingResilientPopulationOpt?Ba("You cannot resolve an epidemic: you have indicated that\r\n                    you are playing resilient population, but haven't chosen a\r\n                    city to apply it to."):Va(e.fields[0].Infected,e.fields[0].GameState);case 2:if(null==e.fields[0].ResilientOpt)return Ba("Select a card");var n=e.fields[0].ResilientOpt;return function(e,n,t){var r=Ui(e,n)(t);if(1===r.tag)return Ba(r.fields[0]);var i=new ia(e,n);return new ua(16,"ResolvingEpidemicFinished",i)}(e.fields[0].Infected,n,e.fields[0].GameState);default:return Ri(ji(e.fields[0].GameState))?null:null!=e.fields[0].InfectedOpt?Va(e.fields[0].InfectedOpt,e.fields[0].GameState):Ba("Select a card")}}function Ha(e){return 1===e.State.tag?null:2===e.State.tag?null:3===e.State.tag?null:4===e.State.tag?null:5===e.State.tag?null:new ua(0,"StartingStarted")}function La(e,n){return 1===n.State.tag?(t=e,n.State.fields[0],new ua(1,"SelectionToggled",t)):2===n.State.tag?null:3===n.State.tag?ja(e,n.State.fields[0]):4===n.State.tag?null:(n.State.tag,null);var t}function Wa(e){return 1===e.State.tag?9===zt(e.State.fields[0].SelectedCards)?new ua(3,"StartingFinished"):new ua(2,"FinishStartingValidationFailed","Select nine cards"):2===e.State.tag?null:3===e.State.tag?null:4===e.State.tag?null:(e.State.tag,null)}function za(e){return 1===e.State.tag?null:2===e.State.tag?(e.State.fields[0],new ua(4,"InfectingStarted")):3===e.State.tag?null:4===e.State.tag?null:(e.State.tag,null)}function Ja(e){return 1===e.State.tag?null:2===e.State.tag?function(e){switch(Fi(e.GameState).tag){case 1:case 2:case 3:case 4:case 5:return li(Gi(e.GameState))?new ua(7,"StartResolvingEpidemicValidationFailed","You cannot resolve an epidemic: epidemic behaviour is\r\n                    undefined when the deck is empty."):new ua(8,"ResolvingEpidemicStarted");case 6:return new ua(7,"StartResolvingEpidemicValidationFailed","You can no longer resolve an epidemic: all the epidemic cards\r\n                have already been played.");default:return li(Gi(e.GameState))?new ua(7,"StartResolvingEpidemicValidationFailed","You cannot resolve an epidemic: epidemic behaviour is\r\n                    undefined when the deck is empty."):new ua(8,"ResolvingEpidemicStarted")}}(e.State.fields[0]):3===e.State.tag?null:4===e.State.tag?null:(e.State.tag,null)}function Ua(e,n){return 1===n.State.tag?null:2===n.State.tag?null:3===n.State.tag?null:4===n.State.tag?function(e,n){switch(n.tag){case 2:return new ua(9,"CardChosen",e);case 1:return null;default:return new ua(9,"CardChosen",e)}}(e,n.State.fields[0]):5===n.State.tag?(t=e,n.State.fields[0],new ua(9,"CardChosen",t)):null;var t}function Ya(e){return 1===e.State.tag?null:2===e.State.tag?null:3===e.State.tag?null:4===e.State.tag?function(e){switch(e.tag){case 1:return null==e.fields[0].IsPlayingResilientPopulationOpt?new ua(13,"MoveToSelectingResilientValidationFailed","Select whether you are playing resilient population"):e.fields[0].IsPlayingResilientPopulationOpt?new ua(14,"SelectingResilientMovedTo",e.fields[0].Infected):null;case 2:return null;default:if(null==e.fields[0].InfectedOpt)return new ua(10,"MoveToSelectingIsPlayingResPopValidationFailed","Select a card");var n=e.fields[0].InfectedOpt;return new ua(11,"SelectingIsPlayingResPopMovedTo",n)}}(e.State.fields[0]):(e.State.tag,null)}function Ka(e,n){return 1===n.State.tag?null:2===n.State.tag?null:3===n.State.tag?null:4===n.State.tag?function(e,n){switch(n.tag){case 1:return new ua(12,"BoolChosen",e);case 2:default:return null}}(e,n.State.fields[0]):(n.State.tag,null)}function Za(e){return 1===e.State.tag?null:2===e.State.tag?(e.State.fields[0],new ua(17,"ApplyingResilientPopulationStarted")):3===e.State.tag?null:4===e.State.tag?null:(e.State.tag,null)}function $a(e){return 1===e.State.tag?null:2===e.State.tag?null:3===e.State.tag?null:4===e.State.tag?null:5===e.State.tag?function(e){if(null==e.ResilientOpt)return new ua(18,"FinishApplyingResPopValidationFailed","Select a card");var n,t=Wi(e.ResilientOpt,e.GameState);return 1===t.tag?(n=Kn(Kn(Kn(Kn(Kn(Kn(Kn(Kn(Kn(t.fields[0],"BuenosAires","Buenos Aires"),"HoChiMinhCity","Ho Chi Minh City"),"HongKong","Hong Kong"),"LosAngeles","Los Angeles"),"MexicoCity","Mexico City"),"NewYork","New York"),"SanFrancisco","San Francisco"),"SaoPaulo","Sao Paulo"),"StPetersburg","St Petersburg"),new ua(18,"FinishApplyingResPopValidationFailed",n)):new ua(19,"ApplyingResilientPopulationFinished")}(e.State.fields[0]):null}function Xa(e){var n,t,r,i=Nn((function(e){return e<0}),Pn((function(e,n){return e+(21===n.tag?1:oa(n)?-1:0)}),0,e.Events));return null==i?new ua(20,"GoBackValidationFailed","Cannot go back: there have not been any page transitions."):(t=zr(0|i,e.Events),r=t,n=Dr(M(2,Ga),r,new aa(0,"New")),new ua(21,"WentBack",n))}function Qa(e,n){switch(e.tag){case 1:return La(e.fields[0],n);case 2:return Wa(n);case 3:return za(n);case 4:return 1===(r=n).State.tag?null:2===r.State.tag?null:3===r.State.tag?Fa(r.State.fields[0]):4===r.State.tag?null:(r.State.tag,null);case 5:return Ja(n);case 6:return Ua(e.fields[0],n);case 7:return Ya(n);case 8:return Ka(e.fields[0],n);case 9:return 1===(t=n).State.tag?null:2===t.State.tag?null:3===t.State.tag?null:4===t.State.tag?qa(t.State.fields[0]):(t.State.tag,null);case 10:return Za(n);case 11:return $a(n);case 12:return Xa(n);default:return Ha(n)}var t,r}function eu(e,n){var t=Qa(e,n);if(null==t)return n;var r=t;return new sa(new j(r,n.Events),Ga(r)(n.State))}t(55),t(59),t(60),t(82),t(88),t(40),t(94),t(65),t(96),t(66),t(67),x((function(e,n){for(var t=arguments.length,r=new Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];F.call.apply(F,[this,e,n].concat(r))}),F);x((function(e,n){for(var t=arguments.length,r=new Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];F.call.apply(F,[this,e,n].concat(r))}),F);x((function(e){this.__html=e}),H);var nu=x((function(e,n){for(var t=arguments.length,r=new Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];F.call.apply(F,[this,e,n].concat(r))}),F);x((function(e,n){for(var t=arguments.length,r=new Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];F.call.apply(F,[this,e,n].concat(r))}),F);var tu=x((function(e,n){for(var t=arguments.length,r=new Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];F.call.apply(F,[this,e,n].concat(r))}),F);x((function(e,n){for(var t=arguments.length,r=new Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];F.call.apply(F,[this,e,n].concat(r))}),F);var ru=t(0);t(101);function iu(e){return(iu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function au(e,n){return ru.memo(n,e)}x((function(){}));function uu(e){return function(e){if(Array.isArray(e)){for(var n=0,t=new Array(e.length);n<e.length;n++)t[n]=e[n];return t}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var ou=x((function(e,n){for(var t=arguments.length,r=new Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];F.call.apply(F,[this,e,n].concat(r))}),F);function su(e){switch(e.tag){case 1:return new ou(2,"Blue");case 2:return new ou(3,"Black");case 3:case 4:return new ou(1,"Red");case 5:case 6:return new ou(0,"Yellow");case 7:case 8:return new ou(3,"Black");case 9:return new ou(2,"Blue");case 10:return new ou(3,"Black");case 11:return new ou(2,"Blue");case 12:case 13:return new ou(1,"Red");case 14:return new ou(3,"Black");case 15:return new ou(1,"Red");case 16:return new ou(0,"Yellow");case 17:return new ou(3,"Black");case 18:case 19:return new ou(0,"Yellow");case 20:return new ou(3,"Black");case 21:case 22:return new ou(0,"Yellow");case 23:return new ou(2,"Blue");case 24:return new ou(0,"Yellow");case 25:return new ou(2,"Blue");case 26:return new ou(1,"Red");case 27:case 28:return new ou(0,"Yellow");case 29:case 30:return new ou(2,"Blue");case 31:case 32:return new ou(3,"Black");case 33:return new ou(2,"Blue");case 34:return new ou(1,"Red");case 35:return new ou(2,"Blue");case 36:return new ou(3,"Black");case 37:return new ou(2,"Blue");case 38:case 39:return new ou(0,"Yellow");case 40:case 41:return new ou(1,"Red");case 42:return new ou(2,"Blue");case 43:case 44:return new ou(1,"Red");case 45:return new ou(3,"Black");case 46:return new ou(1,"Red");case 47:return new ou(2,"Blue");default:return new ou(3,"Black")}}function cu(e){switch(e.tag){case 1:return"Atlanta";case 2:return"Baghdad";case 3:return"Bangkok";case 4:return"Beijing";case 5:return"Bogota";case 6:return"Buenos Aires";case 7:return"Cairo";case 8:return"Chennai";case 9:return"Chicago";case 10:return"Delhi";case 11:return"Essen";case 12:return"Ho Chi Minh City";case 13:return"Hong Kong";case 14:return"Istanbul";case 15:return"Jakarta";case 16:return"Johannesburg";case 17:return"Karachi";case 18:return"Khartoum";case 19:return"Kinshasa";case 20:return"Kolkata";case 21:return"Lagos";case 22:return"Lima";case 23:return"London";case 24:return"Los Angeles";case 25:return"Madrid";case 26:return"Manila";case 27:return"Mexico City";case 28:return"Miami";case 29:return"Milan";case 30:return"Montreal";case 31:return"Moscow";case 32:return"Mumbai";case 33:return"New York";case 34:return"Osaka";case 35:return"Paris";case 36:return"Riyadh";case 37:return"San Francisco";case 38:return"Santiago";case 39:return"Sao Paulo";case 40:return"Seoul";case 41:return"Shanghai";case 42:return"St Petersburg";case 43:return"Sydney";case 44:return"Taipei";case 45:return"Tehran";case 46:return"Tokyo";case 47:return"Washington";default:return"Algiers"}}function lu(e,n){var t,r;switch(su(n).tag){case 1:r="red";break;case 2:r="blue";break;case 3:r="black";break;default:r="yellow"}var i,a=new j(r,e);i=Un(" ",new j("colour-circle",jr((t=Wn(Ln("%s--%s")),function(e){var n=t(e);return function(e){return n(e)}})("colour-circle"),a)));var u=[new tu(25,"className",i)];return ru.createElement.apply(ru,["span",A(u,1)].concat([]))}var fu,du,wu=(fu=new j("right",new j),function(e){return lu(fu,e)}),hu=(du=new j("small",new j),function(e){return lu(du,e)});function pu(e){var n=[new tu(25,"className","heading heading-l")],t=[e];return ru.createElement.apply(ru,["h1",A(n,1)].concat(t))}function gu(e){var n=[new tu(25,"className","heading heading-m")],t=[e];return ru.createElement.apply(ru,["h2",A(n,1)].concat(t))}function mu(e){var n=[new tu(25,"className","prose")],t=[e];return ru.createElement.apply(ru,["p",A(n,1)].concat(t))}function yu(e,n){var t=[new tu(25,"className","button"),new tu(119,"Type","button"),new nu(40,"OnClick",n)],r=[e];return ru.createElement.apply(ru,["button",A(t,1)].concat(r))}function vu(e,n){var t=[new tu(25,"className","button button--secondary"),new tu(119,"Type","button"),new nu(40,"OnClick",n)],r=[e];return ru.createElement.apply(ru,["button",A(t,1)].concat(r))}function Su(e){var n=new j(e,new j),t=new j(new tu(25,"className","error-message"),new j),r=n;return ru.createElement.apply(ru,["span",A(t,1)].concat(uu(r)))}var Eu,bu=(Eu=function(e){return[su(e),cu(e)]},function(e){return n=function(e,n){return y(Eu(e),Eu(n))},t=e,yn(Array.from(t).sort(n));var n,t});function Cu(e,n,t,r,i){var a,u,o=cu(i),s=[new tu(59,"Id",o),new tu(25,"className",n),(a=r(i),new tu(22,"Checked",a)),new tu(83,"Name","cards"),(u=T(1,t,[i]),new nu(9,"OnChange",u)),new tu(119,"Type",e),new tu(121,"Value",o)];return ru.createElement.apply(ru,["input",A(s,1)].concat([]))}function ku(e,n){var t=cu(n),r=[new tu(25,"className",e),new tu(56,"HtmlFor",t)],i=[t];return ru.createElement.apply(ru,["label",A(r,1)].concat(i))}function Ru(e,n,t,r){var i=Vr([e(r),n(r),wu(r)]),a=new j(new tu(25,"className",t),new j),u=i;return ru.createElement.apply(ru,["div",A(a,1)].concat(uu(u)))}function Ou(e){return function(n){var t=bu(n);return On(e,t)}}function Pu(e,n){return Ou((function(t){return Ru((function(t){return Cu("checkbox","checkbox__input",(function(e,t){n(new _a(1,"ToggleSelection",e))}),(function(n){return Cr(e,n)}),t)}),(function(e){return ku("checkbox__label",e)}),"checkbox__item",t)}))(On((function(e){return e[0]}),e))}function Au(e,n,t,r){var i,a,u,o,s,c,l,f,d,w=(i=Un(" ",Wr((function(e){return e}),Vr(["form-group",re((function(e){return"form-group--error"}),t)]))),new tu(25,"className",i));d=new j(w,new j),f=function(e){var n=d,t=e;return ru.createElement.apply(ru,["div",A(n,1)].concat(uu(t)))};var h,p,g,m,y=re(Su,t);h=Wr((function(e){return e}),Vr([(u=[new tu(25,"className","fieldset-legend")],o=[(p=e,g=[new tu(25,"className","fieldset-heading heading")],m=[p],ru.createElement.apply(ru,["h1",A(g,1)].concat(m)))],a=ru.createElement.apply(ru,["legend",A(u,1)].concat(uu(o))),a),re((function(e){var n=[new tu(25,"className","fieldset-hint")],t=[e];return ru.createElement.apply(ru,["span",A(n,1)].concat(t))}),n),y,(c=new j,l=c,s=ru.createElement.apply(ru,["div",A(l,1)].concat(uu(r))),s)]));var v=new j(new tu(25,"className","fieldset"),new j),S=h;return f(new j(ru.createElement.apply(ru,["fieldset",A(v,1)].concat(uu(S))),new j))}function Mu(e,n,t,r,i,a){var u=Vr([Au(e,n,t,Pu(i,a)),yu("Continue",(function(e){a(r)}))]),o=new j,s=u;return ru.createElement.apply(ru,["form",A(o,1)].concat(uu(s)))}function Iu(e,n,t,r,i,a,u){var o,s,c,l=Vr([Au(e,n,t,(o=i,s=a,c=u,Ou((function(e){return Ru((function(e){return Cu("radio","radio__input",(function(e,n){c(new _a(6,"ChooseCard",e))}),(function(e){return null!=s&&h(e,s)}),e)}),(function(e){return ku("radio__label",e)}),"radio__item",e)}))(o))),yu("Continue",(function(e){u(r)}))]),f=new j,d=l;return ru.createElement.apply(ru,["form",A(f,1)].concat(uu(d)))}function Tu(e){var n=[new tu(25,"className","game-state-section")];return ru.createElement.apply(ru,["div",A(n,1)].concat(uu(e)))}function Nu(e){var n,t;t=Pt(Nt(e)),n=On((function(e){var n;n=cu(e);var t=hu(e),r=[new tu(25,"className","card-chip")],i=[t,n];return ru.createElement.apply(ru,["div",A(r,1)].concat(i))}),bu(t));var r=new j(new tu(25,"className","card-set"),new j);return ru.createElement.apply(ru,["div",A(r,1)].concat(uu(n)))}function Du(e){var n,t,r,i;if(null==(n=function(e,n){if(e<0)throw new Error("The input must be non-negative.");var t,r,i;switch(0===e?t=0:1===e&&null!=n.tail?t=1:(t=2,r=e,i=n),t){case 0:return new j;case 1:return new j(n.head,new j);case 2:return Jr(!0,r,new j,i)[0]}}(Gr(t=si(e))-1,t)).tail)return null;i=jr(Nu,n);var a=new j(new tu(25,"className","card-sets"),new j),u=i;return r=ru.createElement.apply(ru,["div",A(a,1)].concat(uu(u))),Tu(Vr([gu("Deck top"),r]))}function xu(e,n){var t,r,i,a,u,o,s,c,l,f,d,w,p,g,m=h(e.IsPlayingResilientPopulationOpt,!0)?new _a(7,"MoveToNextSubstep"):new _a(9,"FinishResolvingEpidemic");return t="Are you playing resilient population?",r=null,i=e.ErrorMessageOpt,a=function(e){return e?"Yes":"No"},u=m,o=e.IsPlayingResilientPopulationOpt,w=Vr([Au(t,r,i,(c=a,l=o,f=s=n,d=function(e){var n,t,r,i,a,u,o,s=Vr([(n=[(t=String(e),new tu(59,"Id",t)),new tu(25,"className","radio__input"),(r=null!=l&&(i=l,e===i),new tu(22,"Checked",r)),new tu(83,"Name","is-playing-resilient"),new nu(9,"OnChange",(function(n){f(new _a(8,"ChooseBool",e))})),new tu(119,"Type","radio"),new tu(121,"Value",e)],ru.createElement.apply(ru,["input",A(n,1)].concat([]))),(a=c(e),u=[new tu(25,"className","radio__label"),new tu(56,"HtmlFor",a)],o=[a],ru.createElement.apply(ru,["label",A(u,1)].concat(uu(o))))]),d=new j(new tu(25,"className","radio__item"),new j),w=s;return ru.createElement.apply(ru,["div",A(d,1)].concat(uu(w)))},Vr([d(!0),d(!1)]))),yu("Continue",(function(e){s(u)}))]),p=new j,g=w,ru.createElement.apply(ru,["form",A(p,1)].concat(uu(g)))}function Gu(e,n){switch(e.tag){case 1:return xu(e.fields[0],n);case 2:return t=e.fields[0],r=n,a=Si(_i(t.GameState)),i=Ft(t.Infected,a),Iu("Which city has a resilient population?","Select one",t.ErrorMessageOpt,new _a(9,"FinishResolvingEpidemic"),i,t.ResilientOpt,r);default:return function(e,n){var t=gi(Gi(e.GameState));if(null==t)throw new Error("epidemic behaviour is undefined when deck is empty\\nParameter name: data");var r=t,i=Ri(ji(e.GameState))?new _a(7,"MoveToNextSubstep"):new _a(9,"FinishResolvingEpidemic");return Iu("Which city was drawn in the infect step?","Select one",e.ErrorMessageOpt,i,r,e.InfectedOpt,n)}(e.fields[0],n)}var t,r,i,a}var _u=x((function(e,n){this.Model=e,this.Dispatch=n}),H);var ju=function(e,n,t){if(null==n);else{var r=n;e.displayName=r}var i;if(null==I(2,t))i=e;else{var a=au(t,e);if(null==n);else{var u=n;a.displayName="Memo("+u+")"}i=a}return function(e){return ru.createElement.apply(ru,[i,e].concat([]))}}((function(e){var n;te(re((function(e){return!!oa(e)||function(e){switch(e.tag){case 1:case 3:return!1;case 2:return!0;case 4:return!1;case 5:return!0;case 6:return!1;case 7:return!0;case 8:case 9:return!1;case 10:return!0;case 11:case 12:return!1;case 13:return!0;case 14:return!1;case 15:return!0;case 16:case 17:return!1;case 18:return!0;case 19:return!1;case 20:return!0;case 21:default:return!1}}(e)}),null!=(n=e.Model.Events).tail?ee(n.head):null),!0)&&ru.useEffect((function(){window.scrollTo(0,0)}));var t,r,i,a,u,o,s,c,l,f,d,w,h,p,g,m,v,S,E,b,C,k,R,O,P,M,I,T,N,D,x,G,_,F,B,V,q,H,L,W,z,J,U,Y,K=1===e.Model.State.tag?(D=e.Model.State.fields[0],x=e.Dispatch,Mu("Which cards did you draw to start the game?","Select all nine",D.ErrorMessageOpt,new _a(2,"FinishStarting"),Ar(Wt((function(e){return[e,jt(e,D.SelectedCards)]}),ri,{Compare:y}),{Compare:function(e,n){return e.CompareTo(n)}}),x)):2===e.Model.State.tag?(s=e.Model.State.fields[0],c=e.Dispatch,I=Wr((function(e){return e}),Vr([(l=pu("Game state"),l),(f=Gi(s.GameState),Du(f)),(w=_i(s.GameState),O=w,M=Si(O),P=_t(M)?mu("The discard pile is empty."):Nu(M),d=Tu([gu("Discard pile"),P]),d),(h=ji(s.GameState),k=h,R=Pi(k),_t(Pi(k))?null:Tu([gu("Removed cards"),Nu(R)])),(S=s.GameState,p=Tu(Vr([gu("Infection rate"),(b=0|qi(S),C=Wn(Ln("The infection rate is %i.")),E=C(b),mu(E))])),p),re(Su,s.ErrorMessageOpt),(g=yu("Draw infection cards",(function(e){c(new _a(3,"StartInfecting"))})),g),(m=vu("Resolve an epidemic",(function(e){c(new _a(5,"StartResolvingEpidemic"))})),m),(v=vu("Apply resilient population",(function(e){c(new _a(10,"StartApplyingResilientPopulation"))})),v)])),T=new j,N=I,ru.createElement.apply(ru,["div",A(T,1)].concat(uu(N)))):3===e.Model.State.tag?function(e,n){var t;switch(Vi(e.GameState).tag){case 1:t="Select all three";break;case 2:t="Select all four";break;default:t="Select both"}return Mu("Which cities did you infect?",t,e.ErrorMessageOpt,new _a(4,"FinishInfecting"),e.CardsToSelected,n)}(e.Model.State.fields[0],e.Dispatch):4===e.Model.State.tag?Gu(e.Model.State.fields[0],e.Dispatch):5===e.Model.State.tag?(u=e.Model.State.fields[0],o=e.Dispatch,Iu("Which card did you remove from the infection discard pile?","Choose one",u.ErrorMessageOpt,new _a(11,"FinishApplyingResilientPopulation"),Si(_i(u.GameState)),u.ResilientOpt,o)):(t=e.Dispatch,r=Vr([pu("Pandemic Infection Deck Tracker"),mu("This app helps you keep track of infection cards during your\r\n            game of Pandemic (standard version only)."),mu("It is designed for mobile so might feel a bit weird on larger\r\n            devices."),yu("Start now",(function(e){t(new _a(0,"StartStarting"))}))]),i=new j,a=r,ru.createElement.apply(ru,["div",A(i,1)].concat(uu(a))));0===e.Model.State.tag?(J=K,U=[new tu(25,"className","main")],Y=[J],G=ru.createElement.apply(ru,["main",A(U,1)].concat(Y))):(_=e.Dispatch,F=K,L=Vr([(q=_,H=[new tu(54,"Href","#"),new tu(25,"className","back-link"),new nu(40,"OnClick",(function(e){q(new _a(12,"GoBack"))}))],ru.createElement.apply(ru,["a",A(H,1)].concat(["Back"]))),(B=[new tu(25,"className","main")],V=[F],ru.createElement.apply(ru,["main",A(B,1)].concat(uu(V))))]),W=new j,z=L,G=ru.createElement.apply(ru,["div",A(W,1)].concat(uu(z))));var Z=[new tu(25,"className","width-container")],$=[G];return ru.createElement.apply(ru,["div",A(Z,1)].concat($))}),null,(function(e,n){if(e===n)return!0;if("object"!==iu(e)||e[Symbol.iterator]||null==n)return h(e,n);for(var t=Object.keys(e),r=0|t.length,i=0,a=!0;i<r&&a;){var u=t[i];i+=1;var o=e[u];a="function"==typeof o||h(o,n[u])}return a}));function Fu(e,n){return ju(new _u(e,n))}class Bu{constructor(e=!1){this._id=0,this._cancelled=e,this._listeners=new Map}get isCancelled(){return this._cancelled}cancel(){if(!this._cancelled){this._cancelled=!0;for(const[,e]of this._listeners)e()}}addListener(e){const n=this._id;return this._listeners.set(this._id++,e),n}removeListener(e){return this._listeners.delete(e)}register(e,n){const t=this,r=this.addListener(null==n?e:()=>e(n));return{Dispose(){t.removeListener(r)}}}}class Vu extends Error{constructor(){super("The operation was canceled"),Object.setPrototypeOf(this,Vu.prototype)}}function qu(e){return n=>{if(n.cancelToken.isCancelled)n.onCancel(new Vu);else if(n.trampoline.incrementAndCheck())n.trampoline.hijack(()=>{try{e(n)}catch(e){n.onError(e)}});else try{e(n)}catch(e){n.onError(e)}}}function Hu(e,n){return qu(t=>{e({onSuccess:e=>{try{n(e)(t)}catch(e){t.onError(e)}},onError:t.onError,onCancel:t.onCancel,cancelToken:t.cancelToken,trampoline:t.trampoline})})}function Lu(e){return qu(n=>n.onSuccess(e))}new class{Bind(e,n){return Hu(e,n)}Combine(e,n){return this.Bind(e,()=>n)}Delay(e){return qu(n=>e()(n))}For(e,n){const t=e[Symbol.iterator]();let r=t.next();return this.While(()=>!r.done,this.Delay(()=>{const e=n(r.value);return r=t.next(),e}))}Return(e){return Lu(e)}ReturnFrom(e){return e}TryFinally(e,n){return qu(t=>{e({onSuccess:e=>{n(),t.onSuccess(e)},onError:e=>{n(),t.onError(e)},onCancel:e=>{n(),t.onCancel(e)},cancelToken:t.cancelToken,trampoline:t.trampoline})})}TryWith(e,n){return qu(t=>{e({onSuccess:t.onSuccess,onCancel:t.onCancel,cancelToken:t.cancelToken,trampoline:t.trampoline,onError:e=>{try{n(e)(t)}catch(e){t.onError(e)}}})})}Using(e,n){return this.TryFinally(n(e),()=>e.Dispose())}While(e,n){return e()?this.Bind(n,()=>this.While(e,n)):this.Return(void 0)}Zero(){return qu(e=>e.onSuccess(void 0))}};new Bu;function Wu(e,n){Br((function(n){n(e)}),n)}function zu(){return new j}function Ju(e,n){console.error(ee(e),n)}var Uu=x((function(e,n){for(var t=arguments.length,r=new Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];F.call.apply(F,[this,e,n].concat(r))}),F);var Yu=x((function(e){var n,t,r,i;this.state=new Uu(0,"Writable",(n=new Array(S(g,e,10)),t=0,r=S(g,e,10),i=null,n.fill(i,t,t+r),n),0)}));function Ku(e){var n=e.state;if(1===n.tag){var t=(n.fields[2]+1)%n.fields[0].length|0,r=t===n.fields[1];return e.state=r?new Uu(0,"Writable",n.fields[0],n.fields[1]):new Uu(1,"ReadWritable",n.fields[0],n.fields[1],t),ee(n.fields[0][n.fields[2]])}return null}function Zu(e,n){var t,r,i,a=e.state;if(1===a.tag){a.fields[0][a.fields[1]]=n;var u,o=(a.fields[1]+1)%a.fields[0].length|0;if(o===a.fields[2])t=a.fields[2],r=a.fields[0],i=bn((function(){return vn(Mn(t,r),bn((function(){return vn(Tn(t,r),bn((function(){return En((function(e){return An(null)}),function(e,n,t){if(0===n)throw new Error("Step cannot be 0");return bn(()=>Dn(e=>n>0&&e<=t||n<0&&e>=t?[e,e+n]:null,e))}(0,1,r.length))})))})))})),u=Array.from(i),e.state=new Uu(1,"ReadWritable",u,o,0);else e.state=new Uu(1,"ReadWritable",a.fields[0],o,a.fields[2])}else{a.fields[0][a.fields[1]]=n;var s=(a.fields[1]+1)%a.fields[0].length|0;e.state=new Uu(1,"ReadWritable",a.fields[0],s,a.fields[1])}}var $u=x((function(e,n,t,r,i,a,u){this.init=e,this.update=n,this.subscribe=t,this.view=r,this.setState=i,this.onError=a,this.syncDispatch=u}),H);function Xu(e,n){return new $u(n.init,n.update,n.subscribe,n.view,e,n.onError,n.syncDispatch)}function Qu(e){return I(2,e.view)}function eo(e,n){var t,r=n.init(e),i=function(e){return this instanceof Yu?Yu.call(this,e):new Yu(e)}(10),a=!1,u=r[0],o=T(1,n.syncDispatch,[function(e){var t;if(a)Zu(i,e);else{a=!0;for(var r=ee(e);null!=r;){var s=ne(r);try{var c=n.update(s,u);n.setState(c[0],o),Wu(o,c[1]),u=c[0]}catch(e){n.onError([(t=Wn(Ln("Unable to process the message: %A")),t(s)),e])}r=Ku(i)}a=!1}}]);n.setState(r[0],o);try{t=n.subscribe(r[0])}catch(e){n.onError(["Unable to subscribe:",e]),t=zu()}var s=_r(t,r[1]);Wu(o,s)}var no=t(25),to=x((function(e,n,t){this.model=e,this.render=n,this.equal=t}),H);var ro,io,ao,uo,oo=x((function(e){ru.Component.call(this,e)}),ru.Component);function so(e,n,t,r){var i,a=new to(t,(function(){return n(t,r)}),e);return i=oo,ru.createElement.apply(ru,[i,a].concat([]))}function co(e,n,t){var r=null;return Xu((function(i,a){if(null!=r){var u=r;window.cancelAnimationFrame(u)}r=window.requestAnimationFrame((function(r){no.render(e((function(e,n){return e===n}),M(2,Qu(t)),i,a),document.getElementById(n))}))}),t)}oo.prototype.shouldComponentUpdate=function(e,n){return!this.props.equal(this.props.model,e.model)},oo.prototype.render=function(){return this.props.render()},ro=function(){return new sa(new j,new aa(0,"New"))},io=eu,uo=new $u((function(e){return[ro(e),zu()]}),(function(e,n){return[io(e,n),zu()]}),(function(e){return zu()}),ao=Fu,(function(e,n){ao(e,n)}),(function(e){Ju(e[0],e[1])}),M(2,(function(e){return e}))),eo(null,co(so,"elmish-app",uo))}});