!function(e){function n(n){for(var r,u,s=n[0],o=n[1],c=n[2],f=0,d=[];f<s.length;f++)u=s[f],Object.prototype.hasOwnProperty.call(i,u)&&i[u]&&d.push(i[u][0]),i[u]=0;for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r]);for(l&&l(n);d.length;)d.shift()();return a.push.apply(a,c||[]),t()}function t(){for(var e,n=0;n<a.length;n++){for(var t=a[n],r=!0,s=1;s<t.length;s++){var o=t[s];0!==i[o]&&(r=!1)}r&&(a.splice(n--,1),e=u(u.s=t[0]))}return e}var r={},i={0:0},a=[];function u(n){if(r[n])return r[n].exports;var t=r[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,u),t.l=!0,t.exports}u.m=e,u.c=r,u.d=function(e,n,t){u.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},u.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,n){if(1&n&&(e=u(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(u.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)u.d(t,r,function(n){return e[n]}.bind(null,r));return t},u.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return u.d(n,"a",n),n},u.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},u.p="";var s=window.webpackJsonp=window.webpackJsonp||[],o=s.push.bind(s);s.push=n,s=s.slice();for(var c=0;c<s.length;c++)n(s[c]);var l=o;a.push([104,1]),t()}({104:function(e,n,t){"use strict";t.r(n);t(8);function r(e){return null!=e&&"function"==typeof e.Dispose}function i(e,n,t){return e.has(n)?[!0,e.get(n)]:[!1,t]}function a(e){const n=e;return"number"==typeof n.offset?n.offset:1===e.kind?0:-6e4*e.getTimezoneOffset()}class u{static id(e){return u.idMap.has(e)||u.idMap.set(e,++u.count),u.idMap.get(e)}}function s(e){let n=0,t=5381;const r=e.length;for(;n<r;)t=33*t^e.charCodeAt(n++);return t}function o(e){return 2654435761*e|0}function c(e){return 0===e.length?0:e.reduce((e,n)=>(e<<5)+e^n)}function l(e){if(null==e)return 0;switch(typeof e){case"boolean":return e?1:0;case"number":return o(e);case"string":return s(e);default:if("function"==typeof e.GetHashCode)return e.GetHashCode();if(f(e)){const n=e,t=n.length,r=new Array(t);for(let e=0;e<t;e++)r[e]=l(n[e]);return c(r)}return s(String(e))}}function f(e){return Array.isArray(e)||ArrayBuffer.isView(e)}function d(e,n,t){if(null==e)return null==n;if(null==n)return!1;if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++)if(!t(e[r],n[r]))return!1;return!0}function w(e,n){return d(e,n,h)}function h(e,n){return e===n||(null==e?null==n:null!=n&&("object"==typeof e&&("function"==typeof e.Equals?e.Equals(n):f(e)?f(n)&&w(e,n):e instanceof Date&&(n instanceof Date&&0===p(e,n)))))}function p(e,n){let t,r;return"offset"in e&&"offset"in n?(t=e.getTime(),r=n.getTime()):(t=e.getTime()+a(e),r=n.getTime()+a(n)),t===r?0:t<r?-1:1}function g(e,n){return e===n?0:e<n?-1:1}function m(e,n,t){if(null==e)return null==n?0:1;if(null==n)return-1;if(e.length!==n.length)return e.length<n.length?-1:1;for(let r=0,i=0;r<e.length;r++)if(i=t(e[r],n[r]),0!==i)return i;return 0}function y(e,n){return m(e,n,v)}function v(e,n){return e===n?0:null==e?null==n?0:-1:null==n?1:"object"!=typeof e?e<n?-1:1:"function"==typeof e.CompareTo?e.CompareTo(n):f(e)?f(n)&&y(e,n):e instanceof Date?n instanceof Date&&p(e,n):1}function S(e,n,t){return e(n,t)>0?n:t}u.idMap=new WeakMap,u.count=0;const E=0,b=1,C=2,k=3,R=4;function O(e,n){return e.replace(/[a-z]?[A-Z]/g,e=>1===e.length?e.toLowerCase():e.charAt(0)+n+e.charAt(1).toLowerCase())}function P(e,n){switch(n){case b:return e.charAt(0).toLowerCase()+e.slice(1);case C:return O(e,"_");case k:return O(e,"_").toUpperCase();case R:return O(e,"-");case E:default:return e}}function A(e,n=E){function t(e){throw new Error("Cannot infer key and value of "+String(e))}const r={},i=n;for(let n of e){let e=E;if(null==n&&t(n),"function"==typeof n.toJSON&&(n=n.toJSON(),e=i),Array.isArray(n))switch(n.length){case 0:t(n);break;case 1:r[P(n[0],e)]=!0;break;case 2:const i=n[1];r[P(n[0],e)]=i;break;default:r[P(n[0],e)]=n.slice(1)}else"string"==typeof n?r[P(n,e)]=!0:t(n)}return r}function I(e,n){if(null==n)return null;if(n.length>1)return n;let t;switch(e){case 2:t=(e,t)=>n(e)(t);break;case 3:t=(e,t,r)=>n(e)(t)(r);break;case 4:t=(e,t,r,i)=>n(e)(t)(r)(i);break;case 5:t=(e,t,r,i,a)=>n(e)(t)(r)(i)(a);break;case 6:t=(e,t,r,i,a,u)=>n(e)(t)(r)(i)(a)(u);break;case 7:t=(e,t,r,i,a,u,s)=>n(e)(t)(r)(i)(a)(u)(s);break;case 8:t=(e,t,r,i,a,u,s,o)=>n(e)(t)(r)(i)(a)(u)(s)(o);break;default:throw new Error("Uncurrying to more than 8-arity is not supported: "+e)}return t.__CURRIED__=n,t}function M(e,n){if(null==n)return null;if("__CURRIED__"in n)return n.__CURRIED__;switch(e){case 2:return e=>t=>n(e,t);case 3:return e=>t=>r=>n(e,t,r);case 4:return e=>t=>r=>i=>n(e,t,r,i);case 5:return e=>t=>r=>i=>a=>n(e,t,r,i,a);case 6:return e=>t=>r=>i=>a=>u=>n(e,t,r,i,a,u);case 7:return e=>t=>r=>i=>a=>u=>s=>n(e,t,r,i,a,u,s);case 8:return e=>t=>r=>i=>a=>u=>s=>o=>n(e,t,r,i,a,u,s,o);default:throw new Error("Currying to more than 8-arity is not supported: "+e)}}function T(e,n,t){if(null==n)return null;if("__CURRIED__"in n){n=n.__CURRIED__;for(let e=0;e<t.length;e++)n=n(t[e]);return n}switch(e){case 1:return e=>n.apply(null,t.concat([e]));case 2:return e=>r=>n.apply(null,t.concat([e,r]));case 3:return e=>r=>i=>n.apply(null,t.concat([e,r,i]));case 4:return e=>r=>i=>a=>n.apply(null,t.concat([e,r,i,a]));case 5:return e=>r=>i=>a=>u=>n.apply(null,t.concat([e,r,i,a,u]));case 6:return e=>r=>i=>a=>u=>s=>n.apply(null,t.concat([e,r,i,a,u,s]));case 7:return e=>r=>i=>a=>u=>s=>o=>n.apply(null,t.concat([e,r,i,a,u,s,o]));case 8:return e=>r=>i=>a=>u=>s=>o=>c=>n.apply(null,t.concat([e,r,i,a,u,s,o,c]));default:throw new Error("Partially applying to more than 8-arity is not supported: "+e)}}function N(e,n){if(e.has(n))return e.get(n);throw new Error(`The given key '${n}' was not present in the dictionary.`)}function D(e,n){return null!=n&&Object.getPrototypeOf(e).constructor===Object.getPrototypeOf(n).constructor}function x(e,n){return function(e,n){e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}(e,n||G),e}function G(){}function _(e,n){if(e===n)return 0;if(null==n)return-1;for(;null!=e.tail;){if(null==n.tail)return 1;const t=v(e.head,n.head);if(0!==t)return t;e=e.tail,n=n.tail}return null==n.tail?0:-1}function j(e,n){this.head=e,this.tail=n}function F(e,n,...t){this.tag=0|e,this.name=n,this.fields=t}function B(e,n){const t={},r=null==n?Object.keys(e):n(e);for(let n=0;n<r.length;n++)t[r[n]]=e[r[n]];return t}function V(e,n,t){if(e===n)return!0;if(D(e,n)){const r=null==t?Object.keys(e):t(e);for(let t=0;t<r.length;t++)if(!h(e[r[t]],n[r[t]]))return!1;return!0}return!1}function q(e,n,t){if(e===n)return 0;if(D(e,n)){const r=null==t?Object.keys(e):t(e);for(let t=0;t<r.length;t++){const i=v(e[r[t]],n[r[t]]);if(0!==i)return i}return 0}return-1}function W(){}G.prototype.toString=function(){return"{"+Object.keys(this).map(e=>e+" = "+String(this[e])).join(";\n ")+"}"},G.prototype.GetHashCode=function(){return function(e){if(null==e)return 0;switch(typeof e){case"boolean":return e?1:0;case"number":return o(e);case"string":return s(e);default:return o(u.id(e))}}(this)},G.prototype.Equals=function(e){return this===e},j.prototype.toString=function(){return"["+Array.from(this).map(e=>String(e)).join("; ")+"]"},j.prototype.toJSON=function(){return Array.from(this)},j.prototype[Symbol.iterator]=function(){let e=this;return{next:()=>{const n=e;return e=e.tail,{done:null==n.tail,value:n.head}}}},j.prototype.GetHashCode=function(){return c(Array.from(this).map(l))},j.prototype.Equals=function(e){return 0===_(this,e)},j.prototype.CompareTo=function(e){return _(this,e)},F.prototype.toString=function(){const e=this.fields.length;return 0===e?this.name:1===e?this.name+" "+String(this.fields[0]):this.name+" ("+this.fields.map(e=>String(e)).join(",")+")"},F.prototype.toJSON=function(){return 0===this.fields.length?this.name:[this.name].concat(this.fields)},F.prototype.GetHashCode=function(){const e=this.fields.map(e=>l(e));return e.splice(0,0,o(this.tag)),c(e)},F.prototype.Equals=function(e){return this===e||D(this,e)&&this.tag===e.tag&&w(this.fields,e.fields)},F.prototype.CompareTo=function(e){return this===e?0:D(this,e)?this.tag===e.tag?y(this.fields,e.fields):this.tag<e.tag?-1:1:-1},W.prototype.toString=function(){return"{"+Object.keys(this).map(e=>e+" = "+String(this[e])).join(";\n ")+"}"},W.prototype.toJSON=function(){return B(this)},W.prototype.GetHashCode=function(){return c(Object.keys(this).map(e=>l(this[e])))},W.prototype.Equals=function(e){return V(this,e)},W.prototype.CompareTo=function(e){return q(this,e)};const H=x((function(e){this.contents=e}),W),L=x((function(e){this.stack=Error().stack,this.message=e}));function z(e){return Object.keys(e).filter(e=>"message"!==e&&"stack"!==e)}const J=x((function(){L.call(this)}),L);J.prototype.toString=function(){const e=z(this),n=e.length;return 0===n?this.message:1===n?this.message+" "+String(this[e[0]]):this.message+" ("+e.map(e=>String(this[e])).join(",")+")"},J.prototype.toJSON=function(){return B(this,z)},J.prototype.GetHashCode=function(){return c(z(this).map(e=>l(this[e])))},J.prototype.Equals=function(e){return V(this,e,z)},J.prototype.CompareTo=function(e){return q(this,e,z)};x((function(e,n,t){this.arg1=e,this.arg2=0|n,this.arg3=0|t,this.message="The match cases were incomplete"}),J),x((function(){}));class U{constructor(e,n,t,r,i,a){this.fullname=e,this.generics=n,this.constructor=t,this.fields=r,this.cases=i,this.enumCases=a}toString(){return function e(n){const t=null==n.generics||$(n)?[]:n.generics;return t.length>0?n.fullname+"["+t.map(n=>e(n)).join(",")+"]":n.fullname}(this)}Equals(e){return K(this,e)}CompareTo(e){return Z(this,e)}}function Y(e){return null!=e.generics?e.generics:[]}function K(e,n){return""===e.fullname?""===n.fullname&&d(X(e),X(n),([e,n],[t,r])=>e===t&&K(n,r)):e.fullname===n.fullname&&d(Y(e),Y(n),K)}function Z(e,n){return e.fullname!==n.fullname?e.fullname<n.fullname?-1:1:m(Y(e),Y(n),Z)}new U("System.Object"),new U("Microsoft.FSharp.Core.Unit"),new U("System.Char"),new U("System.String"),new U("System.Boolean"),new U("System.SByte"),new U("System.Byte"),new U("System.Int16"),new U("System.UInt16"),new U("System.Int32"),new U("System.UInt32"),new U("System.Single"),new U("System.Double"),new U("System.Decimal");function $(e){return e.fullname.endsWith("[]")}function X(e){if(null!=e.fields)return e.fields();throw new Error(`${e.fullname} is not an F# record type`)}class Q{constructor(e){this.value=e}toString(){return String(this.value)}toJSON(){return this.value}GetHashCode(){return l(this.value)}Equals(e){return null!=e&&h(this.value,e instanceof Q?e.value:e)}CompareTo(e){return null==e?1:v(this.value,e instanceof Q?e.value:e)}}function ee(e){return null==(e=void 0===e?null:e)||e instanceof Q?new Q(e):e}function ne(e,n){if(null==e){if(!n)throw new Error("Option has no value");return null}return e instanceof Q?e.value:e}function te(e,n){return null==n?n:ee(e(ne(n)))}x((function(e,n,t){F.call(this,e,n,t)}),F);const re=x((function(e,n,t){F.call(this,e,n,t)}),F);function ie(e,n){return 0===n.tag?(t=e(n.fields[0]),new re(0,"Ok",t)):n;var t}function ae(e,n){return 0===n.tag?e(n.fields[0]):n}var ue={GetHashCode(){return c([this.s,this.e].concat(this.c))},Equals(e){return!this.cmp(e)},CompareTo(e){return this.cmp(e)}},se="[big.js] ",oe=se+"Invalid ",ce=oe+"decimal places",le=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function fe(e,n){var t,r,i;if(0===n&&1/n<0)n="-0";else if(!le.test(n+=""))throw Error(oe+"number");for(e.s="-"==n.charAt(0)?(n=n.slice(1),-1):1,(t=n.indexOf("."))>-1&&(n=n.replace(".","")),(r=n.search(/e/i))>0?(t<0&&(t=r),t+=+n.slice(r+1),n=n.substring(0,r)):t<0&&(t=n.length),i=n.length,r=0;r<t&&r<i&&"0"==n.charAt(r);)++r;if(r==i)e.c=[e.e=0];else for(e.e=t-r-1,e.c=[],t=0;r<i;)e.c[t++]=+n.charAt(r++);return e=de(e,he.DP,he.RM)}function de(e,n,t,r){var i=e.c,a=e.e+n+1;if(a<i.length){if(1===t)r=i[a]>=5;else if(2===t)r=i[a]>5||5==i[a]&&(r||a<0||void 0!==i[a+1]||1&i[a-1]);else if(3===t)r=r||!!i[0];else if(r=!1,0!==t)throw Error("[big.js] Invalid rounding mode");if(a<1)i.length=1,r?(e.e=-n,i[0]=1):i[0]=e.e=0;else{if(i.length=a--,r)for(;++i[a]>9;)i[a]=0,a--||(++e.e,i.unshift(1));for(a=i.length;!i[--a];)i.pop()}}else if(t<0||t>3||t!==~~t)throw Error("[big.js] Invalid rounding mode");return e}function we(e,n,t,r){var i,a,u=e.constructor,s=!e.c[0];if(void 0!==t){if(t!==~~t||t<(3==n)||t>1e6)throw Error(3==n?oe+"precision":ce);for(t=r-(e=new u(e)).e,e.c.length>++r&&de(e,t,u.RM),2==n&&(r=e.e+t+1);e.c.length<r;)e.c.push(0)}if(i=e.e,t=(a=e.c.join("")).length,2!=n&&(1==n||3==n&&r<=i||i<=u.NE||i>=u.PE))a=a.charAt(0)+(t>1?"."+a.slice(1):"")+(i<0?"e":"e+")+i;else if(i<0){for(;++i;)a="0"+a;a="0."+a}else if(i>0)if(++i>t)for(i-=t;i--;)a+="0";else i<t&&(a=a.slice(0,i)+"."+a.slice(i));else t>1&&(a=a.charAt(0)+"."+a.slice(1));return e.s<0&&(!s||4==n)?"-"+a:a}ue.abs=function(){var e=new this.constructor(this);return e.s=1,e},ue.cmp=function(e){var n,t=this.constructor,r=new t(this),i=(e=new t(e),r.c),a=e.c,u=r.s,s=e.s,o=r.e,c=e.e;if(!i[0]||!a[0])return i[0]?u:a[0]?-s:0;if(u!=s)return u;if(n=u<0,o!=c)return o>c^n?1:-1;for(s=Math.max(i.length,a.length),u=0;u<s;u++)if((o=u<i.length?i[u]:0)!=(c=u<a.length?a[u]:0))return o>c^n?1:-1;return 0},ue.div=function(e){var n=this.constructor,t=new n(this),r=(e=new n(e),t.c),i=e.c,a=t.s==e.s?1:-1,u=n.DP;if(u!==~~u||u<0||u>1e6)throw Error(ce);if(!i[0])throw Error("[big.js] Division by zero");if(!r[0])return new n(0*a);var s,o,c,l,f,d=i.slice(),w=s=i.length,h=r.length,p=r.slice(0,s),g=p.length,m=e,y=m.c=[],v=0,S=u+(m.e=t.e-e.e)+1;for(m.s=a,a=S<0?0:S,d.unshift(0);g++<s;)p.push(0);do{for(c=0;c<10;c++){if(s!=(g=p.length))l=s>g?1:-1;else for(f=-1,l=0;++f<s;)if(i[f]!=p[f]){l=i[f]>p[f]?1:-1;break}if(!(l<0))break;for(o=g==s?i:d;g;){if(p[--g]<o[g]){for(f=g;f&&!p[--f];)p[f]=9;--p[f],p[g]+=10}p[g]-=o[g]}for(;!p[0];)p.shift()}y[v++]=l?c:++c,p[0]&&l?p[g]=r[w]||0:p=[r[w]]}while((w++<h||void 0!==p[0])&&a--);return y[0]||1==v||(y.shift(),m.e--),v>S&&de(m,u,n.RM,void 0!==p[0]),m},ue.eq=function(e){return!this.cmp(e)},ue.gt=function(e){return this.cmp(e)>0},ue.gte=function(e){return this.cmp(e)>-1},ue.lt=function(e){return this.cmp(e)<0},ue.lte=function(e){return this.cmp(e)<1},ue.minus=ue.sub=function(e){var n,t,r,i,a=this.constructor,u=new a(this),s=(e=new a(e),u.s),o=e.s;if(s!=o)return e.s=-o,u.plus(e);var c=u.c.slice(),l=u.e,f=e.c,d=e.e;if(!c[0]||!f[0])return f[0]?(e.s=-o,e):new a(c[0]?u:0);if(s=l-d){for((i=s<0)?(s=-s,r=c):(d=l,r=f),r.reverse(),o=s;o--;)r.push(0);r.reverse()}else for(t=((i=c.length<f.length)?c:f).length,s=o=0;o<t;o++)if(c[o]!=f[o]){i=c[o]<f[o];break}if(i&&(r=c,c=f,f=r,e.s=-e.s),(o=(t=f.length)-(n=c.length))>0)for(;o--;)c[n++]=0;for(o=n;t>s;){if(c[--t]<f[t]){for(n=t;n&&!c[--n];)c[n]=9;--c[n],c[t]+=10}c[t]-=f[t]}for(;0===c[--o];)c.pop();for(;0===c[0];)c.shift(),--d;return c[0]||(e.s=1,c=[d=0]),e.c=c,e.e=d,e},ue.mod=function(e){var n,t=this.constructor,r=new t(this),i=(e=new t(e),r.s),a=e.s;if(!e.c[0])throw Error("[big.js] Division by zero");return r.s=e.s=1,n=1==e.cmp(r),r.s=i,e.s=a,n?new t(r):(i=t.DP,a=t.RM,t.DP=t.RM=0,r=r.div(e),t.DP=i,t.RM=a,this.minus(r.times(e)))},ue.plus=ue.add=function(e){var n,t=this.constructor,r=new t(this),i=(e=new t(e),r.s),a=e.s;if(i!=a)return e.s=-a,r.minus(e);var u=r.e,s=r.c,o=e.e,c=e.c;if(!s[0]||!c[0])return c[0]?e:new t(s[0]?r:0*i);if(s=s.slice(),i=u-o){for(i>0?(o=u,n=c):(i=-i,n=s),n.reverse();i--;)n.push(0);n.reverse()}for(s.length-c.length<0&&(n=c,c=s,s=n),i=c.length,a=0;i;s[i]%=10)a=(s[--i]=s[i]+c[i]+a)/10|0;for(a&&(s.unshift(a),++o),i=s.length;0===s[--i];)s.pop();return e.c=s,e.e=o,e},ue.pow=function(e){var n=this.constructor,t=new n(this),r=new n(1),i=new n(1),a=e<0;if(e!==~~e||e<-1e6||e>1e6)throw Error(oe+"exponent");for(a&&(e=-e);1&e&&(r=r.times(t)),e>>=1;)t=t.times(t);return a?i.div(r):r},ue.round=function(e,n){var t=this.constructor;if(void 0===e)e=0;else if(e!==~~e||e<-1e6||e>1e6)throw Error(ce);return de(new t(this),e,void 0===n?t.RM:n)},ue.sqrt=function(){var e,n,t,r=this.constructor,i=new r(this),a=i.s,u=i.e,s=new r(.5);if(!i.c[0])return new r(i);if(a<0)throw Error(se+"No square root");0===(a=Math.sqrt(i+""))||a===1/0?((n=i.c.join("")).length+u&1||(n+="0"),u=((u+1)/2|0)-(u<0||1&u),e=new r(((a=Math.sqrt(n))==1/0?"1e":(a=a.toExponential()).slice(0,a.indexOf("e")+1))+u)):e=new r(a),u=e.e+(r.DP+=4);do{t=e,e=s.times(t.plus(i.div(t)))}while(t.c.slice(0,u).join("")!==e.c.slice(0,u).join(""));return de(e,r.DP-=4,r.RM)},ue.times=ue.mul=function(e){var n,t=this.constructor,r=new t(this),i=(e=new t(e),r.c),a=e.c,u=i.length,s=a.length,o=r.e,c=e.e;if(e.s=r.s==e.s?1:-1,!i[0]||!a[0])return new t(0*e.s);for(e.e=o+c,u<s&&(n=i,i=a,a=n,c=u,u=s,s=c),n=new Array(c=u+s);c--;)n[c]=0;for(o=s;o--;){for(s=0,c=u+o;c>o;)s=n[c]+a[o]*i[c-o-1]+s,n[c--]=s%10,s=s/10|0;n[c]=(n[c]+s)%10}for(s?++e.e:n.shift(),o=n.length;!n[--o];)n.pop();return e.c=n,e},ue.toExponential=function(e){return we(this,1,e,e)},ue.toFixed=function(e){return we(this,2,e,this.e+e)},ue.toPrecision=function(e){return we(this,3,e,e-1)},ue.toString=function(){return we(this)},ue.valueOf=ue.toJSON=function(){return we(this,4)};var he=function e(){function n(t){var r=this;if(!(r instanceof n))return void 0===t?e():new n(t);t instanceof n?(r.s=t.s,r.e=t.e,r.c=t.c.slice(),function(e){if((e=de(e,28,0)).c.length>1&&!e.c[0]){let n=e.c.findIndex(e=>e);e.c=e.c.slice(n),e.e=e.e-n}}(r)):fe(r,t),r.constructor=n}return n.prototype=ue,n.DP=28,n.RM=1,n.NE=-29,n.PE=29,n.version="5.2.2",n}(),pe=he,ge=pe;new pe(0),new pe(1),new pe(-1),new pe("79228162514264337593543950335"),new pe("-79228162514264337593543950335");var me;!function(e){e[e.AllowHexSpecifier=512]="AllowHexSpecifier"}(me||(me={}));var ye=null;try{ye=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(e){}function ve(e,n,t){this.low=0|e,this.high=0|n,this.unsigned=!!t}function Se(e){return!0===(e&&e.__isLong__)}ve.prototype.GetHashCode=function(){let e=this.unsigned?1:0;return e=(e<<5)+e^this.high,e=(e<<5)+e^this.low,e},ve.prototype.Equals=function(e){return Ue(this,e)},ve.prototype.CompareTo=function(e){return $e(this,e)},ve.prototype.toString=function(e){return He(this,e)},ve.prototype.toJSON=function(){return He(this)},ve.prototype.__isLong__,Object.defineProperty(ve.prototype,"__isLong__",{value:!0});var Ee={},be={};function Ce(e,n){var t,r,i;return n?(i=0<=(e>>>=0)&&e<256)&&(r=be[e])?r:(t=Re(e,(0|e)<0?-1:0,!0),i&&(be[e]=t),t):(i=-128<=(e|=0)&&e<128)&&(r=Ee[e])?r:(t=Re(e,e<0?-1:0,!1),i&&(Ee[e]=t),t)}function ke(e,n){if(isNaN(e))return n?xe:De;if(n){if(e<0)return xe;if(e>=Me)return Be}else{if(e<=-Te)return Ve;if(e+1>=Te)return Fe}return e<0?Xe(ke(-e,n)):Re(e%Ie|0,e/Ie|0,n)}function Re(e,n,t){return new ve(e,n,t)}var Oe=Math.pow;function Pe(e,n,t){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return De;if("number"==typeof n?(t=n,n=!1):n=!!n,(t=t||10)<2||36<t)throw RangeError("radix");var r=e.indexOf("-");if(r>0)throw Error("interior hyphen");if(0===r)return Xe(Pe(e.substring(1),n,t));for(var i=ke(Oe(t,8)),a=De,u=0;u<e.length;u+=8){var s=Math.min(8,e.length-u),o=parseInt(e.substring(u,u+s),t);if(s<8)a=Qe(nn(a,ke(Oe(t,s))),ke(o));else a=Qe(a=nn(a,i),ke(o))}return a.unsigned=n,a}function Ae(e,n){return"number"==typeof e?ke(e,n):"string"==typeof e?Pe(e,n):Re(e.low,e.high,"boolean"==typeof n?n:e.unsigned)}var Ie=4294967296,Me=Ie*Ie,Te=Me/2,Ne=Ce(1<<24),De=Ce(0),xe=Ce(0,!0),Ge=Ce(1),_e=Ce(1,!0),je=Ce(-1),Fe=Re(-1,2147483647,!1),Be=Re(-1,-1,!0),Ve=Re(0,-2147483648,!1);function qe(e){return e.unsigned?e.low>>>0:e.low}function We(e){return e.unsigned?(e.high>>>0)*Ie+(e.low>>>0):e.high*Ie+(e.low>>>0)}function He(e,n){if((n=n||10)<2||36<n)throw RangeError("radix");if(Le(e))return"0";if(ze(e)){if(Ue(e,Ve)){var t=ke(n),r=tn(e,t),i=en(nn(r,t),e);return He(r,n)+qe(i).toString(n)}return"-"+He(Xe(e),n)}for(var a=ke(Oe(n,6),e.unsigned),u=e,s="";;){var o=tn(u,a),c=(qe(en(u,nn(o,a)))>>>0).toString(n);if(Le(u=o))return c+s;for(;c.length<6;)c="0"+c;s=""+c+s}}function Le(e){return 0===e.high&&0===e.low}function ze(e){return!e.unsigned&&e.high<0}function Je(e){return 1==(1&e.low)}function Ue(e,n){return Se(n)||(n=Ae(n)),(e.unsigned===n.unsigned||e.high>>>31!=1||n.high>>>31!=1)&&(e.high===n.high&&e.low===n.low)}function Ye(e,n){return $e(e,n)<0}function Ke(e,n){return $e(e,n)>0}function Ze(e,n){return $e(e,n)>=0}function $e(e,n){if(Se(n)||(n=Ae(n)),Ue(e,n))return 0;var t=ze(e),r=ze(n);return t&&!r?-1:!t&&r?1:e.unsigned?n.high>>>0>e.high>>>0||n.high===e.high&&n.low>>>0>e.low>>>0?-1:1:ze(en(e,n))?-1:1}function Xe(e){return!e.unsigned&&Ue(e,Ve)?Ve:Qe(rn(e),Ge)}function Qe(e,n){Se(n)||(n=Ae(n));var t=e.high>>>16,r=65535&e.high,i=e.low>>>16,a=65535&e.low,u=n.high>>>16,s=65535&n.high,o=n.low>>>16,c=0,l=0,f=0,d=0;return f+=(d+=a+(65535&n.low))>>>16,l+=(f+=i+o)>>>16,c+=(l+=r+s)>>>16,c+=t+u,Re((f&=65535)<<16|(d&=65535),(c&=65535)<<16|(l&=65535),e.unsigned)}function en(e,n){return Se(n)||(n=Ae(n)),Qe(e,Xe(n))}function nn(e,n){if(Le(e))return e.unsigned?xe:De;if(Se(n)||(n=Ae(n)),ye)return Re(ye.mul(e.low,e.high,n.low,n.high),ye.get_high(),e.unsigned);if(Le(n))return e.unsigned?xe:De;if(Ue(e,Ve))return Je(n)?Ve:De;if(Ue(n,Ve))return Je(e)?Ve:De;if(ze(e))return ze(n)?nn(Xe(e),Xe(n)):Xe(nn(Xe(e),n));if(ze(n))return Xe(nn(e,Xe(n)));if(Ye(e,Ne)&&Ye(n,Ne))return ke(We(e)*We(n),e.unsigned);var t=e.high>>>16,r=65535&e.high,i=e.low>>>16,a=65535&e.low,u=n.high>>>16,s=65535&n.high,o=n.low>>>16,c=65535&n.low,l=0,f=0,d=0,w=0;return d+=(w+=a*c)>>>16,f+=(d+=i*c)>>>16,d&=65535,f+=(d+=a*o)>>>16,l+=(f+=r*c)>>>16,f&=65535,l+=(f+=i*o)>>>16,f&=65535,l+=(f+=a*s)>>>16,l+=t*c+r*o+i*s+a*u,Re((d&=65535)<<16|(w&=65535),(l&=65535)<<16|(f&=65535),e.unsigned)}function tn(e,n){if(Se(n)||(n=Ae(n)),Le(n))throw Error("division by zero");var t,r,i;if(ye)return e.unsigned||-2147483648!==e.high||-1!==n.low||-1!==n.high?Re((e.unsigned?ye.div_u:ye.div_s)(e.low,e.high,n.low,n.high),ye.get_high(),e.unsigned):e;if(Le(e))return e.unsigned?xe:De;if(e.unsigned){if(n.unsigned||(n=function(e){return e.unsigned?e:Re(e.low,e.high,!0)}(n)),Ke(n,e))return xe;if(Ke(n,sn(e,1)))return _e;i=xe}else{if(Ue(e,Ve))return Ue(n,Ge)||Ue(n,je)?Ve:Ue(n,Ve)?Ge:Ue(t=an(tn(un(e,1),n),1),De)?ze(n)?Ge:je:i=Qe(t,tn(r=en(e,nn(n,t)),n));if(Ue(n,Ve))return e.unsigned?xe:De;if(ze(e))return ze(n)?tn(Xe(e),Xe(n)):Xe(tn(Xe(e),n));if(ze(n))return Xe(tn(e,Xe(n)));i=De}for(r=e;Ze(r,n);){t=Math.max(1,Math.floor(We(r)/We(n)));for(var a=Math.ceil(Math.log(t)/Math.LN2),u=a<=48?1:Oe(2,a-48),s=ke(t),o=nn(s,n);ze(o)||Ke(o,r);)o=nn(s=ke(t-=u,e.unsigned),n);Le(s)&&(s=Ge),i=Qe(i,s),r=en(r,o)}return i}function rn(e){return Re(~e.low,~e.high,e.unsigned)}function an(e,n){return Se(n)&&(n=qe(n)),0==(n&=63)?e:n<32?Re(e.low<<n,e.high<<n|e.low>>>32-n,e.unsigned):Re(0,e.low<<n-32,e.unsigned)}function un(e,n){return Se(n)&&(n=qe(n)),0==(n&=63)?e:n<32?Re(e.low>>>n|e.high<<32-n,e.high>>n,e.unsigned):Re(e.high>>n-32,e.high>=0?0:-1,e.unsigned)}function sn(e,n){if(Se(n)&&(n=qe(n)),0===(n&=63))return e;var t=e.high;return n<32?Re(e.low>>>n|t<<32-n,t>>>n,e.unsigned):Re(32===n?t:t>>>n-32,0,e.unsigned)}var on=ve;const cn=nn,ln=$e,fn=function(e,n,t){return t?function(e,n){return new ve(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,n)}(e,n):function(e,n){return new ve(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],n)}(e,n)},dn=function(e,n){return n?function(e){var n=e.high,t=e.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&n,n>>>8&255,n>>>16&255,n>>>24]}(e):function(e){var n=e.high,t=e.low;return[n>>>24,n>>>16&255,n>>>8&255,255&n,t>>>24,t>>>16&255,t>>>8&255,255&t]}(e)},wn=He;class hn{constructor(e){this.iter=e}MoveNext(){const e=this.iter.next();return this.current=e.value,!e.done}get Current(){return this.current}Reset(){throw new Error("JS iterators cannot be reset")}Dispose(){}}function pn(e){return new hn(e[Symbol.iterator]())}function gn(e){return{next:()=>e.MoveNext()?{done:!1,value:e.Current}:{done:!0,value:null}}}function mn(e){return En(()=>Nn(n=>n<e.length?[e[n],n+1]:null,0))}function yn(e,n){return En(()=>{let t=!1;let r=[e[Symbol.iterator](),null];return Nn(()=>{let e;if(!t){if(e=r[0].next(),!e.done)return[e.value,r];t=!0,r=[null,n[Symbol.iterator]()]}return e=r[1].next(),e.done?null:[e.value,r]},r)})}function vn(e){return En(()=>{const n=e[Symbol.iterator]();let t={value:null};return Nn(e=>{let r=!1;for(;!r;)if(null==e){const t=n.next();t.done?r=!0:e=t.value[Symbol.iterator]()}else{const n=e.next();n.done?e=null:(t={value:n.value},r=!0)}return null!=e&&null!=t?[t.value,e]:null},null)})}function Sn(e,n){return vn(Rn(e,n))}function En(e){return{[Symbol.iterator]:()=>e()[Symbol.iterator]()}}function bn(e,n,t){if(Array.isArray(t)||ArrayBuffer.isView(t))return t.reduce(e,n);{let r;for(let i=0,a=t[Symbol.iterator]();r=a.next(),!r.done;i++)n=e(n,r.value,i);return n}}function Cn(e,n){bn((n,t)=>e(t),null,n)}function kn(e,n){bn((n,t,r)=>e(r,t),null,n)}function Rn(e,n){return En(()=>Nn(n=>{const t=n.next();return t.done?null:[e(t.value),n]},n[Symbol.iterator]()))}function On(e,n,t){return En(()=>{const r=t[Symbol.iterator]();return Nn(t=>{if(null==t)return[n,n];const i=r.next();return i.done?void 0:[t=e(t,i.value),t]},null)})}function Pn(e){return[e]}function An(e,n){return{[Symbol.iterator]:()=>{const t=n[Symbol.iterator]();for(let n=1;n<=e;n++)if(t.next().done)throw new Error("Seq has not enough elements");return t}}}function In(e,n,t){return bn((n,r)=>t.Add(n,e(r)),t.GetZero(),n)}function Mn(e,n,t=!1){return En(()=>{const r=n[Symbol.iterator]();return Nn(n=>{if(n<e){const e=r.next();if(!e.done)return[e.value,n+1];if(!t)throw new Error("Seq has not enough elements")}},0)})}function Tn(e,n){for(let t=0,r=n[Symbol.iterator]();;t++){const n=r.next();if(n.done)break;if(e(n.value,t))return t}return null}function Nn(e,n){return{[Symbol.iterator]:()=>{let t=n;return{next:()=>{const n=e(t);return null!=n?(t=n[1],{done:!1,value:n[0]}):{done:!0}}}}}}const Dn=/(^|[^%])%([0+\- ]*)(\d+)?(?:\.(\d+))?(\w)/;function xn(e){return"number"==typeof e||e instanceof on||e instanceof ge}function Gn(e,n){return e instanceof on?ln(e,n)<0:e instanceof ge?e.cmp(n)<0:e<n}function _n(e,n){return e instanceof on?cn(e,n):e instanceof ge?e.mul(n):e*n}function jn(e,n){return e instanceof on?String(e)+(0).toFixed(n).substr(1):e.toFixed(n)}function Fn(e,n){return e instanceof on?String(e)+(0).toPrecision(n).substr(1):e.toPrecision(n)}function Bn(e,n){return e instanceof on?String(e)+(0).toExponential(n).substr(1):e.toExponential(n)}function Vn(e){return e instanceof on?wn(e.unsigned?e:fn(dn(e),!0),16):(Number(e)>>>0).toString(16)}function qn(e){return{input:e,cont:(n=e,e=>Dn.test(n)?function e(n,t){return(...r)=>{let i=n;for(const e of r)i=Ln(i,e);return Dn.test(i)?e(i,t):t(i.replace(/%%/g,"%"))}}(n,e):e(n))};var n}function Wn(e){return e.cont(e=>e)}function Hn(e){return e.cont(e=>{throw new Error(e)})}function Ln(e,n){return e.replace(Dn,(e,t,r,i,a,u)=>{let s="";if(xn(n))switch("x"!==u.toLowerCase()&&(Gn(n,0)?(n=_n(n,-1),s="-"):r.indexOf(" ")>=0?s=" ":r.indexOf("+")>=0&&(s="+")),a=null==a?null:parseInt(a,10),u){case"f":case"F":n=jn(n,a=null!=a?a:6);break;case"g":case"G":n=null!=a?Fn(n,a):Fn(n);break;case"e":case"E":n=null!=a?Bn(n,a):Bn(n);break;case"x":n=Vn(n);break;case"X":n=Vn(n).toUpperCase();break;default:n=String(n)}if(i=parseInt(i,10),isNaN(i))n=s+n;else{const e=r.indexOf("0")>=0,t=r.indexOf("-")>=0,a=t||!e?" ":"0";n="0"===a?s+(n=Jn(n,i-s.length,a,t)):Jn(s+n,i,a,t)}return(t+n).replace(/%/g,"%%")})}function zn(e,n){return Array.isArray(n)?n.join(e):Array.from(n).join(e)}function Jn(e,n,t,r){t=t||" ",n-=e.length;for(let i=0;i<n;i++)e=r?e+t:t+e;return e}const Un=x((function(e,n){const t=new H(null);this.comparer=n,t.contents=this,this["entries@24"]=new Map([]),this["init@21-2"]=1,Cn((function(e){$n(t.contents,e)}),e)}));function Yn(e,n){const t=0|e.comparer.GetHashCode(n),r=i(e["entries@24"],t,null);return r[0]?[!0,t,r[1].findIndex((function(t){return e.comparer.Equals(n,t)}))]:[!1,t,-1]}function Kn(e){e["entries@24"].clear()}function Zn(e){return 0|In((function(e){return e.length}),e["entries@24"].values(),{GetZero:()=>0,Add:(e,n)=>e+n})}function $n(e,n){const t=Yn(e,n);switch(t[0]&&t[2]>-1?0:1){case 0:return!1;case 1:if(t[0]){N(e["entries@24"],t[1]).push(n);return!0}return e["entries@24"].set(t[1],[n]),!0}}function Xn(e,n){const t=Yn(e,n);switch(t[0]&&t[2]>-1?0:1){case 0:return!0;case 1:return!1}}function Qn(e,n){const t=Yn(e,n);switch(t[0]&&t[2]>-1?0:1){case 0:return N(e["entries@24"],t[1]).splice(t[2],1),!0;case 1:return!1}}Un.prototype[Symbol.iterator]=function(){const e=this;return gn(pn(En((function(){return Sn((function(e){return Rn((function(e){return e}),e)}),e["entries@24"].values())}))))},Un.prototype.Add=function(e){$n(this,e)},Un.prototype.Clear=function(){Kn(this)},Un.prototype.Contains=function(e){return Xn(this,e)},Un.prototype.CopyTo=function(e,n){kn((function(t,r){e[n+t]=r}),this)},Object.defineProperty(Un.prototype,"Count",{get:function(){return 0|Zn(this)}}),Object.defineProperty(Un.prototype,"IsReadOnly",{get:function(){return!1}}),Un.prototype.Remove=function(e){return Qn(this,e)},Object.defineProperty(Un.prototype,"size",{get:function(){return 0|Zn(this)}}),Un.prototype.add=function(e){$n(this,e);return this},Un.prototype.add_=function(e){return $n(this,e)},Un.prototype.clear=function(){Kn(this)},Un.prototype.delete=function(e){return Qn(this,e)},Un.prototype.has=function(e){return Xn(this,e)},Un.prototype.keys=function(){return Rn((function(e){return e}),this)},Un.prototype.values=function(){return Rn((function(e){return e}),this)},Un.prototype.entries=function(){return Rn((function(e){return[e,e]}),this)};const et=x((function(e,n,...t){F.call(this,e,n,...t)}),F);function nt(e){return function e(n,t){e:for(;;){const r=n,i=t;switch(r.tag){case 2:return i+1|0;case 0:return 0|i;default:n=r.fields[1],t=e(r.fields[2],i+1);continue e}break}}(e,0)}function tt(e){return new et(2,"SetOne",e)}function rt(e,n,t,r){return new et(1,"SetNode",e,n,t,r)}function it(e){switch(e.tag){case 2:return 1;case 1:return 0|e.fields[3];default:return 0}}function at(e,n,t){switch(0===e.tag&&0===t.tag?0:1){case 0:return tt(n);case 1:{const r=0|it(e),i=0|it(t);return rt(n,e,t,(0|(r<i?i:r))+1)}}}function ut(e,n,t){const r=0|it(e),i=0|it(t);if(i>r+2){if(1===t.tag){if(it(t.fields[1])>r+1){if(1===t.fields[1].tag)return at(at(e,n,t.fields[1].fields[1]),t.fields[1].fields[0],at(t.fields[1].fields[2],t.fields[0],t.fields[2]));throw new Error("rebalance")}return at(at(e,n,t.fields[1]),t.fields[0],t.fields[2])}throw new Error("rebalance")}if(r>i+2){if(1===e.tag){if(it(e.fields[2])>i+1){if(1===e.fields[2].tag)return at(at(e.fields[1],e.fields[0],e.fields[2].fields[1]),e.fields[2].fields[0],at(e.fields[2].fields[2],n,t));throw new Error("rebalance")}return at(e.fields[1],e.fields[0],at(e.fields[2],n,t))}throw new Error("rebalance")}return at(e,n,t)}function st(e,n,t){switch(t.tag){case 2:{const r=0|e.Compare(n,t.fields[0]);return r<0?rt(n,new et(0,"SetEmpty"),t,2):0===r?t:rt(n,t,new et(0,"SetEmpty"),2)}case 0:return tt(n);default:{const r=0|e.Compare(n,t.fields[0]);return r<0?ut(st(e,n,t.fields[1]),t.fields[0],t.fields[2]):0===r?t:ut(t.fields[1],t.fields[0],st(e,n,t.fields[2]))}}}function ot(e,n,t,r){var i,a,u,s,o,c,l,f,d,w,h,p,g,m,y;switch(2===n.tag?0===r.tag?(i=1,u=n):(r.tag,i=2,s=n.fields[0],o=r):1===n.tag?2===r.tag?(i=3,c=r.fields[0],l=n):1===r.tag?(i=4,f=n.fields[3],d=r.fields[3],w=n.fields[0],h=r.fields[0],p=n.fields[1],g=n.fields[2],m=r.fields[1],y=r.fields[2]):(i=1,u=n):(i=0,a=r),i){case 0:return st(e,t,a);case 1:return st(e,t,u);case 2:return st(e,t,st(e,s,o));case 3:return st(e,t,st(e,c,l));case 4:return f+2<d?ut(ot(e,n,t,m),h,y):d+2<f?ut(p,w,ot(e,g,t,r)):at(n,t,r)}}function ct(e,n,t){switch(t.tag){case 2:{const r=0|e.Compare(t.fields[0],n);return r<0?[t,!1,new et(0,"SetEmpty")]:0===r?[new et(0,"SetEmpty"),!0,new et(0,"SetEmpty")]:[new et(0,"SetEmpty"),!1,t]}case 0:return[new et(0,"SetEmpty"),!1,new et(0,"SetEmpty")];default:{const r=0|e.Compare(n,t.fields[0]);if(r<0){const r=ct(e,n,t.fields[1]);return[r[0],r[1],ot(e,r[2],t.fields[0],t.fields[2])]}if(0===r)return[t.fields[1],!0,t.fields[2]];{const r=ct(e,n,t.fields[2]);return[ot(e,t.fields[1],t.fields[0],r[0]),r[1],r[2]]}}}}function lt(e,n,t){switch(t.tag){case 2:return 0===(0|e.Compare(n,t.fields[0]))?new et(0,"SetEmpty"):t;case 1:{const r=0|e.Compare(n,t.fields[0]);if(r<0)return ut(lt(e,n,t.fields[1]),t.fields[0],t.fields[2]);if(0===r){if(0===t.fields[1].tag)return t.fields[2];if(0===t.fields[2].tag)return t.fields[1];{const e=function e(n){switch(n.tag){case 2:return[n.fields[0],new et(0,"SetEmpty")];case 1:if(0===n.fields[1].tag)return[n.fields[0],n.fields[2]];{const t=e(n.fields[1]);return[t[0],at(t[1],n.fields[0],n.fields[2])]}default:throw new Error("internal error: Set.spliceOutSuccessor")}}(t.fields[2]);return at(t.fields[1],e[0],e[1])}}return ut(t.fields[1],t.fields[0],lt(e,n,t.fields[2]))}default:return t}}function ft(e,n,t){e:for(;;){const r=e,i=n,a=t;switch(a.tag){case 2:return 0===r.Compare(i,a.fields[0]);case 0:return!1;default:{const u=0|r.Compare(i,a.fields[0]);if(u<0){e=r,n=i,t=a.fields[1];continue e}if(0===u)return!0;e=r,n=i,t=a.fields[2];continue e}}break}}function dt(e,n,t){e:for(;;){const r=e,i=n,a=t;switch(a.tag){case 2:return r(i,a.fields[0]);case 0:return i;default:{const u=r(dt(r,i,a.fields[1]),a.fields[0]);e=r,n=u,t=a.fields[2];continue e}}break}}function wt(e,n){e:for(;;){const t=e,r=n;switch(r.tag){case 2:return t(r.fields[0]);case 0:return!0;default:if(t(r.fields[0])&&wt(t,r.fields[1])){e=t,n=r.fields[2];continue e}return!1}break}}function ht(e,n,t){return wt((function(n){return ft(e,n,t)}),n)}function pt(e,n,t){return function e(n,t,r,i){e:for(;;){const a=n,u=t,s=r,o=i;switch(s.tag){case 2:return u(s.fields[0])?st(a,s.fields[0],o):o;case 0:return o;default:{const c=u(s.fields[0])?st(a,s.fields[0],o):o;n=a,t=u,r=s.fields[1],i=e(a,u,s.fields[2],c);continue e}}break}}(e,n,t,new et(0,"SetEmpty"))}function gt(e,n,t){return function e(n,t,r){e:for(;;){const i=n,a=t,u=r;switch(a.tag){case 2:return lt(i,a.fields[0],u);case 0:return u;default:n=i,t=a.fields[1],r=e(i,a.fields[2],lt(i,a.fields[0],u));continue e}break}}(e,t,n)}const mt=x((function(e,n){this.stack=e,this.started=n}),W);function yt(e){for(;;){const n=e;if(null==n.tail)return new j;if(2===n.head.tag)return n;1!==n.head.tag?e=n.tail:e=new j(n.head.fields[1],new j(tt(n.head.fields[0]),new j(n.head.fields[2],n.tail)))}}function vt(e){return new mt(yt(new j(e,new j)),!1)}function St(e){if(e.started){const n=e.stack;if(null==n.tail)return function(){throw new Error("Enumeration already started")}();if(2===n.head.tag)return n.head.fields[0];throw new Error("Please report error: Set iterator, unexpected stack for current")}return function(){throw new Error("Enumeration not started")}()}const Et=x((function(e){this.s=e,this.i=vt(this.s)}));function bt(e){return function(e){return this instanceof Et?Et.call(this,e):new Et(e)}(e)}function Ct(e,n,t){return 0===n.tag?0===t.tag?0:-1:0===t.tag?1:0|function(e,n,t){e:for(;;){const V=e,q=n,W=t;var r,i,a,u,s,o,c,l,f,d,w,h,p,g,m,y,v,S,E,b,C,k,R,O,P,A,I,M,T,N,D,x,G,_,F,B;switch(null!=q.tail?null!=W.tail?2===W.head.tag?2===q.head.tag?(r=4,u=q.head.fields[0],s=W.head.fields[0],o=q.tail,c=W.tail):1===q.head.tag?0===q.head.fields[1].tag?(r=6,p=q.head.fields[1],g=q.head.fields[0],m=q.head.fields[2],y=W.head.fields[0],v=q.tail,S=W.tail):(r=9,I=q.head.fields[0],M=q.head.fields[1],T=q.head.fields[2],N=q.tail):(r=10,D=W.head.fields[0],x=W.tail):1===W.head.tag?0===W.head.fields[1].tag?2===q.head.tag?(r=5,l=q.head.fields[0],f=W.head.fields[0],d=W.head.fields[2],w=q.tail,h=W.tail):1===q.head.tag?0===q.head.fields[1].tag?(r=7,E=q.head.fields[0],b=q.head.fields[2],C=W.head.fields[0],k=W.head.fields[2],R=q.tail,O=W.tail):(r=9,I=q.head.fields[0],M=q.head.fields[1],T=q.head.fields[2],N=q.tail):(r=11,G=W.head.fields[0],_=W.head.fields[1],F=W.head.fields[2],B=W.tail):2===q.head.tag?(r=8,P=q.head.fields[0],A=q.tail):1===q.head.tag?(r=9,I=q.head.fields[0],M=q.head.fields[1],T=q.head.fields[2],N=q.tail):(r=11,G=W.head.fields[0],_=W.head.fields[1],F=W.head.fields[2],B=W.tail):2===q.head.tag?(r=8,P=q.head.fields[0],A=q.tail):1===q.head.tag?(r=9,I=q.head.fields[0],M=q.head.fields[1],T=q.head.fields[2],N=q.tail):(r=3,i=q.tail,a=W.tail):r=2:r=null!=W.tail?1:0,r){case 0:return 0;case 1:return-1;case 2:return 1;case 3:e=V,n=i,t=a;continue e;case 4:{const r=0|V.Compare(u,s);if(0!==r)return 0|r;e=V,n=o,t=c;continue e}case 5:{const r=0|V.Compare(l,f);if(0!==r)return 0|r;e=V,n=new j(new et(0,"SetEmpty"),w),t=new j(d,h);continue e}case 6:{const r=0|V.Compare(g,y);if(0!==r)return 0|r;e=V,n=new j(m,v),t=new j(p,S);continue e}case 7:{const r=0|V.Compare(E,C);if(0!==r)return 0|r;e=V,n=new j(b,R),t=new j(k,O);continue e}case 8:e=V,n=new j(new et(0,"SetEmpty"),new j(tt(P),A)),t=W;continue e;case 9:e=V,n=new j(M,new j(rt(I,new et(0,"SetEmpty"),T,0),N)),t=W;continue e;case 10:e=V,n=q,t=new j(new et(0,"SetEmpty"),new j(tt(D),x));continue e;case 11:e=V,n=q,t=new j(_,new j(rt(G,new et(0,"SetEmpty"),F,0),B));continue e}break}}(e,new j(n,new j),new j(t,new j))}function kt(e){return function e(n,t){e:for(;;){const r=n,i=t;switch(r.tag){case 2:return new j(r.fields[0],i);case 0:return i;default:n=r.fields[1],t=new j(r.fields[0],e(r.fields[2],i));continue e}break}}(e,new j)}function Rt(e,n){const t=pn(n);try{return function(e,n,t){for(;;){const r=e,i=n,a=t;if(!a.MoveNext())return i;e=r,n=st(r,a.Current,i),t=a}}(e,new et(0,"SetEmpty"),t)}finally{r(t)&&t.Dispose()}}Object.defineProperty(Et.prototype,"Current",{get:function(){return St(this.i)}}),Et.prototype.MoveNext=function(){return function(e){if(e.started){const n=e.stack;if(null==n.tail)return!1;if(2===n.head.tag)return e.stack=yt(n.tail),!(null==e.stack.tail);throw new Error("Please report error: Set iterator, unexpected stack for moveNext")}return e.started=!0,!(null==e.stack.tail)}(this.i)},Et.prototype.Reset=function(){this.i=vt(this.s)},Et.prototype.Dispose=function(){};const Ot=x((function(e,n){this.comparer=e,this.tree=n}));function Pt(e,n){return this instanceof Ot?Ot.call(this,e,n):new Ot(e,n)}function At(e){return e.comparer}function It(e){return e.tree}function Mt(e,n){return ft(At(e),n,It(e))}function Tt(e,n){if(0===It(e).tag)return e;return 0===It(n).tag?e:Pt(At(e),gt(At(e),It(e),It(n)))}function Nt(e,n){if(0===It(n).tag)return e;return 0===It(e).tag?n:Pt(At(e),function e(n,t,r){var i,a,u,s,o,c,l,f,d,w,h,p,g,m,y;switch(0===t.tag?(i=1,w=r):2===t.tag?0===r.tag?(i=2,h=t):(r.tag,i=3,p=t.fields[0],g=r):0===r.tag?(i=2,h=t):2===r.tag?(i=4,m=r.fields[0],y=t):(i=0,a=t.fields[3],u=r.fields[3],s=t.fields[0],o=r.fields[0],c=t.fields[1],l=t.fields[2],f=r.fields[1],d=r.fields[2]),i){case 0:if(a>u){const t=ct(n,s,r);return ot(n,e(n,c,t[0]),s,e(n,l,t[2]))}{const r=ct(n,o,t);return ot(n,e(n,f,r[0]),o,e(n,d,r[2]))}case 1:return w;case 2:return h;case 3:return st(n,p,g);case 4:return st(n,m,y)}}(At(e),It(e),It(n)))}function Dt(e){return 0===It(e).tag}function xt(e,n){return Mt(n,e)}function Gt(e,n){return r=e,Pt(At(t=n),st(At(t),r,It(t)));var t,r}function _t(e,n){return Pt(n,new et(2,"SetOne",e))}function jt(e,n){return r=e,Pt(At(t=n),lt(At(t),r,It(t)));var t,r}function Ft(e,n){return bn(Nt,Pt(n,new et(0,"SetEmpty")),e)}function Bt(e){return Pt(e,new et(0,"SetEmpty"))}function Vt(e,n){return r=e,0===It(t=n).tag?t:Pt(At(t),pt(At(t),r,It(t)));var t,r}function qt(e,n,t){return r=n,i=e,Pt(a=t,dt((function(e,n){return st(a,i(n),e)}),new et(0,"SetEmpty"),It(r)));var r,i,a}function Wt(e){return nt(It(e))}function Ht(e,n){return Pt(n,Rt(n,e))}function Lt(e,n){return r=n,ht(At(t=e),It(t),It(r));var t,r}Ot.prototype.toString=function(){return"set ["+zn("; ",Rn((function(e){return String(e)}),this))+"]"},Ot.prototype.GetHashCode=function(){let e=0;const n=bt(It(this));for(;n.MoveNext();){e=((0|e)<<1)+(0|l(n.Current))+631}return 0|Math.abs(e)},Ot.prototype.Equals=function(e){return 0===Ct(At(this),It(this),It(e))},Ot.prototype.CompareTo=function(e){return 0|Ct(At(this),It(this),It(e))},Ot.prototype[Symbol.iterator]=function(){return gn(bt(It(this)))};const zt=x((function(e,n){const t=new H(null);this.comparer=n,t.contents=this,this["entries@23"]=new Map([]),this["init@20-1"]=1,Cn((function(e){Zt(t.contents,e[0],e[1])}),e)}));function Jt(e,n){const t=0|e.comparer.GetHashCode(n),r=i(e["entries@23"],t,null);return r[0]?[!0,t,r[1].findIndex((function(t){return e.comparer.Equals(n,t[0])}))]:[!1,t,-1]}function Ut(e,n){const t=Jt(e,n);switch(t[0]&&t[2]>-1?0:1){case 0:return N(e["entries@23"],t[1])[t[2]];case 1:return null}}function Yt(e){e["entries@23"].clear()}function Kt(e){return 0|In((function(e){return e.length}),e["entries@23"].values(),{GetZero:()=>0,Add:(e,n)=>e+n})}function Zt(e,n,t){const r=Jt(e,n);switch(r[0]&&r[2]>-1?0:1){case 0:{let e;throw e=Wn(qn("An item with the same key has already been added. Key: %A"))(n),new Error(e)}case 1:if(r[0]){N(e["entries@23"],r[1]).push([n,t])}else e["entries@23"].set(r[1],[[n,t]])}}function $t(e,n){const t=Jt(e,n);switch(t[0]&&t[2]>-1?0:1){case 0:return N(e["entries@23"],t[1]).splice(t[2],1),!0;case 1:return!1}}zt.prototype[Symbol.iterator]=function(){const e=this;return gn(pn(En((function(){return Sn((function(e){return Rn((function(e){return e}),e)}),e["entries@23"].values())}))))},zt.prototype.Add=function(e){Zt(this,e[0],e[1])},zt.prototype.Clear=function(){Yt(this)},zt.prototype.Contains=function(e){const n=Ut(this,e[0]);switch(null!=n&&h(n[1],e[1])?0:1){case 0:return!0;case 1:return!1}},zt.prototype.CopyTo=function(e,n){kn((function(t,r){e[n+t]=r}),this)},Object.defineProperty(zt.prototype,"Count",{get:function(){return 0|Kt(this)}}),Object.defineProperty(zt.prototype,"IsReadOnly",{get:function(){return!1}}),zt.prototype.Remove=function(e){const n=this,t=Ut(n,e[0]);if(null!=t){if(h(t[1],e[1])){$t(n,e[0])}return!0}return!1},Object.defineProperty(zt.prototype,"size",{get:function(){return 0|Kt(this)}}),zt.prototype.clear=function(){Yt(this)},zt.prototype.delete=function(e){return $t(this,e)},zt.prototype.entries=function(){return Rn((function(e){return e}),this)},zt.prototype.get=function(e){return function(e,n){const t=Ut(e,n);if(null!=t){return t[1]}throw new Error("The item was not found in collection")}(this,e)},zt.prototype.has=function(e){return function(e,n){const t=Jt(e,n);switch(t[0]&&t[2]>-1?0:1){case 0:return!0;case 1:return!1}}(this,e)},zt.prototype.keys=function(){return Rn((function(e){return e[0]}),this)},zt.prototype.set=function(e,n){return function(e,n,t){const r=Jt(e,n);switch(r[0]&&r[2]>-1?0:1){case 0:N(e["entries@23"],r[1])[r[2]]=[n,t];break;case 1:if(r[0]){N(e["entries@23"],r[1]).push([n,t])}else e["entries@23"].set(r[1],[[n,t]])}}(this,e,n),this},zt.prototype.values=function(){return Rn((function(e){return e[1]}),this)};const Xt=x((function(e,n,...t){F.call(this,e,n,...t)}),F);function Qt(e){return function e(n,t){e:for(;;){const r=n,i=t;switch(i.tag){case 1:return r+1|0;case 2:n=e(r+1,i.fields[2]),t=i.fields[3];continue e;default:return 0|r}break}}(0,e)}function er(){return new Xt(0,"MapEmpty")}function nr(e){switch(e.tag){case 1:return 1;case 2:return 0|e.fields[4];default:return 0}}function tr(e,n,t,r){switch(0===e.tag&&0===r.tag?0:1){case 0:return new Xt(1,"MapOne",n,t);case 1:{const i=0|nr(e),a=0|nr(r);return new Xt(2,"MapNode",n,t,e,r,(0|(i<a?a:i))+1)}}}function rr(e,n,t,r){const i=0|nr(e),a=0|nr(r);if(a>i+2){if(2===r.tag){if(nr(r.fields[2])>i+1){if(2===r.fields[2].tag)return tr(tr(e,n,t,r.fields[2].fields[2]),r.fields[2].fields[0],r.fields[2].fields[1],tr(r.fields[2].fields[3],r.fields[0],r.fields[1],r.fields[3]));throw new Error("rebalance")}return tr(tr(e,n,t,r.fields[2]),r.fields[0],r.fields[1],r.fields[3])}throw new Error("rebalance")}if(i>a+2){if(2===e.tag){if(nr(e.fields[3])>a+1){if(2===e.fields[3].tag)return tr(tr(e.fields[2],e.fields[0],e.fields[1],e.fields[3].fields[2]),e.fields[3].fields[0],e.fields[3].fields[1],tr(e.fields[3].fields[3],n,t,r));throw new Error("re  balance")}return tr(e.fields[2],e.fields[0],e.fields[1],tr(e.fields[3],n,t,r))}throw new Error("rebalance")}return tr(e,n,t,r)}function ir(e,n,t,r){switch(r.tag){case 1:{const i=0|e.Compare(n,r.fields[0]);return i<0?new Xt(2,"MapNode",n,t,new Xt(0,"MapEmpty"),r,2):0===i?new Xt(1,"MapOne",n,t):new Xt(2,"MapNode",n,t,r,new Xt(0,"MapEmpty"),2)}case 2:{const i=0|e.Compare(n,r.fields[0]);return i<0?rr(ir(e,n,t,r.fields[2]),r.fields[0],r.fields[1],r.fields[3]):0===i?new Xt(2,"MapNode",n,t,r.fields[2],r.fields[3],r.fields[4]):rr(r.fields[2],r.fields[0],r.fields[1],ir(e,n,t,r.fields[3]))}default:return new Xt(1,"MapOne",n,t)}}function ar(e,n,t){e:for(;;){const r=e,i=n,a=t;switch(a.tag){case 1:if(0===(0|r.Compare(i,a.fields[0])))return a.fields[1];throw new Error("key not found");case 2:{const u=0|r.Compare(i,a.fields[0]);if(u<0){e=r,n=i,t=a.fields[2];continue e}if(0===u)return a.fields[1];e=r,n=i,t=a.fields[3];continue e}default:throw new Error("key not found")}break}}function ur(e,n,t,r,i){return n(t,r)?ir(e,t,r,i):i}function sr(e,n,t){return function e(n,t,r,i){e:for(;;){const a=n,u=t,s=r,o=i;switch(s.tag){case 1:return ur(a,u,s.fields[0],s.fields[1],o);case 2:{const c=e(a,u,s.fields[2],o),l=ur(a,u,s.fields[0],s.fields[1],c);n=a,t=u,r=s.fields[3],i=l;continue e}default:return o}break}}(e,n,t,er())}function or(e,n,t){e:for(;;){const r=e,i=n,a=t;switch(a.tag){case 1:return 0===r.Compare(i,a.fields[0]);case 2:{const u=0|r.Compare(i,a.fields[0]);if(u<0){e=r,n=i,t=a.fields[2];continue e}if(0===u)return!0;e=r,n=i,t=a.fields[3];continue e}default:return!1}break}}function cr(e,n){const t=pn(n);try{return function(e,n,t){for(;;){const r=e,i=n,a=t;if(!a.MoveNext())return i;{const u=a.Current;e=r,n=ir(r,u[0],u[1],i),t=a}}}(e,er(),t)}finally{r(t)&&t.Dispose()}}const lr=x((function(e,n){this.stack=e,this.started=n}),W);function fr(e){for(;;){const n=e;if(null==n.tail)return new j;if(1===n.head.tag)return n;2!==n.head.tag?e=n.tail:e=new j(n.head.fields[2],new j(new Xt(1,"MapOne",n.head.fields[0],n.head.fields[1]),new j(n.head.fields[3],n.tail)))}}function dr(e){return new lr(fr(new j(e,new j)),!1)}function wr(e){if(e.started){const n=e.stack;if(null==n.tail)return function(){throw new Error("enumeration already finished")}();if(1===n.head.tag)return[n.head.fields[0],n.head.fields[1]];throw new Error("Please report error: Map iterator, unexpected stack for current")}return function(){throw new Error("enumeration not started")}()}const hr=x((function(e){this.s=e,this.i=dr(this.s)}));function pr(e){return function(e){return this instanceof hr?hr.call(this,e):new hr(e)}(e)}function gr(e){return Nn((function(e){return e.MoveNext()?[e.Current,e]:null}),pr(e))}Object.defineProperty(hr.prototype,"Current",{get:function(){return wr(this.i)}}),hr.prototype.MoveNext=function(){return function(e){if(e.started){const n=e.stack;if(null==n.tail)return!1;if(1===n.head.tag)return e.stack=fr(n.tail),!(null==e.stack.tail);throw new Error("Please report error: Map iterator, unexpected stack for moveNext")}return e.started=!0,!(null==e.stack.tail)}(this.i)},hr.prototype.Reset=function(){this.i=dr(this.s)},hr.prototype.Dispose=function(){};const mr=x((function(e,n){this.comparer=e,this.tree=n}));function yr(e,n){return this instanceof mr?mr.call(this,e,n):new mr(e,n)}function vr(e){return e.tree}function Sr(e,n){return ar(e.comparer,n,e.tree)}function Er(e,n){return yr(e.comparer,function e(n,t){switch(t.tag){case 1:return new Xt(1,"MapOne",t.fields[0],n(t.fields[0],t.fields[1]));case 2:{const r=e(n,t.fields[2]),i=n(t.fields[0],t.fields[1]),a=e(n,t.fields[3]);return new Xt(2,"MapNode",t.fields[0],i,r,a,t.fields[4])}default:return er()}}(n,e.tree))}function br(e){return Qt(e.tree)}function Cr(e,n){return or(e.comparer,n,e.tree)}function kr(e,n){return r=e,yr((t=n).comparer,sr(t.comparer,r,t.tree));var t,r}function Rr(e,n){return yr(n,cr(n,e))}function Or(e,n,t){return function(e,n,t,r){for(;;){const i=e,a=n,u=t,s=r;if(null==s.tail)return u;e=i,n=a+1,t=i(a,u,s.head),r=s.tail}}(e,0,n,t)}function Pr(e,n,t){for(;;){const r=e,i=n,a=t;if(null==a.tail)return i;e=r,n=r(i,a.head),t=a.tail}}function Ar(e){return Pr((function(e,n){return new j(n,e)}),new j,e)}function Ir(e,n,t){return Pr((function(n,t){return e(t,n)}),t,Ar(n))}function Mr(e){return Ar(bn((function(e,n){return new j(n,e)}),new j,e))}function Tr(e){return Pr((function(e,n){return e+1}),0,e)}function Nr(e,n){return Pr((function(e,n){return new j(n,e)}),n,Ar(e))}function Dr(e,n){return Ar(Pr((function(n,t){return new j(e(t),n)}),new j,n))}function xr(e){return n=function(e,n){return[e,n]},t=e,Ar(Or((function(e,t,r){return new j(n(e,r),t)}),new j,t));var n,t}function Gr(e,n){Pr((function(n,t){e(t)}),null,n)}function _r(e){let n=new j;for(let t=function(e){if(f(e))return e.length;{let n=0;for(const t of e)n++;return n}}(e)-1;t>=0;t--)n=new j(e[t],n);return n}function jr(e,n){return function(e,n,t){e:for(;;){const r=e,i=n,a=t;if(null!=a.tail){const u=r(i,a.head);if(null==u){e=r,n=i+1,t=a.tail;continue e}return u}return null}}(e,0,n)}function Fr(e,n){return jr((function(n,t){return e(n,t)?ee(t):null}),n)}function Br(e,n){return Ar(Pr((function(n,t){return e(t)?new j(t,n):n}),new j,n))}function Vr(e,n){return Ar(Pr((function(n,t){const r=e(t);if(null==r)return n;return new j(ne(r),n)}),new j,n))}function qr(e,n){if(e<0)throw new Error("The input must be non-negative.");var t,r,i;switch(0===e?t=0:1===e&&null!=n.tail?t=1:(t=2,r=e,i=n),t){case 0:return n;case 1:return n.tail;case 2:return function(e,n){for(;;){const t=e,r=n;if(0===t)return r;if(null==r.tail)throw new Error("The input sequence has an insufficient number of elements.");e=t-1,n=r.tail}}(r,i)}}function Wr(e,n,t,r){for(;;){const i=e,a=n,u=t,s=r;if(0===a)return[Ar(u),s];if(null==s.tail){if(i)throw new Error("The input sequence has an insufficient number of elements.");return[Ar(u),s]}e=i,n=a-1,t=new j(s.head,u),r=s.tail}}function Hr(e,n){return null!=n.tail?null==n.tail.tail?e(n.head)?n:n.tail:e(n.head)?new j(n.head,Hr(e,n.tail)):new j:n}mr.prototype.toString=function(){return"map ["+zn("; ",Rn((function(e){return Wn(qn("(%A, %A)"))(e[0])(e[1])}),this))+"]"},mr.prototype.GetHashCode=function(){const e=function(e,n){return(e<<1)+n+631};let n=0;const t=pr(vr(this));for(;t.MoveNext();){const r=t.Current;n=e(n,l(r[0])),n=e(n,l(r[1]))}return 0|Math.abs(n)},mr.prototype.Equals=function(e){return 0===this.CompareTo(e)},mr.prototype[Symbol.iterator]=function(){return gn(pr(this.tree))},mr.prototype.CompareTo=function(e){const n=this;let t=0,i=!1;const a=pr(vr(n));try{const u=pr(vr(e));try{for(;!i&&0===t;){const e=[a.MoveNext(),u.MoveNext()];if(e[0])if(e[1]){const e=a.Current,r=u.Current,i=0|n.comparer.Compare(e[0],r[0]);t=0!==i?i:v(e[1],r[1])}else t=1;else e[1]?t=-1:i=!0}return 0|t}finally{r(u)&&u.Dispose()}}finally{r(a)&&a.Dispose()}},Object.defineProperty(mr.prototype,"size",{get:function(){return 0|br(this)}}),mr.prototype.clear=function(){throw new Error("Map cannot be mutated")},mr.prototype.delete=function(e){throw new Error("Map cannot be mutated")},mr.prototype.entries=function(){return gr(vr(this))},mr.prototype.get=function(e){return Sr(this,e)},mr.prototype.has=function(e){return Cr(this,e)},mr.prototype.keys=function(){return Rn((function(e){return e[0]}),gr(vr(this)))},mr.prototype.set=function(e,n){throw new Error("Map cannot be mutated")},mr.prototype.values=function(){return Rn((function(e){return e[1]}),gr(vr(this)))};var Lr=x((function(e,n){for(var t=arguments.length,r=new Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];F.call.apply(F,[this,e,n].concat(r))}),F);function zr(e,n,t){var r,i=0|Wt(t);if(i===e){var a=n(t);return new re(0,"Ok",a)}return r=Wn(qn("%A should have size %i, but has size %i"))(t)(e)(i),new re(1,"Error",r)}function Jr(e,n,t){var r,i=zr(e,n,t);return 1===(r=i).tag?Hn(qn("An Error (not Ok) was returned: %s"))(r.fields[0]):r.fields[0]}function Ur(e){return 1===e.tag?Hn(qn("%A"))(e.fields[0]):e.fields[0]}var Yr=x((function(){}));function Kr(e,n,t){return ae(t,n)}function Zr(e,n){return n}!function(){this instanceof Yr?Yr.call(this):new Yr}();var $r=x((function(e,n){for(var t=arguments.length,r=new Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];F.call.apply(F,[this,e,n].concat(r))}),F);var Xr=x((function(e,n){for(var t=arguments.length,r=new Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];F.call.apply(F,[this,e,n].concat(r))}),F);var Qr=Ht([new Xr(0,"Algiers"),new Xr(1,"Atlanta"),new Xr(2,"Baghdad"),new Xr(3,"Bangkok"),new Xr(4,"Beijing"),new Xr(5,"Bogota"),new Xr(6,"BuenosAires"),new Xr(7,"Cairo"),new Xr(8,"Chennai"),new Xr(9,"Chicago"),new Xr(10,"Delhi"),new Xr(11,"Essen"),new Xr(12,"HoChiMinhCity"),new Xr(13,"HongKong"),new Xr(14,"Istanbul"),new Xr(15,"Jakarta"),new Xr(16,"Johannesburg"),new Xr(17,"Karachi"),new Xr(18,"Khartoum"),new Xr(19,"Kinshasa"),new Xr(20,"Kolkata"),new Xr(21,"Lagos"),new Xr(22,"Lima"),new Xr(23,"London"),new Xr(24,"LosAngeles"),new Xr(25,"Madrid"),new Xr(26,"Manila"),new Xr(27,"MexicoCity"),new Xr(28,"Miami"),new Xr(29,"Milan"),new Xr(30,"Montreal"),new Xr(31,"Moscow"),new Xr(32,"Mumbai"),new Xr(33,"NewYork"),new Xr(34,"Osaka"),new Xr(35,"Paris"),new Xr(36,"Riyadh"),new Xr(37,"SanFrancisco"),new Xr(38,"Santiago"),new Xr(39,"SaoPaulo"),new Xr(40,"Seoul"),new Xr(41,"Shanghai"),new Xr(42,"StPetersburg"),new Xr(43,"Sydney"),new Xr(44,"Taipei"),new Xr(45,"Tehran"),new Xr(46,"Tokyo"),new Xr(47,"Washington")],{Compare:function(e,n){return e.CompareTo(n)}}),ei=x((function(e,n){for(var t=arguments.length,r=new Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];F.call.apply(F,[this,e,n].concat(r))}),F);function ni(e){return n="DeckSize",t=function(e){return new ei(0,"DeckSize",e)},i=48,(a=e)<(r=0)?(u=Wn(qn("%s: Must not be less than %i"))(n)(r),new re(1,"Error",u)):a>i?(s=Wn(qn("%s: Must not be greater than %i"))(n)(i),new re(1,"Error",s)):new re(0,"Ok",t(a));var n,t,r,i,a,u,s}var ti=x((function(e,n){for(var t=arguments.length,r=new Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];F.call.apply(F,[this,e,n].concat(r))}),F);function ri(e){var n,t;if(function(e,n){for(;;){const t=e,r=n;if(null==r.tail)return!1;if(t(r.head))return!0;e=t,n=r.tail}}(Dt,e))return n=Dr((function(e){return e[0]}),Br((function(e){return Dt(e[1])}),xr(e))),t=Wn(qn("%A contains empty sets at indexes %A"))(e)(n),new re(1,"Error",t);var r,i,a=0|Wt(r=Vt((function(n){return Tr(Br((function(e){return xt(n,e)}),e))>=2}),Ft(e,{Compare:function(e,n){return e.CompareTo(n)}})));if(0===a){var u=new ti(0,"Deck",e);return new re(0,"Ok",u)}return i=Wn(qn("%A contains %d duplicates: %A"))(e)(a)(r),new re(1,"Error",i)}function ii(e){return e.fields[0]}function ai(e){return Ft(e.fields[0],{Compare:function(e,n){return e.CompareTo(n)}})}function ui(e){return null==ii(e).tail}function si(e){return function(e){var n=ni(e);if(1===n.tag)throw new Error(n.fields[0]);return n.fields[0]}(0|Wt(ai(e)))}function oi(e,n){return ri(Br((function(e){return!Dt(e)}),Dr((function(n){return Tt(n,e)}),ii(n))))}function ci(e){var n,t,r;return qr(1,(n=function(e,n){return[n,e[1]+Wt(n)]},t=[Bt({Compare:function(e,n){return e.CompareTo(n)}}),0],r=e.fields[0],Mr(On(n,t,r))))}function li(e,n){return Ft(Dr((function(e){return e[0]}),Hr((function(n){return n[1]<=e.fields[0]}),ci(n))),{Compare:function(e,n){return e.CompareTo(n)}})}function fi(e,n){var t,r,i,a;if(e.fields[0]>si(n).fields[0])t=null;else if(0===e.fields[0])t=new j;else{var u,s=ci(n);i=function(n){return n[1]<e.fields[0]},a=s;var o=[Dr((function(e){return e[0]}),(u=Pr((function(e,n){return i(n)?[new j(n,e[0]),e[1]]:[e[0],new j(n,e[1])]}),[new j,new j],Ar(a)))[0]),Dr((function(e){return e[0]}),u[1])],c=(r=0,Fr((function(e,n){return r===e}),o[1]));if(null==c)t=o[0];else t=Nr(o[0],new j(c,new j))}return null==t?ai(n):Ft(t,{Compare:function(e,n){return e.CompareTo(n)}})}function di(e){return function(e){for(;;){const n=e;if(null==n.tail)return null;if(null==n.tail.tail)return ee(n.head);e=n.tail}}(ii(e))}function wi(e,n){return ri(new j(e,n.fields[0]))}var hi=x((function(e,n){for(var t=arguments.length,r=new Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];F.call.apply(F,[this,e,n].concat(r))}),F);var pi=new hi(0,"DiscardPile",Bt({Compare:function(e,n){return e.CompareTo(n)}}));function gi(e){return e.fields[0]}function mi(e,n){var t;if(xt(e,n.fields[0]))return t=Wn(qn("Tried to add %A to DiscardPile %A, but it is already present"))(e)(n.fields[0]),new re(1,"Error",t);var r,i=Gt(e,n.fields[0]);return r=new hi(0,"DiscardPile",i),new re(0,"Ok",r)}function yi(e,n){return t=function(e,n){return ae((function(e){return mi(n,e)}),e)},r=new re(0,"Ok",n),dt(t,r,It(e));var t,r}var vi=x((function(e,n){for(var t=arguments.length,r=new Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];F.call.apply(F,[this,e,n].concat(r))}),F);var Si=new vi(0,"Empty");function Ei(e){switch(e.tag){case 1:return!0;case 2:return!1;default:return!0}}function bi(e){switch(e.tag){case 1:return _t(e.fields[0],{Compare:function(e,n){return e.CompareTo(n)}});case 2:return e.fields[0];default:return Bt({Compare:function(e,n){return e.CompareTo(n)}})}}var Ci=x((function(e,n){for(var t=arguments.length,r=new Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];F.call.apply(F,[this,e,n].concat(r))}),F);var ki=x((function(e,n){for(var t=arguments.length,r=new Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];F.call.apply(F,[this,e,n].concat(r))}),F);function Ri(e){switch(e.tag){case 1:case 2:return new Ci(0,"Two");case 3:case 4:return new Ci(1,"Three");case 5:case 6:return new Ci(2,"Four");default:return new Ci(0,"Two")}}var Oi;Oi=new ki(6,"SeventhPosition");var Pi=x((function(e,n,t,r){this.Deck=e,this.DiscardPile=n,this.RemovedCards=t,this.TrackPosition=r}),W);var Ai=x((function(e,n){for(var t=arguments.length,r=new Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];F.call.apply(F,[this,e,n].concat(r))}),F);function Ii(e,n,t,r){var i=function(r){var i=function(e){return xt(r,e)?1:0},a=ai(e),u=gi(n),s=bi(t);return i(a)+i(u)+i(s)|0},a=Vt((function(e){return 0===i(e)}),Qr),u=Vt((function(e){return i(e)>1}),Qr),s=[Dt(a),Dt(u)];switch(s[0]?s[1]?2:1:0){case 0:var o;return o=Wn(qn("%A not in any of the deck, discard pile, removed cards"))(a),new re(1,"Error",o);case 1:var c;return c=Wn(qn("%A in multiple of the deck, discard pile, removed cards"))(u),new re(1,"Error",c);case 2:var l,f=new Pi(e,n,t,r);return l=new Ai(0,"GameState",f),new re(0,"Ok",l)}}function Mi(e){return e.fields[0].Deck}function Ti(e){return e.fields[0].DiscardPile}function Ni(e){return e.fields[0].RemovedCards}function Di(e){return e.fields[0].TrackPosition}function xi(e,n,t){return Ii(n,t,e.fields[0].RemovedCards,e.fields[0].TrackPosition)}function Gi(e){return Ri(Di(e))}function _i(e){return 0|function(e){switch(e.tag){case 1:return 3;case 2:return 4;default:return 2}}(Ri(Di(e)))}function ji(e,n){var t,r=0|Wt(n),i=0|_i(e);return r===i?null:(t=Wn(qn("Tried to infect %i cities when infection rate is %i"))(r)(i),new $r(0,"ValidationError",t))}function Fi(e,n,t){var r=e(n,t);if(null==r)return Kr(0,function(e,n){var t=0|Wt(n),r=li(new ei(0,"DeckSize",t),e),i=Lt(r,n),a=fi(new ei(0,"DeckSize",t),e),u=Lt(n,a);switch(i?u?2:1:0){case 0:var s;return s=Wn(qn("When drawing %i cards, the following must be drawn: %A"))(t)(r),new re(1,"Error",s);case 1:var o;return o=Wn(qn("When drawing %i cards, the cards that can be drawn are: %A"))(t)(a),new re(1,"Error",o);case 2:return oi(n,e)}}(Mi(n),t),(function(e){var r;return Kr(0,(r=Ti(n),yi(t,r)),(function(t){return Zr(0,xi(n,e,t))}))}));var i=r.fields[0];return new re(1,"Error",i)}function Bi(e,n){var t,r,i,a,u,s,o,c,l;switch(t=function(e,n){var t,r=jt(e,n.fields[0]);if(r.Equals(n.fields[0]))return t=Wn(qn("%A is not present in DiscardPile %A, so cannot remove it."))(e)(n.fields[0]),new re(1,"Error",t);var i=new hi(0,"DiscardPile",r);return new re(0,"Ok",i)}(e,Ti(n)),r=function(e,n){var t;switch(t=Wn(qn("Cannot add %A to removed cards; "))(e),n.tag){case 1:if(h(e,n.fields[0]))return new re(1,"Error",t+"it is already present.");var r=new vi(2,"TwoCards",Ht([e,n.fields[0]],{Compare:function(e,n){return e.CompareTo(n)}}));return new re(0,"Ok",r);case 2:var i=t+Wn(qn("no more than two cards can be removed, and the following\r\n                cards already have been: %A"))(n.fields[0]);return new re(1,"Error",i);default:var a=new vi(1,"OneCard",e);return new re(0,"Ok",a)}}(e,Ni(n)),1===t.tag?(r.tag,i=1,s=t.fields[0]):1===r.tag?(i=1,s=r.fields[0]):(i=0,a=t.fields[0],u=r.fields[0]),i){case 0:return c=a,l=u,Ii((o=n).fields[0].Deck,c,l,o.fields[0].TrackPosition);case 1:return new re(1,"Error",s)}}function Vi(e,n){var t=function(e){return ie((function(n){return r=n,new Ai(0,"GameState",new Pi((t=e).fields[0].Deck,t.fields[0].DiscardPile,t.fields[0].RemovedCards,r));var t,r}),function(e){switch(e.tag){case 1:return new re(0,"Ok",new ki(2,"ThirdPosition"));case 2:return new re(0,"Ok",new ki(3,"FourthPosition"));case 3:return new re(0,"Ok",new ki(4,"FifthPosition"));case 4:return new re(0,"Ok",new ki(5,"SixthPosition"));case 5:return new re(0,"Ok",new ki(6,"SeventhPosition"));case 6:return new re(1,"Error","Cannot advance from seventh position of infection rate track");default:return new re(0,"Ok",new ki(1,"SecondPosition"))}}(Di(e)))},r=function(e){var t;return Kr(0,(t=Mi(e),function(e,n){var t=di(n);switch(null!=t&&xt(e,t)?0:1){case 0:return oi(_t(e,{Compare:function(e,n){return e.CompareTo(n)}}),n);case 1:return null==t?new re(1,"Error","Deck is empty."):(r=Wn(qn("%A cannot be at the bottom of %A."))(e)(n),new re(1,"Error",r));var r}}(n,t)),(function(t){var r;return Kr(0,(r=Ti(e),mi(n,r)),(function(n){return Zr(0,xi(e,t,n))}))}))},i=function(e){var n,t=Ti(e);if(Dt(t.fields[0]))n=new re(0,"Ok",e);else{var r=Mi(e);n=ae((function(n){return xi(e,n,pi)}),wi(t.fields[0],r))}return Ur(n)},a=function(e,n,t){return ie(n,e(t))},u=function(e,n,t){return ae(n,e(t))};if(null==e)return T(1,a,[T(1,u,[t,r]),i]);var s=e;return T(1,a,[T(1,u,[T(1,u,[t,r]),s]),i])}var qi=function(e){return Vi(null,e)};function Wi(e,n){return Vi((function(e){return Bi(n,e)}),e)}var Hi=x((function(e,n){this.SelectedCards=e,this.ErrorMessageOpt=n}),W);var Li=x((function(e,n){this.GameState=e,this.ErrorMessageOpt=n}),W);function zi(e){return new Li(e,null)}var Ji=x((function(e,n,t){this.CardsToSelected=e,this.GameState=n,this.ErrorMessageOpt=t}),W);var Ui=x((function(e,n,t){this.GameState=e,this.InfectedOpt=n,this.ErrorMessageOpt=t}),W);var Yi=x((function(e,n,t,r){this.GameState=e,this.Infected=n,this.IsPlayingResilientPopulationOpt=t,this.ErrorMessageOpt=r}),W);var Ki=x((function(e,n,t,r){this.GameState=e,this.Infected=n,this.ResilientOpt=t,this.ErrorMessageOpt=r}),W);var Zi=x((function(e,n){for(var t=arguments.length,r=new Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];F.call.apply(F,[this,e,n].concat(r))}),F);function $i(e){var n;return n=new Ui(e,null,null),new Zi(0,"SelectingInfectedData",n)}var Xi=x((function(e,n,t){this.GameState=e,this.ResilientOpt=n,this.ErrorMessageOpt=t}),W);var Qi=x((function(e,n){this.Infected=e,this.ResilientOpt=n}),W);var ea=x((function(e,n){for(var t=arguments.length,r=new Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];F.call.apply(F,[this,e,n].concat(r))}),F);var na=x((function(e,n){for(var t=arguments.length,r=new Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];F.call.apply(F,[this,e,n].concat(r))}),F);var ta=x((function(e,n){this.Events=e,this.State=n}),W);function ra(){return new Hi(Bt({Compare:function(e,n){return e.CompareTo(n)}}),null)}function ia(e){return zi(function(e){var n=e.fields[0];return Ur(Kr(0,ri(new j(Tt(Qr,n),new j)),(function(e){return Zr(0,Ii(e,new hi(0,"DiscardPile",n),Si,new ki(0,"FirstPosition")))})))}(Jr(9,(function(e){return new Lr(0,"NineDistinct",e)}),e.SelectedCards)))}function aa(e){var n,t,r,i,a,u;return n=Rr(qt((function(n){var t,r,i,a;return[n,(r=e.GameState,i=Mi(r),a=0|_i(r),t=li(new ei(0,"DeckSize",a),i),xt(n,t))]}),(t=e.GameState,r=Mi(t),i=0|_i(t),fi(new ei(0,"DeckSize",i),r)),{Compare:y}),{Compare:function(e,n){return e.CompareTo(n)}}),a=n,u=e.GameState,new Ji(a,u,null)}function ua(e){return new Xi(e,null,null)}function sa(e,n){var t,r=(t=function(n,t){return h(n,e)?!t:t},Er(n.CardsToSelected,t));return new Ji(r,n.GameState,n.ErrorMessageOpt)}function oa(e,n){var t,r,i=(r=n.GameState,function(e){return Fi(ji,r,e)})(e);1===i.tag?t=Hn(qn("Bug in processFinishInfecting validation. Tried to\r\n                    apply InfectingFinished, but get an error: %s"))(i.fields[0]):t=i.fields[0];return zi(t)}function ca(e,n){switch(n.tag){case 1:return new Zi(1,"SelectingIsPlayingResilientPopulationData",n.fields[0]);case 2:return new Zi(2,"SelectingResilientData",n.fields[0]);default:var t;return r=n.fields[0].GameState,t=new Yi(r,e,null,null),new Zi(1,"SelectingIsPlayingResilientPopulationData",t)}var r}function la(e,n){switch(n.tag){case 1:var t;return r=n.fields[0].GameState,t=new Ki(r,e,null,null),new Zi(2,"SelectingResilientData",t);case 2:return new Zi(2,"SelectingResilientData",n.fields[0]);default:return new Zi(0,"SelectingInfectedData",n.fields[0])}var r}function fa(e){switch(e.tag){case 1:return new ea(1,"Starting",e.fields[0]);case 2:return new ea(2,"Viewing",e.fields[0]);case 3:return new ea(3,"Infecting",e.fields[0]);case 4:return new ea(4,"ResolvingEpidemic",e.fields[0]);case 5:return new ea(5,"ApplyingResilientPopulation",e.fields[0]);default:var n=ra();return new ea(1,"Starting",n)}}function da(e,n){switch(n.tag){case 1:var t=(i=e,a=n.fields[0],u=xt(i,a.SelectedCards)?jt(i,a.SelectedCards):Gt(i,a.SelectedCards),new Hi(u,a.ErrorMessageOpt));return new ea(1,"Starting",t);case 2:return new ea(2,"Viewing",n.fields[0]);case 3:var r=sa(e,n.fields[0]);return new ea(3,"Infecting",r);case 4:return new ea(4,"ResolvingEpidemic",n.fields[0]);case 5:return new ea(5,"ApplyingResilientPopulation",n.fields[0]);default:return new ea(0,"New")}var i,a,u}function wa(e,n){switch(n.tag){case 1:var t=(r=e,i=n.fields[0],a=r,new Hi(i.SelectedCards,a));return new ea(1,"Starting",t);case 2:return new ea(2,"Viewing",n.fields[0]);case 3:return new ea(3,"Infecting",n.fields[0]);case 4:return new ea(4,"ResolvingEpidemic",n.fields[0]);case 5:return new ea(5,"ApplyingResilientPopulation",n.fields[0]);default:return new ea(0,"New")}var r,i,a}function ha(e){switch(e.tag){case 1:var n=ia(e.fields[0]);return new ea(2,"Viewing",n);case 2:return new ea(2,"Viewing",e.fields[0]);case 3:return new ea(3,"Infecting",e.fields[0]);case 4:return new ea(4,"ResolvingEpidemic",e.fields[0]);case 5:return new ea(5,"ApplyingResilientPopulation",e.fields[0]);default:return new ea(0,"New")}}function pa(e){switch(e.tag){case 1:return new ea(1,"Starting",e.fields[0]);case 2:var n=aa(e.fields[0]);return new ea(3,"Infecting",n);case 3:return new ea(3,"Infecting",e.fields[0]);case 4:return new ea(4,"ResolvingEpidemic",e.fields[0]);case 5:return new ea(5,"ApplyingResilientPopulation",e.fields[0]);default:return new ea(0,"New")}}function ga(e,n){switch(n.tag){case 1:return new ea(1,"Starting",n.fields[0]);case 2:return new ea(2,"Viewing",n.fields[0]);case 3:var t=(r=e,i=n.fields[0],a=r,new Ji(i.CardsToSelected,i.GameState,a));return new ea(3,"Infecting",t);case 4:return new ea(4,"ResolvingEpidemic",n.fields[0]);case 5:return new ea(5,"ApplyingResilientPopulation",n.fields[0]);default:return new ea(0,"New")}var r,i,a}function ma(e,n){switch(n.tag){case 1:return new ea(1,"Starting",n.fields[0]);case 2:var t=(r=e,i=n.fields[0],a=r,new Li(i.GameState,a));return new ea(2,"Viewing",t);case 3:return new ea(3,"Infecting",n.fields[0]);case 4:return new ea(4,"ResolvingEpidemic",n.fields[0]);case 5:return new ea(5,"ApplyingResilientPopulation",n.fields[0]);default:return new ea(0,"New")}var r,i,a}function ya(e){switch(e.tag){case 1:return new ea(1,"Starting",e.fields[0]);case 2:var n=$i(e.fields[0].GameState);return new ea(4,"ResolvingEpidemic",n);case 3:return new ea(3,"Infecting",e.fields[0]);case 4:return new ea(4,"ResolvingEpidemic",e.fields[0]);case 5:return new ea(5,"ApplyingResilientPopulation",e.fields[0]);default:return new ea(0,"New")}}function va(e,n){switch(n.tag){case 1:return new ea(1,"Starting",n.fields[0]);case 2:return new ea(2,"Viewing",n.fields[0]);case 3:return new ea(3,"Infecting",n.fields[0]);case 4:var t=function(e,n){var t,r;switch(n.tag){case 1:return new Zi(1,"SelectingIsPlayingResilientPopulationData",n.fields[0]);case 2:return new Zi(2,"SelectingResilientData",(t=e,new Ki(n.fields[0].GameState,n.fields[0].Infected,t,n.fields[0].ErrorMessageOpt)));default:return new Zi(0,"SelectingInfectedData",(r=e,new Ui(n.fields[0].GameState,r,n.fields[0].ErrorMessageOpt)))}}(e,n.fields[0]);return new ea(4,"ResolvingEpidemic",t);case 5:var r=(i=e,a=n.fields[0],u=i,new Xi(a.GameState,u,a.ErrorMessageOpt));return new ea(5,"ApplyingResilientPopulation",r);default:return new ea(0,"New")}var i,a,u}function Sa(e,n){switch(n.tag){case 1:return new ea(1,"Starting",n.fields[0]);case 2:return new ea(2,"Viewing",n.fields[0]);case 3:return new ea(3,"Infecting",n.fields[0]);case 4:var t=function(e,n){var t;switch(n.tag){case 1:return new Zi(1,"SelectingIsPlayingResilientPopulationData",n.fields[0]);case 2:return new Zi(2,"SelectingResilientData",n.fields[0]);default:return new Zi(0,"SelectingInfectedData",(t=e,new Ui(n.fields[0].GameState,n.fields[0].InfectedOpt,t)))}}(e,n.fields[0]);return new ea(4,"ResolvingEpidemic",t);case 5:return new ea(5,"ApplyingResilientPopulation",n.fields[0]);default:return new ea(0,"New")}}function Ea(e,n){switch(n.tag){case 1:return new ea(1,"Starting",n.fields[0]);case 2:return new ea(2,"Viewing",n.fields[0]);case 3:return new ea(3,"Infecting",n.fields[0]);case 4:var t=function(e,n){switch(n.tag){case 1:var t,r=e;return t=new Yi(n.fields[0].GameState,n.fields[0].Infected,r,n.fields[0].ErrorMessageOpt),new Zi(1,"SelectingIsPlayingResilientPopulationData",t);case 2:return new Zi(2,"SelectingResilientData",n.fields[0]);default:return new Zi(0,"SelectingInfectedData",n.fields[0])}}(e,n.fields[0]);return new ea(4,"ResolvingEpidemic",t);case 5:return new ea(5,"ApplyingResilientPopulation",n.fields[0]);default:return new ea(0,"New")}}function ba(e,n){switch(n.tag){case 1:return new ea(1,"Starting",n.fields[0]);case 2:return new ea(2,"Viewing",n.fields[0]);case 3:return new ea(3,"Infecting",n.fields[0]);case 4:var t=function(e,n){switch(n.tag){case 1:var t,r=e;return t=new Yi(n.fields[0].GameState,n.fields[0].Infected,n.fields[0].IsPlayingResilientPopulationOpt,r),new Zi(1,"SelectingIsPlayingResilientPopulationData",t);case 2:return new Zi(2,"SelectingResilientData",n.fields[0]);default:return new Zi(0,"SelectingInfectedData",n.fields[0])}}(e,n.fields[0]);return new ea(4,"ResolvingEpidemic",t);case 5:return new ea(5,"ApplyingResilientPopulation",n.fields[0]);default:return new ea(0,"New")}}function Ca(e,n){switch(n.tag){case 1:return new ea(1,"Starting",n.fields[0]);case 2:return new ea(2,"Viewing",n.fields[0]);case 3:return new ea(3,"Infecting",n.fields[0]);case 4:var t=function(e,n){var t,r,i;switch(n.tag){case 1:return new Zi(1,"SelectingIsPlayingResilientPopulationData",(t=e,new Yi(n.fields[0].GameState,n.fields[0].Infected,n.fields[0].IsPlayingResilientPopulationOpt,t)));case 2:return new Zi(2,"SelectingResilientData",(r=e,new Ki(n.fields[0].GameState,n.fields[0].Infected,n.fields[0].ResilientOpt,r)));default:return new Zi(0,"SelectingInfectedData",(i=e,new Ui(n.fields[0].GameState,n.fields[0].InfectedOpt,i)))}}(e,n.fields[0]);return new ea(4,"ResolvingEpidemic",t);case 5:return new ea(5,"ApplyingResilientPopulation",n.fields[0]);default:return new ea(0,"New")}}function ka(e,n){switch(n.tag){case 1:return new ea(1,"Starting",n.fields[0]);case 2:return new ea(2,"Viewing",n.fields[0]);case 3:return new ea(3,"Infecting",n.fields[0]);case 4:var t=function(e,n){var t,r=function(e){switch(e.tag){case 1:case 2:default:return e.fields[0].GameState}}(n);if(null==e.ResilientOpt)t=qi(e.Infected)(r);else{var i=e.ResilientOpt;t=Wi(e.Infected,i)(r)}return 1===t.tag?Hn(qn("Bug in processFinishResolvingEpidemic validation.\r\n                    Tried to apply ResolvingEpidemicFinished, but get an error:\r\n                    %s"))(t.fields[0]):zi(t.fields[0])}(e,n.fields[0]);return new ea(2,"Viewing",t);case 5:return new ea(5,"ApplyingResilientPopulation",n.fields[0]);default:return new ea(0,"New")}}function Ra(e){switch(e.tag){case 1:return new ea(1,"Starting",e.fields[0]);case 2:var n=ua(e.fields[0].GameState);return new ea(5,"ApplyingResilientPopulation",n);case 3:return new ea(3,"Infecting",e.fields[0]);case 4:return new ea(4,"ResolvingEpidemic",e.fields[0]);case 5:return new ea(5,"ApplyingResilientPopulation",e.fields[0]);default:return new ea(0,"New")}}function Oa(e,n){switch(n.tag){case 1:return new ea(1,"Starting",n.fields[0]);case 2:return new ea(2,"Viewing",n.fields[0]);case 3:return new ea(3,"Infecting",n.fields[0]);case 4:return new ea(4,"ResolvingEpidemic",n.fields[0]);case 5:var t=(r=e,i=n.fields[0],a=r,new Xi(i.GameState,i.ResilientOpt,a));return new ea(5,"ApplyingResilientPopulation",t);default:return new ea(0,"New")}var r,i,a}function Pa(e){switch(e.tag){case 1:return new ea(1,"Starting",e.fields[0]);case 2:return new ea(2,"Viewing",e.fields[0]);case 3:return new ea(3,"Infecting",e.fields[0]);case 4:return new ea(4,"ResolvingEpidemic",e.fields[0]);case 5:var n=function(e){var n=function(e){return Hn(qn("Bug in processFinishApplyingResilientPopulation validation.\r\n                    Tried to apply ApplyingResilientPopulationFinished, but got\r\n                    an error: %s"))(e)};if(null==e.ResilientOpt)return n("No city chosen to remove.");var t=Bi(e.ResilientOpt,e.GameState);return 1===t.tag?n(t.fields[0]):zi(t.fields[0])}(e.fields[0]);return new ea(2,"Viewing",n);default:return new ea(0,"New")}}function Aa(e){return function(n){return function(e,n){var t,r,i,a,u,s,o;switch(n.tag){case 1:return new ea(1,"Starting",(t=e,new Hi(n.fields[0].SelectedCards,t)));case 2:return new ea(2,"Viewing",(r=e,new Li(n.fields[0].GameState,r)));case 3:return new ea(3,"Infecting",(i=e,new Ji(n.fields[0].CardsToSelected,n.fields[0].GameState,i)));case 4:var c=1===n.fields[0].tag?new Zi(1,"SelectingIsPlayingResilientPopulationData",(a=e,new Yi(n.fields[0].fields[0].GameState,n.fields[0].fields[0].Infected,n.fields[0].fields[0].IsPlayingResilientPopulationOpt,a))):2===n.fields[0].tag?new Zi(2,"SelectingResilientData",(u=e,new Ki(n.fields[0].fields[0].GameState,n.fields[0].fields[0].Infected,n.fields[0].fields[0].ResilientOpt,u))):new Zi(0,"SelectingInfectedData",(s=e,new Ui(n.fields[0].fields[0].GameState,n.fields[0].fields[0].InfectedOpt,s)));return new ea(4,"ResolvingEpidemic",c);case 5:return new ea(5,"ApplyingResilientPopulation",(o=e,new Xi(n.fields[0].GameState,n.fields[0].ResilientOpt,o)));default:return new ea(0,"New")}}(e,n)}}function Ia(e){switch(e.tag){case 1:return function(n){return da(e.fields[0],n)};case 3:return ha;case 2:return function(n){return wa(e.fields[0],n)};case 4:return pa;case 5:return function(n){return ga(e.fields[0],n)};case 6:return function(n){return function(e,n){switch(n.tag){case 1:return new ea(1,"Starting",n.fields[0]);case 2:return new ea(2,"Viewing",n.fields[0]);case 3:var t=oa(e,n.fields[0]);return new ea(2,"Viewing",t);case 4:return new ea(4,"ResolvingEpidemic",n.fields[0]);case 5:return new ea(5,"ApplyingResilientPopulation",n.fields[0]);default:return new ea(0,"New")}}(e.fields[0],n)};case 7:return function(n){return ma(e.fields[0],n)};case 8:return ya;case 9:return function(n){return va(e.fields[0],n)};case 10:return function(n){return Sa(e.fields[0],n)};case 11:return function(n){return function(e,n){switch(n.tag){case 1:return new ea(1,"Starting",n.fields[0]);case 2:return new ea(2,"Viewing",n.fields[0]);case 3:return new ea(3,"Infecting",n.fields[0]);case 4:var t=ca(e,n.fields[0]);return new ea(4,"ResolvingEpidemic",t);case 5:return new ea(5,"ApplyingResilientPopulation",n.fields[0]);default:return new ea(0,"New")}}(e.fields[0],n)};case 12:return function(n){return Ea(e.fields[0],n)};case 13:return function(n){return ba(e.fields[0],n)};case 14:return function(n){return function(e,n){switch(n.tag){case 1:return new ea(1,"Starting",n.fields[0]);case 2:return new ea(2,"Viewing",n.fields[0]);case 3:return new ea(3,"Infecting",n.fields[0]);case 4:var t=la(e,n.fields[0]);return new ea(4,"ResolvingEpidemic",t);case 5:return new ea(5,"ApplyingResilientPopulation",n.fields[0]);default:return new ea(0,"New")}}(e.fields[0],n)};case 15:return function(n){return Ca(e.fields[0],n)};case 16:return function(n){return ka(e.fields[0],n)};case 17:return Ra;case 18:return function(n){return Oa(e.fields[0],n)};case 19:return Pa;case 20:return Aa(e.fields[0]);case 21:return function(n){return e.fields[0]};default:return fa}}var Ma=x((function(e,n){for(var t=arguments.length,r=new Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];F.call.apply(F,[this,e,n].concat(r))}),F);function Ta(e,n){var t;return t=e,Cr(n.CardsToSelected,t)?new na(1,"SelectionToggled",e):null}function Na(e){var n,t=kr((function(e,n){return n}),e.CardsToSelected);n=Ht(Rn((function(e){return e[0]}),gr(vr(t))),{Compare:function(e,n){return e.CompareTo(n)}});var r,i=0|_i(e.GameState);if(Wt(n)===i){var a=ji(e.GameState,n);if(null==a)return new na(6,"InfectingFinished",n);var u=a.fields[0];return new na(5,"FinishInfectingValidationFailed",u)}switch(Gi(e.GameState).tag){case 1:r="Select three cards";break;case 2:r="Select four cards";break;default:r="Select two cards"}return new na(5,"FinishInfectingValidationFailed",r)}function Da(e){return new na(15,"FinishResolvingEpidemicValidationFailed",e)}function xa(e,n){var t=qi(e)(n);if(1===t.tag)return Da(t.fields[0]);var r=new Qi(e,null);return new na(16,"ResolvingEpidemicFinished",r)}function Ga(e){switch(e.tag){case 1:return null==e.fields[0].IsPlayingResilientPopulationOpt?Da("Select whether you are playing resilient population"):e.fields[0].IsPlayingResilientPopulationOpt?Da("You cannot resolve an epidemic: you have indicated that\r\n                    you are playing resilient population, but haven't chosen a\r\n                    city to apply it to."):xa(e.fields[0].Infected,e.fields[0].GameState);case 2:if(null==e.fields[0].ResilientOpt)return Da("Select a card");var n=e.fields[0].ResilientOpt;return function(e,n,t){var r=Wi(e,n)(t);if(1===r.tag)return Da(r.fields[0]);var i=new Qi(e,n);return new na(16,"ResolvingEpidemicFinished",i)}(e.fields[0].Infected,n,e.fields[0].GameState);default:return Ei(Ni(e.fields[0].GameState))?null:null!=e.fields[0].InfectedOpt?xa(e.fields[0].InfectedOpt,e.fields[0].GameState):Da("Select a card")}}function _a(e){return 1===e.State.tag?null:2===e.State.tag?null:3===e.State.tag?null:4===e.State.tag?null:5===e.State.tag?null:new na(0,"StartingStarted")}function ja(e,n){return 1===n.State.tag?(t=e,n.State.fields[0],new na(1,"SelectionToggled",t)):2===n.State.tag?null:3===n.State.tag?Ta(e,n.State.fields[0]):4===n.State.tag?null:(n.State.tag,null);var t}function Fa(e){return 1===e.State.tag?9===Wt(e.State.fields[0].SelectedCards)?new na(3,"StartingFinished"):new na(2,"FinishStartingValidationFailed","Select nine cards"):2===e.State.tag?null:3===e.State.tag?null:4===e.State.tag?null:(e.State.tag,null)}function Ba(e){return 1===e.State.tag?null:2===e.State.tag?(e.State.fields[0],new na(4,"InfectingStarted")):3===e.State.tag?null:4===e.State.tag?null:(e.State.tag,null)}function Va(e){return 1===e.State.tag?null:2===e.State.tag?function(e){switch(Di(e.GameState).tag){case 1:case 2:case 3:case 4:case 5:return ui(Mi(e.GameState))?new na(7,"StartResolvingEpidemicValidationFailed","You cannot resolve an epidmic: epidemic behaviour is\r\n                    undefined when the deck is empty."):new na(8,"ResolvingEpidemicStarted");case 6:return new na(7,"StartResolvingEpidemicValidationFailed","You can no longer resolve an epidmic: all the epidemic cards\r\n                have already been played.");default:return ui(Mi(e.GameState))?new na(7,"StartResolvingEpidemicValidationFailed","You cannot resolve an epidmic: epidemic behaviour is\r\n                    undefined when the deck is empty."):new na(8,"ResolvingEpidemicStarted")}}(e.State.fields[0]):3===e.State.tag?null:4===e.State.tag?null:(e.State.tag,null)}function qa(e,n){return 1===n.State.tag?null:2===n.State.tag?null:3===n.State.tag?null:4===n.State.tag?function(e,n){switch(n.tag){case 2:return new na(9,"CardChosen",e);case 1:return null;default:return new na(9,"CardChosen",e)}}(e,n.State.fields[0]):5===n.State.tag?(t=e,n.State.fields[0],new na(9,"CardChosen",t)):null;var t}function Wa(e){return 1===e.State.tag?null:2===e.State.tag?null:3===e.State.tag?null:4===e.State.tag?function(e){switch(e.tag){case 1:return null==e.fields[0].IsPlayingResilientPopulationOpt?new na(13,"MoveToSelectingResilientValidationFailed","Select whether you are playing resilient population"):e.fields[0].IsPlayingResilientPopulationOpt?new na(14,"SelectingResilientMovedTo",e.fields[0].Infected):null;case 2:return null;default:if(null==e.fields[0].InfectedOpt)return new na(10,"MoveToSelectingIsPlayingResPopValidationFailed","Select a card");var n=e.fields[0].InfectedOpt;return new na(11,"SelectingIsPlayingResPopMovedTo",n)}}(e.State.fields[0]):(e.State.tag,null)}function Ha(e,n){return 1===n.State.tag?null:2===n.State.tag?null:3===n.State.tag?null:4===n.State.tag?function(e,n){switch(n.tag){case 1:return new na(12,"BoolChosen",e);case 2:default:return null}}(e,n.State.fields[0]):(n.State.tag,null)}function La(e){return 1===e.State.tag?null:2===e.State.tag?(e.State.fields[0],new na(17,"ApplyingResilientPopulationStarted")):3===e.State.tag?null:4===e.State.tag?null:(e.State.tag,null)}function za(e){return 1===e.State.tag?null:2===e.State.tag?null:3===e.State.tag?null:4===e.State.tag?null:5===e.State.tag?function(e){if(null==e.ResilientOpt)return new na(18,"FinishApplyingResPopValidationFailed","Select a card");var n=Bi(e.ResilientOpt,e.GameState);return 1===n.tag?new na(18,"FinishApplyingResPopValidationFailed",n.fields[0]):new na(19,"ApplyingResilientPopulationFinished")}(e.State.fields[0]):null}function Ja(e){var n,t,r,i=Tn((function(e){return e<0}),On((function(e,n){return e+(21===n.tag?1:function(e){switch(e.tag){case 1:return!1;case 3:return!0;case 2:return!1;case 4:return!0;case 5:return!1;case 6:return!0;case 7:return!1;case 8:return!0;case 9:case 10:return!1;case 11:return!0;case 12:case 13:return!1;case 14:return!0;case 15:return!1;case 16:case 17:return!0;case 18:return!1;case 19:return!0;case 20:return!1;case 21:default:return!0}}(n)?-1:0)}),0,e.Events));return null==i?new na(20,"GoBackValidationFailed","Cannot go back: there have not been any page transitions."):(t=qr(0|i,e.Events),r=t,n=Ir(I(2,Ia),r,new ea(0,"New")),new na(21,"WentBack",n))}function Ua(e,n){switch(e.tag){case 1:return ja(e.fields[0],n);case 2:return Fa(n);case 3:return Ba(n);case 4:return 1===(r=n).State.tag?null:2===r.State.tag?null:3===r.State.tag?Na(r.State.fields[0]):4===r.State.tag?null:(r.State.tag,null);case 5:return Va(n);case 6:return qa(e.fields[0],n);case 7:return Wa(n);case 8:return Ha(e.fields[0],n);case 9:return 1===(t=n).State.tag?null:2===t.State.tag?null:3===t.State.tag?null:4===t.State.tag?Ga(t.State.fields[0]):(t.State.tag,null);case 10:return La(n);case 11:return za(n);case 12:return Ja(n);default:return _a(n)}var t,r}function Ya(e,n){var t=Ua(e,n);if(null==t)return n;var r=t;return new ta(new j(r,n.Events),Ia(r)(n.State))}t(71),t(77),t(78),t(79),t(85),t(58),t(91),t(92),t(94),t(96),t(98),x((function(e,n){for(var t=arguments.length,r=new Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];F.call.apply(F,[this,e,n].concat(r))}),F);x((function(e,n){for(var t=arguments.length,r=new Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];F.call.apply(F,[this,e,n].concat(r))}),F);x((function(e){this.__html=e}),W);var Ka=x((function(e,n){for(var t=arguments.length,r=new Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];F.call.apply(F,[this,e,n].concat(r))}),F);x((function(e,n){for(var t=arguments.length,r=new Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];F.call.apply(F,[this,e,n].concat(r))}),F);var Za=x((function(e,n){for(var t=arguments.length,r=new Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];F.call.apply(F,[this,e,n].concat(r))}),F);x((function(e,n){for(var t=arguments.length,r=new Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];F.call.apply(F,[this,e,n].concat(r))}),F);var $a=t(0);function Xa(e){return function(e){if(Array.isArray(e)){for(var n=0,t=new Array(e.length);n<e.length;n++)t[n]=e[n];return t}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var Qa=x((function(e,n){for(var t=arguments.length,r=new Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];F.call.apply(F,[this,e,n].concat(r))}),F);function eu(e){switch(e.tag){case 1:return new Qa(2,"Blue");case 2:return new Qa(3,"Black");case 3:case 4:return new Qa(1,"Red");case 5:case 6:return new Qa(0,"Yellow");case 7:case 8:return new Qa(3,"Black");case 9:return new Qa(2,"Blue");case 10:return new Qa(3,"Black");case 11:return new Qa(2,"Blue");case 12:case 13:return new Qa(1,"Red");case 14:return new Qa(3,"Black");case 15:return new Qa(1,"Red");case 16:return new Qa(0,"Yellow");case 17:return new Qa(3,"Black");case 18:case 19:return new Qa(0,"Yellow");case 20:return new Qa(3,"Black");case 21:case 22:return new Qa(0,"Yellow");case 23:return new Qa(2,"Blue");case 24:return new Qa(0,"Yellow");case 25:return new Qa(2,"Blue");case 26:return new Qa(1,"Red");case 27:case 28:return new Qa(0,"Yellow");case 29:case 30:return new Qa(2,"Blue");case 31:case 32:return new Qa(3,"Black");case 33:return new Qa(2,"Blue");case 34:return new Qa(1,"Red");case 35:return new Qa(2,"Blue");case 36:return new Qa(3,"Black");case 37:return new Qa(2,"Blue");case 38:case 39:return new Qa(0,"Yellow");case 40:case 41:return new Qa(1,"Red");case 42:return new Qa(2,"Blue");case 43:case 44:return new Qa(1,"Red");case 45:return new Qa(3,"Black");case 46:return new Qa(1,"Red");case 47:return new Qa(2,"Blue");default:return new Qa(3,"Black")}}function nu(e){switch(e.tag){case 1:return"Atlanta";case 2:return"Baghdad";case 3:return"Bangkok";case 4:return"Beijing";case 5:return"Bogota";case 6:return"Buenos Aires";case 7:return"Cairo";case 8:return"Chennai";case 9:return"Chicago";case 10:return"Delhi";case 11:return"Essen";case 12:return"Ho Chi Minh City";case 13:return"Hong Kong";case 14:return"Istanbul";case 15:return"Jakarta";case 16:return"Johannesburg";case 17:return"Karachi";case 18:return"Khartoum";case 19:return"Kinshasa";case 20:return"Kolkata";case 21:return"Lagos";case 22:return"Lima";case 23:return"London";case 24:return"Los Angeles";case 25:return"Madrid";case 26:return"Manila";case 27:return"Mexico City";case 28:return"Miami";case 29:return"Milan";case 30:return"Montreal";case 31:return"Moscow";case 32:return"Mumbai";case 33:return"New York";case 34:return"Osaka";case 35:return"Paris";case 36:return"Riyadh";case 37:return"San Francisco";case 38:return"Santiago";case 39:return"Sao Paulo";case 40:return"Seoul";case 41:return"Shanghai";case 42:return"St Petersburg";case 43:return"Sydney";case 44:return"Taipei";case 45:return"Tehran";case 46:return"Tokyo";case 47:return"Washington";default:return"Algiers"}}function tu(e,n){var t,r;switch(eu(n).tag){case 1:r="red";break;case 2:r="blue";break;case 3:r="black";break;default:r="yellow"}var i,a=new j(r,e);i=zn(" ",new j("colour-circle",Dr((t=Wn(qn("%s--%s")),function(e){var n=t(e);return function(e){return n(e)}})("colour-circle"),a)));var u=[new Za(25,"className",i)];return $a.createElement.apply($a,["span",A(u,1)].concat([]))}var ru,iu,au=(ru=new j("right",new j),function(e){return tu(ru,e)}),uu=(iu=new j("small",new j),function(e){return tu(iu,e)});function su(e){var n=[new Za(25,"className","heading heading-xl")],t=[e];return $a.createElement.apply($a,["h1",A(n,1)].concat(t))}function ou(e){var n=[new Za(25,"className","heading heading-l")],t=[e];return $a.createElement.apply($a,["h2",A(n,1)].concat(t))}function cu(e){var n=[new Za(25,"className","prose")],t=[e];return $a.createElement.apply($a,["p",A(n,1)].concat(t))}function lu(e,n){var t=[new Za(25,"className","button"),new Za(119,"Type","button"),new Ka(40,"OnClick",n)],r=[e];return $a.createElement.apply($a,["button",A(t,1)].concat(r))}function fu(e,n){var t=[new Za(25,"className","button button--secondary"),new Za(119,"Type","button"),new Ka(40,"OnClick",n)],r=[e];return $a.createElement.apply($a,["button",A(t,1)].concat(r))}function du(e){var n=new j(e,new j),t=new j(new Za(25,"className","error-message"),new j),r=n;return $a.createElement.apply($a,["span",A(t,1)].concat(Xa(r)))}var wu,hu=(wu=function(e){return[eu(e),nu(e)]},function(e){return n=function(e,n){return y(wu(e),wu(n))},t=e,mn(Array.from(t).sort(n));var n,t});function pu(e,n,t,r,i){var a,u,s=nu(i),o=[new Za(59,"Id",s),new Za(25,"className",n),(a=r(i),new Za(22,"Checked",a)),new Za(83,"Name","cards"),(u=T(1,t,[i]),new Ka(9,"OnChange",u)),new Za(119,"Type",e),new Za(121,"Value",s)];return $a.createElement.apply($a,["input",A(o,1)].concat([]))}function gu(e,n){var t=nu(n),r=[new Za(25,"className",e),new Za(56,"HtmlFor",t)],i=[t];return $a.createElement.apply($a,["label",A(r,1)].concat(i))}function mu(e,n,t,r){var i=_r([e(r),n(r),au(r)]),a=new j(new Za(25,"className",t),new j),u=i;return $a.createElement.apply($a,["div",A(a,1)].concat(Xa(u)))}function yu(e){return function(n){var t=hu(n);return Rn(e,t)}}function vu(e,n){return yu((function(t){return mu((function(t){return pu("checkbox","checkbox__input",(function(e,t){n(new Ma(1,"ToggleSelection",e))}),(function(n){return Sr(e,n)}),t)}),(function(e){return gu("checkbox__label",e)}),"checkbox__item",t)}))(Rn((function(e){return e[0]}),e))}function Su(e,n,t,r){var i,a,u,s,o,c,l,f,d,w=(i=zn(" ",Vr((function(e){return e}),_r(["form-group",te((function(e){return"form-group--error"}),t)]))),new Za(25,"className",i));d=new j(w,new j),f=function(e){var n=d,t=e;return $a.createElement.apply($a,["div",A(n,1)].concat(Xa(t)))};var h,p,g,m,y=te(du,t);h=Vr((function(e){return e}),_r([(u=[new Za(25,"className","fieldset-legend")],s=[(p=e,g=[new Za(25,"className","fieldset-heading heading heading-xl")],m=[p],$a.createElement.apply($a,["h1",A(g,1)].concat(m)))],a=$a.createElement.apply($a,["legend",A(u,1)].concat(Xa(s))),a),te((function(e){var n=[new Za(25,"className","fieldset-hint")],t=[e];return $a.createElement.apply($a,["span",A(n,1)].concat(t))}),n),y,(c=new j,l=c,o=$a.createElement.apply($a,["div",A(l,1)].concat(Xa(r))),o)]));var v=new j(new Za(25,"className","fieldset"),new j),S=h;return f(new j($a.createElement.apply($a,["fieldset",A(v,1)].concat(Xa(S))),new j))}function Eu(e,n,t,r,i,a){var u=_r([Su(e,n,t,vu(i,a)),lu("Continue",(function(e){a(r)}))]),s=new j,o=u;return $a.createElement.apply($a,["form",A(s,1)].concat(Xa(o)))}function bu(e,n,t,r,i,a,u){var s,o,c,l=_r([Su(e,n,t,(s=i,o=a,c=u,yu((function(e){return mu((function(e){return pu("radio","radio__input",(function(e,n){c(new Ma(6,"ChooseCard",e))}),(function(e){return null!=o&&h(e,o)}),e)}),(function(e){return gu("radio__label",e)}),"radio__item",e)}))(s))),lu("Continue",(function(e){u(r)}))]),f=new j,d=l;return $a.createElement.apply($a,["form",A(f,1)].concat(Xa(d)))}function Cu(e){var n=[new Za(25,"className","game-state-section")];return $a.createElement.apply($a,["div",A(n,1)].concat(Xa(e)))}function ku(e){var n,t;t=kt(It(e)),n=Rn((function(e){var n;n=nu(e);var t=uu(e),r=[new Za(25,"className","card-chip")],i=[t,n];return $a.createElement.apply($a,["div",A(r,1)].concat(i))}),hu(t));var r=new j(new Za(25,"className","card-set"),new j);return $a.createElement.apply($a,["div",A(r,1)].concat(Xa(n)))}function Ru(e){var n,t,r,i;if(null==(n=function(e,n){if(e<0)throw new Error("The input must be non-negative.");var t,r,i;switch(0===e?t=0:1===e&&null!=n.tail?t=1:(t=2,r=e,i=n),t){case 0:return new j;case 1:return new j(n.head,new j);case 2:return Wr(!0,r,new j,i)[0]}}(Tr(t=ii(e))-1,t)).tail)return null;i=Dr(ku,n);var a=new j(new Za(25,"className","card-sets"),new j),u=i;return r=$a.createElement.apply($a,["div",A(a,1)].concat(Xa(u))),Cu(_r([ou("Deck top"),r]))}function Ou(e,n){var t,r,i,a,u,s,o,c,l,f,d,w,p,g,m=h(e.IsPlayingResilientPopulationOpt,!0)?new Ma(7,"MoveToNextSubstep"):new Ma(9,"FinishResolvingEpidemic");return t="Are you playing resilient population?",r=null,i=e.ErrorMessageOpt,a=function(e){return e?"Yes":"No"},u=m,s=e.IsPlayingResilientPopulationOpt,w=_r([Su(t,r,i,(c=a,l=s,f=o=n,d=function(e){var n,t,r,i,a,u,s,o=_r([(n=[(t=String(e),new Za(59,"Id",t)),new Za(25,"className","radio__input"),(r=null!=l&&(i=l,e===i),new Za(22,"Checked",r)),new Za(83,"Name","is-playing-resilient"),new Ka(9,"OnChange",(function(n){f(new Ma(8,"ChooseBool",e))})),new Za(119,"Type","radio"),new Za(121,"Value",e)],$a.createElement.apply($a,["input",A(n,1)].concat([]))),(a=c(e),u=[new Za(25,"className","radio__label"),new Za(56,"HtmlFor",a)],s=[a],$a.createElement.apply($a,["label",A(u,1)].concat(Xa(s))))]),d=new j(new Za(25,"className","radio__item"),new j),w=o;return $a.createElement.apply($a,["div",A(d,1)].concat(Xa(w)))},_r([d(!0),d(!1)]))),lu("Continue",(function(e){o(u)}))]),p=new j,g=w,$a.createElement.apply($a,["form",A(p,1)].concat(Xa(g)))}function Pu(e,n){switch(e.tag){case 1:return Ou(e.fields[0],n);case 2:return t=e.fields[0],r=n,a=gi(Ti(t.GameState)),i=Gt(t.Infected,a),bu("Which city has a resilient population?","Select one",t.ErrorMessageOpt,new Ma(9,"FinishResolvingEpidemic"),i,t.ResilientOpt,r);default:return function(e,n){var t=di(Mi(e.GameState));if(null==t)throw new Error("epidemic behaviour is undefined when deck is empty\\nParameter name: data");var r=t,i=Ei(Ni(e.GameState))?new Ma(7,"MoveToNextSubstep"):new Ma(9,"FinishResolvingEpidemic");return bu("Which city was drawn in the infect step?","Select one",e.ErrorMessageOpt,i,r,e.InfectedOpt,n)}(e.fields[0],n)}var t,r,i,a}function Au(e,n){var t,r,i,a,u,s,o,c,l,f,d,w,h,p,g,m,v,S,E,b,C,k,R,O,P,I,M,T,N,D,x,G,_,F,B,V,q,W,H,L,z,J,U,Y=1===e.State.tag?(D=e.State.fields[0],x=n,Eu("Which cards did you draw to start the game?","Select all nine",D.ErrorMessageOpt,new Ma(2,"FinishStarting"),Rr(qt((function(e){return[e,xt(e,D.SelectedCards)]}),Qr,{Compare:y}),{Compare:function(e,n){return e.CompareTo(n)}}),x)):2===e.State.tag?(o=e.State.fields[0],c=n,M=Vr((function(e){return e}),_r([(l=su("Game state"),l),(f=Mi(o.GameState),Ru(f)),(w=Ti(o.GameState),O=w,I=gi(O),P=Dt(I)?cu("The discard pile is empty."):ku(I),d=Cu([ou("Discard pile"),P]),d),(h=Ni(o.GameState),k=h,R=bi(k),Dt(bi(k))?null:Cu([ou("Removed cards"),ku(R)])),(S=o.GameState,p=Cu(_r([ou("Infection rate"),(b=0|_i(S),C=Wn(qn("The infection rate is %i.")),E=C(b),cu(E))])),p),te(du,o.ErrorMessageOpt),(g=lu("Draw infection cards",(function(e){c(new Ma(3,"StartInfecting"))})),g),(m=fu("Resolve an epidemic",(function(e){c(new Ma(5,"StartResolvingEpidemic"))})),m),(v=fu("Apply resilient population",(function(e){c(new Ma(10,"StartApplyingResilientPopulation"))})),v)])),T=new j,N=M,$a.createElement.apply($a,["div",A(T,1)].concat(Xa(N)))):3===e.State.tag?function(e,n){var t;switch(Gi(e.GameState).tag){case 1:t="Select all three";break;case 2:t="Select all four";break;default:t="Select both"}return Eu("Which cities did you infect?",t,e.ErrorMessageOpt,new Ma(4,"FinishInfecting"),e.CardsToSelected,n)}(e.State.fields[0],n):4===e.State.tag?Pu(e.State.fields[0],n):5===e.State.tag?(u=e.State.fields[0],s=n,bu("Which card did you remove from the infection discard pile?","Choose one",u.ErrorMessageOpt,new Ma(11,"FinishApplyingResilientPopulation"),gi(Ti(u.GameState)),u.ResilientOpt,s)):(t=n,r=_r([su("Pandemic Infection Deck Tracker"),cu("This app helps you keep track of infection cards during your\r\n            game of Pandemic (standard version only)."),cu("It is designed for mobile so might feel a bit weird on larger\r\n            devices."),lu("Start now",(function(e){t(new Ma(0,"StartStarting"))}))]),i=new j,a=r,$a.createElement.apply($a,["div",A(i,1)].concat(Xa(a))));0===e.State.tag?(z=Y,J=[new Za(25,"className","main")],U=[z],G=$a.createElement.apply($a,["main",A(J,1)].concat(U))):(_=Y,W=_r([(V=n,q=[new Za(54,"Href","#"),new Za(25,"className","back-link"),new Ka(40,"OnClick",(function(e){V(new Ma(12,"GoBack"))}))],$a.createElement.apply($a,["a",A(q,1)].concat(["Back"]))),(F=[new Za(25,"className","main")],B=[_],$a.createElement.apply($a,["main",A(F,1)].concat(Xa(B))))]),H=new j,L=W,G=$a.createElement.apply($a,["div",A(H,1)].concat(Xa(L))));var K=[new Za(25,"className","width-container")],Z=[G];return $a.createElement.apply($a,["div",A(K,1)].concat(Z))}class Iu{constructor(e=!1){this._id=0,this._cancelled=e,this._listeners=new Map}get isCancelled(){return this._cancelled}cancel(){if(!this._cancelled){this._cancelled=!0;for(const[,e]of this._listeners)e()}}addListener(e){const n=this._id;return this._listeners.set(this._id++,e),n}removeListener(e){return this._listeners.delete(e)}register(e,n){const t=this,r=this.addListener(null==n?e:()=>e(n));return{Dispose(){t.removeListener(r)}}}}class Mu extends Error{constructor(){super("The operation was canceled"),Object.setPrototypeOf(this,Mu.prototype)}}function Tu(e){return n=>{if(n.cancelToken.isCancelled)n.onCancel(new Mu);else if(n.trampoline.incrementAndCheck())n.trampoline.hijack(()=>{try{e(n)}catch(e){n.onError(e)}});else try{e(n)}catch(e){n.onError(e)}}}function Nu(e,n){return Tu(t=>{e({onSuccess:e=>{try{n(e)(t)}catch(e){t.onError(e)}},onError:t.onError,onCancel:t.onCancel,cancelToken:t.cancelToken,trampoline:t.trampoline})})}function Du(e){return Tu(n=>n.onSuccess(e))}new class{Bind(e,n){return Nu(e,n)}Combine(e,n){return this.Bind(e,()=>n)}Delay(e){return Tu(n=>e()(n))}For(e,n){const t=e[Symbol.iterator]();let r=t.next();return this.While(()=>!r.done,this.Delay(()=>{const e=n(r.value);return r=t.next(),e}))}Return(e){return Du(e)}ReturnFrom(e){return e}TryFinally(e,n){return Tu(t=>{e({onSuccess:e=>{n(),t.onSuccess(e)},onError:e=>{n(),t.onError(e)},onCancel:e=>{n(),t.onCancel(e)},cancelToken:t.cancelToken,trampoline:t.trampoline})})}TryWith(e,n){return Tu(t=>{e({onSuccess:t.onSuccess,onCancel:t.onCancel,cancelToken:t.cancelToken,trampoline:t.trampoline,onError:e=>{try{n(e)(t)}catch(e){t.onError(e)}}})})}Using(e,n){return this.TryFinally(n(e),()=>e.Dispose())}While(e,n){return e()?this.Bind(n,()=>this.While(e,n)):this.Return(void 0)}Zero(){return Tu(e=>e.onSuccess(void 0))}};new Iu;function xu(e,n){Gr((function(n){n(e)}),n)}function Gu(){return new j}function _u(e,n){console.error(ee(e),n)}var ju=x((function(e,n){for(var t=arguments.length,r=new Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];F.call.apply(F,[this,e,n].concat(r))}),F);var Fu=x((function(e){var n,t,r,i;this.state=new ju(0,"Writable",(n=new Array(S(g,e,10)),t=0,r=S(g,e,10),i=null,n.fill(i,t,t+r),n),0)}));function Bu(e){var n=e.state;if(1===n.tag){var t=(n.fields[2]+1)%n.fields[0].length|0,r=t===n.fields[1];return e.state=r?new ju(0,"Writable",n.fields[0],n.fields[1]):new ju(1,"ReadWritable",n.fields[0],n.fields[1],t),ee(n.fields[0][n.fields[2]])}return null}function Vu(e,n){var t,r,i,a=e.state;if(1===a.tag){a.fields[0][a.fields[1]]=n;var u,s=(a.fields[1]+1)%a.fields[0].length|0;if(s===a.fields[2])t=a.fields[2],r=a.fields[0],i=En((function(){return yn(An(t,r),En((function(){return yn(Mn(t,r),En((function(){return Sn((function(e){return Pn(null)}),function(e,n,t){if(0===n)throw new Error("Step cannot be 0");return En(()=>Nn(e=>n>0&&e<=t||n<0&&e>=t?[e,e+n]:null,e))}(0,1,r.length))})))})))})),u=Array.from(i),e.state=new ju(1,"ReadWritable",u,s,0);else e.state=new ju(1,"ReadWritable",a.fields[0],s,a.fields[2])}else{a.fields[0][a.fields[1]]=n;var o=(a.fields[1]+1)%a.fields[0].length|0;e.state=new ju(1,"ReadWritable",a.fields[0],o,a.fields[1])}}var qu=x((function(e,n,t,r,i,a,u){this.init=e,this.update=n,this.subscribe=t,this.view=r,this.setState=i,this.onError=a,this.syncDispatch=u}),W);function Wu(e,n){return new qu(n.init,n.update,n.subscribe,n.view,e,n.onError,n.syncDispatch)}function Hu(e){return M(2,e.view)}function Lu(e,n){var t,r=n.init(e),i=function(e){return this instanceof Fu?Fu.call(this,e):new Fu(e)}(10),a=!1,u=r[0],s=T(1,n.syncDispatch,[function(e){var t;if(a)Vu(i,e);else{a=!0;for(var r=ee(e);null!=r;){var o=ne(r);try{var c=n.update(o,u);n.setState(c[0],s),xu(s,c[1]),u=c[0]}catch(e){n.onError([(t=Wn(qn("Unable to process the message: %A")),t(o)),e])}r=Bu(i)}a=!1}}]);n.setState(r[0],s);try{t=n.subscribe(r[0])}catch(e){n.onError(["Unable to subscribe:",e]),t=Gu()}var o=Nr(t,r[1]);xu(s,o)}var zu=t(25),Ju=x((function(e,n,t){this.model=e,this.render=n,this.equal=t}),W);var Uu,Yu,Ku,Zu,$u=x((function(e){$a.Component.call(this,e)}),$a.Component);function Xu(e,n,t,r){var i,a=new Ju(t,(function(){return n(t,r)}),e);return i=$u,$a.createElement.apply($a,[i,a].concat([]))}function Qu(e,n,t){var r=null;return Wu((function(i,a){if(null!=r){var u=r;window.cancelAnimationFrame(u)}r=window.requestAnimationFrame((function(r){zu.render(e((function(e,n){return e===n}),I(2,Hu(t)),i,a),document.getElementById(n))}))}),t)}$u.prototype.shouldComponentUpdate=function(e,n){return!this.props.equal(this.props.model,e.model)},$u.prototype.render=function(){return this.props.render()},Uu=function(){return new ta(new j,new ea(0,"New"))},Yu=Ya,Zu=new qu((function(e){return[Uu(e),Gu()]}),(function(e,n){return[Yu(e,n),Gu()]}),(function(e){return Gu()}),Ku=Au,(function(e,n){Ku(e,n)}),(function(e){_u(e[0],e[1])}),I(2,(function(e){return e}))),Lu(null,Qu(Xu,"elmish-app",Zu))}});