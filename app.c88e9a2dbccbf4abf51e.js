!function(e){function n(n){for(var r,u,s=n[0],o=n[1],c=n[2],f=0,d=[];f<s.length;f++)u=s[f],Object.prototype.hasOwnProperty.call(i,u)&&i[u]&&d.push(i[u][0]),i[u]=0;for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r]);for(l&&l(n);d.length;)d.shift()();return a.push.apply(a,c||[]),t()}function t(){for(var e,n=0;n<a.length;n++){for(var t=a[n],r=!0,s=1;s<t.length;s++){var o=t[s];0!==i[o]&&(r=!1)}r&&(a.splice(n--,1),e=u(u.s=t[0]))}return e}var r={},i={0:0},a=[];function u(n){if(r[n])return r[n].exports;var t=r[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,u),t.l=!0,t.exports}u.m=e,u.c=r,u.d=function(e,n,t){u.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},u.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,n){if(1&n&&(e=u(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(u.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)u.d(t,r,function(n){return e[n]}.bind(null,r));return t},u.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return u.d(n,"a",n),n},u.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},u.p="";var s=window.webpackJsonp=window.webpackJsonp||[],o=s.push.bind(s);s.push=n,s=s.slice();for(var c=0;c<s.length;c++)n(s[c]);var l=o;a.push([105,1]),t()}({105:function(e,n,t){"use strict";t.r(n);t(5);function r(e){return null!=e&&"function"==typeof e.Dispose}function i(e,n,t){return e.has(n)?[!0,e.get(n)]:[!1,t]}function a(e){const n=e;return"number"==typeof n.offset?n.offset:1===e.kind?0:-6e4*e.getTimezoneOffset()}class u{static id(e){return u.idMap.has(e)||u.idMap.set(e,++u.count),u.idMap.get(e)}}function s(e){let n=0,t=5381;const r=e.length;for(;n<r;)t=33*t^e.charCodeAt(n++);return t}function o(e){return 2654435761*e|0}function c(e){return 0===e.length?0:e.reduce((e,n)=>(e<<5)+e^n)}function l(e){if(null==e)return 0;switch(typeof e){case"boolean":return e?1:0;case"number":return o(e);case"string":return s(e);default:if("function"==typeof e.GetHashCode)return e.GetHashCode();if(f(e)){const n=e,t=n.length,r=new Array(t);for(let e=0;e<t;e++)r[e]=l(n[e]);return c(r)}return s(String(e))}}function f(e){return Array.isArray(e)||ArrayBuffer.isView(e)}function d(e,n,t){if(null==e)return null==n;if(null==n)return!1;if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++)if(!t(e[r],n[r]))return!1;return!0}function w(e,n){return d(e,n,p)}function p(e,n){return e===n||(null==e?null==n:null!=n&&("object"==typeof e&&("function"==typeof e.Equals?e.Equals(n):f(e)?f(n)&&w(e,n):e instanceof Date&&(n instanceof Date&&0===h(e,n)))))}function h(e,n){let t,r;return"offset"in e&&"offset"in n?(t=e.getTime(),r=n.getTime()):(t=e.getTime()+a(e),r=n.getTime()+a(n)),t===r?0:t<r?-1:1}function g(e,n){return e===n?0:e<n?-1:1}function y(e,n,t){if(null==e)return null==n?0:1;if(null==n)return-1;if(e.length!==n.length)return e.length<n.length?-1:1;for(let r=0,i=0;r<e.length;r++)if(i=t(e[r],n[r]),0!==i)return i;return 0}function m(e,n){return y(e,n,v)}function v(e,n){return e===n?0:null==e?null==n?0:-1:null==n?1:"object"!=typeof e?e<n?-1:1:"function"==typeof e.CompareTo?e.CompareTo(n):f(e)?f(n)&&m(e,n):e instanceof Date?n instanceof Date&&h(e,n):1}function S(e,n,t){return e(n,t)>0?n:t}u.idMap=new WeakMap,u.count=0;const E=0,b=1,C=2,A=3,k=4;function R(e,n){return e.replace(/[a-z]?[A-Z]/g,e=>1===e.length?e.toLowerCase():e.charAt(0)+n+e.charAt(1).toLowerCase())}function O(e,n){switch(n){case b:return e.charAt(0).toLowerCase()+e.slice(1);case C:return R(e,"_");case A:return R(e,"_").toUpperCase();case k:return R(e,"-");case E:default:return e}}function P(e,n=E){function t(e){throw new Error("Cannot infer key and value of "+String(e))}const r={},i=n;for(let n of e){let e=E;if(null==n&&t(n),"function"==typeof n.toJSON&&(n=n.toJSON(),e=i),Array.isArray(n))switch(n.length){case 0:t(n);break;case 1:r[O(n[0],e)]=!0;break;case 2:const i=n[1];r[O(n[0],e)]=i;break;default:r[O(n[0],e)]=n.slice(1)}else"string"==typeof n?r[O(n,e)]=!0:t(n)}return r}function M(e,n){if(null==n)return null;if(n.length>1)return n;let t;switch(e){case 2:t=(e,t)=>n(e)(t);break;case 3:t=(e,t,r)=>n(e)(t)(r);break;case 4:t=(e,t,r,i)=>n(e)(t)(r)(i);break;case 5:t=(e,t,r,i,a)=>n(e)(t)(r)(i)(a);break;case 6:t=(e,t,r,i,a,u)=>n(e)(t)(r)(i)(a)(u);break;case 7:t=(e,t,r,i,a,u,s)=>n(e)(t)(r)(i)(a)(u)(s);break;case 8:t=(e,t,r,i,a,u,s,o)=>n(e)(t)(r)(i)(a)(u)(s)(o);break;default:throw new Error("Uncurrying to more than 8-arity is not supported: "+e)}return t.__CURRIED__=n,t}function T(e,n){if(null==n)return null;if("__CURRIED__"in n)return n.__CURRIED__;switch(e){case 2:return e=>t=>n(e,t);case 3:return e=>t=>r=>n(e,t,r);case 4:return e=>t=>r=>i=>n(e,t,r,i);case 5:return e=>t=>r=>i=>a=>n(e,t,r,i,a);case 6:return e=>t=>r=>i=>a=>u=>n(e,t,r,i,a,u);case 7:return e=>t=>r=>i=>a=>u=>s=>n(e,t,r,i,a,u,s);case 8:return e=>t=>r=>i=>a=>u=>s=>o=>n(e,t,r,i,a,u,s,o);default:throw new Error("Currying to more than 8-arity is not supported: "+e)}}function I(e,n,t){if(null==n)return null;if("__CURRIED__"in n){n=n.__CURRIED__;for(let e=0;e<t.length;e++)n=n(t[e]);return n}switch(e){case 1:return e=>n.apply(null,t.concat([e]));case 2:return e=>r=>n.apply(null,t.concat([e,r]));case 3:return e=>r=>i=>n.apply(null,t.concat([e,r,i]));case 4:return e=>r=>i=>a=>n.apply(null,t.concat([e,r,i,a]));case 5:return e=>r=>i=>a=>u=>n.apply(null,t.concat([e,r,i,a,u]));case 6:return e=>r=>i=>a=>u=>s=>n.apply(null,t.concat([e,r,i,a,u,s]));case 7:return e=>r=>i=>a=>u=>s=>o=>n.apply(null,t.concat([e,r,i,a,u,s,o]));case 8:return e=>r=>i=>a=>u=>s=>o=>c=>n.apply(null,t.concat([e,r,i,a,u,s,o,c]));default:throw new Error("Partially applying to more than 8-arity is not supported: "+e)}}function N(e,n){if(e.has(n))return e.get(n);throw new Error(`The given key '${n}' was not present in the dictionary.`)}function F(e,n){return null!=n&&Object.getPrototypeOf(e).constructor===Object.getPrototypeOf(n).constructor}function x(e,n){return function(e,n){e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}(e,n||D),e}function D(){}function _(e,n){if(e===n)return 0;if(null==n)return-1;for(;null!=e.tail;){if(null==n.tail)return 1;const t=v(e.head,n.head);if(0!==t)return t;e=e.tail,n=n.tail}return null==n.tail?0:-1}function G(e,n){this.head=e,this.tail=n}function j(e,n,...t){this.tag=0|e,this.name=n,this.fields=t}function V(e,n){const t={},r=null==n?Object.keys(e):n(e);for(let n=0;n<r.length;n++)t[r[n]]=e[r[n]];return t}function B(e,n,t){if(e===n)return!0;if(F(e,n)){const r=null==t?Object.keys(e):t(e);for(let t=0;t<r.length;t++)if(!p(e[r[t]],n[r[t]]))return!1;return!0}return!1}function H(e,n,t){if(e===n)return 0;if(F(e,n)){const r=null==t?Object.keys(e):t(e);for(let t=0;t<r.length;t++){const i=v(e[r[t]],n[r[t]]);if(0!==i)return i}return 0}return-1}function q(){}D.prototype.toString=function(){return"{"+Object.keys(this).map(e=>e+" = "+String(this[e])).join(";\n ")+"}"},D.prototype.GetHashCode=function(){return function(e){if(null==e)return 0;switch(typeof e){case"boolean":return e?1:0;case"number":return o(e);case"string":return s(e);default:return o(u.id(e))}}(this)},D.prototype.Equals=function(e){return this===e},G.prototype.toString=function(){return"["+Array.from(this).map(e=>String(e)).join("; ")+"]"},G.prototype.toJSON=function(){return Array.from(this)},G.prototype[Symbol.iterator]=function(){let e=this;return{next:()=>{const n=e;return e=e.tail,{done:null==n.tail,value:n.head}}}},G.prototype.GetHashCode=function(){return c(Array.from(this).map(l))},G.prototype.Equals=function(e){return 0===_(this,e)},G.prototype.CompareTo=function(e){return _(this,e)},j.prototype.toString=function(){const e=this.fields.length;return 0===e?this.name:1===e?this.name+" "+String(this.fields[0]):this.name+" ("+this.fields.map(e=>String(e)).join(",")+")"},j.prototype.toJSON=function(){return 0===this.fields.length?this.name:[this.name].concat(this.fields)},j.prototype.GetHashCode=function(){const e=this.fields.map(e=>l(e));return e.splice(0,0,o(this.tag)),c(e)},j.prototype.Equals=function(e){return this===e||F(this,e)&&this.tag===e.tag&&w(this.fields,e.fields)},j.prototype.CompareTo=function(e){return this===e?0:F(this,e)?this.tag===e.tag?m(this.fields,e.fields):this.tag<e.tag?-1:1:-1},q.prototype.toString=function(){return"{"+Object.keys(this).map(e=>e+" = "+String(this[e])).join(";\n ")+"}"},q.prototype.toJSON=function(){return V(this)},q.prototype.GetHashCode=function(){return c(Object.keys(this).map(e=>l(this[e])))},q.prototype.Equals=function(e){return B(this,e)},q.prototype.CompareTo=function(e){return H(this,e)};const W=x((function(e){this.contents=e}),q),L=x((function(e){this.stack=Error().stack,this.message=e}));function z(e){return Object.keys(e).filter(e=>"message"!==e&&"stack"!==e)}const J=x((function(){L.call(this)}),L);J.prototype.toString=function(){const e=z(this),n=e.length;return 0===n?this.message:1===n?this.message+" "+String(this[e[0]]):this.message+" ("+e.map(e=>String(this[e])).join(",")+")"},J.prototype.toJSON=function(){return V(this,z)},J.prototype.GetHashCode=function(){return c(z(this).map(e=>l(this[e])))},J.prototype.Equals=function(e){return B(this,e,z)},J.prototype.CompareTo=function(e){return H(this,e,z)};x((function(e,n,t){this.arg1=e,this.arg2=0|n,this.arg3=0|t,this.message="The match cases were incomplete"}),J),x((function(){}));class U{constructor(e,n,t,r,i,a){this.fullname=e,this.generics=n,this.constructor=t,this.fields=r,this.cases=i,this.enumCases=a}toString(){return function e(n){const t=null==n.generics||Z(n)?[]:n.generics;return t.length>0?n.fullname+"["+t.map(n=>e(n)).join(",")+"]":n.fullname}(this)}Equals(e){return K(this,e)}CompareTo(e){return $(this,e)}}function Y(e){return null!=e.generics?e.generics:[]}function K(e,n){return""===e.fullname?""===n.fullname&&d(X(e),X(n),([e,n],[t,r])=>e===t&&K(n,r)):e.fullname===n.fullname&&d(Y(e),Y(n),K)}function $(e,n){return e.fullname!==n.fullname?e.fullname<n.fullname?-1:1:y(Y(e),Y(n),$)}new U("System.Object"),new U("Microsoft.FSharp.Core.Unit"),new U("System.Char"),new U("System.String"),new U("System.Boolean"),new U("System.SByte"),new U("System.Byte"),new U("System.Int16"),new U("System.UInt16"),new U("System.Int32"),new U("System.UInt32"),new U("System.Single"),new U("System.Double"),new U("System.Decimal");function Z(e){return e.fullname.endsWith("[]")}function X(e){if(null!=e.fields)return e.fields();throw new Error(`${e.fullname} is not an F# record type`)}class Q{constructor(e){this.value=e}toString(){return String(this.value)}toJSON(){return this.value}GetHashCode(){return l(this.value)}Equals(e){return null!=e&&p(this.value,e instanceof Q?e.value:e)}CompareTo(e){return null==e?1:v(this.value,e instanceof Q?e.value:e)}}function ee(e){return null==(e=void 0===e?null:e)||e instanceof Q?new Q(e):e}function ne(e,n){if(null==e){if(!n)throw new Error("Option has no value");return null}return e instanceof Q?e.value:e}function te(e,n,t){return null==e?n:null!=t?t(ne(e)):ne(e)}function re(e,n){return null==n?n:ee(e(ne(n)))}x((function(e,n,t){j.call(this,e,n,t)}),j);const ie=x((function(e,n,t){j.call(this,e,n,t)}),j);function ae(e,n){return 0===n.tag?(t=e(n.fields[0]),new ie(0,"Ok",t)):n;var t}function ue(e,n){return 0===n.tag?e(n.fields[0]):n}var se={GetHashCode(){return c([this.s,this.e].concat(this.c))},Equals(e){return!this.cmp(e)},CompareTo(e){return this.cmp(e)}},oe="[big.js] ",ce=oe+"Invalid ",le=ce+"decimal places",fe=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function de(e,n){var t,r,i;if(0===n&&1/n<0)n="-0";else if(!fe.test(n+=""))throw Error(ce+"number");for(e.s="-"==n.charAt(0)?(n=n.slice(1),-1):1,(t=n.indexOf("."))>-1&&(n=n.replace(".","")),(r=n.search(/e/i))>0?(t<0&&(t=r),t+=+n.slice(r+1),n=n.substring(0,r)):t<0&&(t=n.length),i=n.length,r=0;r<t&&r<i&&"0"==n.charAt(r);)++r;if(r==i)e.c=[e.e=0];else for(e.e=t-r-1,e.c=[],t=0;r<i;)e.c[t++]=+n.charAt(r++);return e=we(e,he.DP,he.RM)}function we(e,n,t,r){var i=e.c,a=e.e+n+1;if(a<i.length){if(1===t)r=i[a]>=5;else if(2===t)r=i[a]>5||5==i[a]&&(r||a<0||void 0!==i[a+1]||1&i[a-1]);else if(3===t)r=r||!!i[0];else if(r=!1,0!==t)throw Error("[big.js] Invalid rounding mode");if(a<1)i.length=1,r?(e.e=-n,i[0]=1):i[0]=e.e=0;else{if(i.length=a--,r)for(;++i[a]>9;)i[a]=0,a--||(++e.e,i.unshift(1));for(a=i.length;!i[--a];)i.pop()}}else if(t<0||t>3||t!==~~t)throw Error("[big.js] Invalid rounding mode");return e}function pe(e,n,t,r){var i,a,u=e.constructor,s=!e.c[0];if(void 0!==t){if(t!==~~t||t<(3==n)||t>1e6)throw Error(3==n?ce+"precision":le);for(t=r-(e=new u(e)).e,e.c.length>++r&&we(e,t,u.RM),2==n&&(r=e.e+t+1);e.c.length<r;)e.c.push(0)}if(i=e.e,t=(a=e.c.join("")).length,2!=n&&(1==n||3==n&&r<=i||i<=u.NE||i>=u.PE))a=a.charAt(0)+(t>1?"."+a.slice(1):"")+(i<0?"e":"e+")+i;else if(i<0){for(;++i;)a="0"+a;a="0."+a}else if(i>0)if(++i>t)for(i-=t;i--;)a+="0";else i<t&&(a=a.slice(0,i)+"."+a.slice(i));else t>1&&(a=a.charAt(0)+"."+a.slice(1));return e.s<0&&(!s||4==n)?"-"+a:a}se.abs=function(){var e=new this.constructor(this);return e.s=1,e},se.cmp=function(e){var n,t=this.constructor,r=new t(this),i=(e=new t(e),r.c),a=e.c,u=r.s,s=e.s,o=r.e,c=e.e;if(!i[0]||!a[0])return i[0]?u:a[0]?-s:0;if(u!=s)return u;if(n=u<0,o!=c)return o>c^n?1:-1;for(s=Math.max(i.length,a.length),u=0;u<s;u++)if((o=u<i.length?i[u]:0)!=(c=u<a.length?a[u]:0))return o>c^n?1:-1;return 0},se.div=function(e){var n=this.constructor,t=new n(this),r=(e=new n(e),t.c),i=e.c,a=t.s==e.s?1:-1,u=n.DP;if(u!==~~u||u<0||u>1e6)throw Error(le);if(!i[0])throw Error("[big.js] Division by zero");if(!r[0])return new n(0*a);var s,o,c,l,f,d=i.slice(),w=s=i.length,p=r.length,h=r.slice(0,s),g=h.length,y=e,m=y.c=[],v=0,S=u+(y.e=t.e-e.e)+1;for(y.s=a,a=S<0?0:S,d.unshift(0);g++<s;)h.push(0);do{for(c=0;c<10;c++){if(s!=(g=h.length))l=s>g?1:-1;else for(f=-1,l=0;++f<s;)if(i[f]!=h[f]){l=i[f]>h[f]?1:-1;break}if(!(l<0))break;for(o=g==s?i:d;g;){if(h[--g]<o[g]){for(f=g;f&&!h[--f];)h[f]=9;--h[f],h[g]+=10}h[g]-=o[g]}for(;!h[0];)h.shift()}m[v++]=l?c:++c,h[0]&&l?h[g]=r[w]||0:h=[r[w]]}while((w++<p||void 0!==h[0])&&a--);return m[0]||1==v||(m.shift(),y.e--),v>S&&we(y,u,n.RM,void 0!==h[0]),y},se.eq=function(e){return!this.cmp(e)},se.gt=function(e){return this.cmp(e)>0},se.gte=function(e){return this.cmp(e)>-1},se.lt=function(e){return this.cmp(e)<0},se.lte=function(e){return this.cmp(e)<1},se.minus=se.sub=function(e){var n,t,r,i,a=this.constructor,u=new a(this),s=(e=new a(e),u.s),o=e.s;if(s!=o)return e.s=-o,u.plus(e);var c=u.c.slice(),l=u.e,f=e.c,d=e.e;if(!c[0]||!f[0])return f[0]?(e.s=-o,e):new a(c[0]?u:0);if(s=l-d){for((i=s<0)?(s=-s,r=c):(d=l,r=f),r.reverse(),o=s;o--;)r.push(0);r.reverse()}else for(t=((i=c.length<f.length)?c:f).length,s=o=0;o<t;o++)if(c[o]!=f[o]){i=c[o]<f[o];break}if(i&&(r=c,c=f,f=r,e.s=-e.s),(o=(t=f.length)-(n=c.length))>0)for(;o--;)c[n++]=0;for(o=n;t>s;){if(c[--t]<f[t]){for(n=t;n&&!c[--n];)c[n]=9;--c[n],c[t]+=10}c[t]-=f[t]}for(;0===c[--o];)c.pop();for(;0===c[0];)c.shift(),--d;return c[0]||(e.s=1,c=[d=0]),e.c=c,e.e=d,e},se.mod=function(e){var n,t=this.constructor,r=new t(this),i=(e=new t(e),r.s),a=e.s;if(!e.c[0])throw Error("[big.js] Division by zero");return r.s=e.s=1,n=1==e.cmp(r),r.s=i,e.s=a,n?new t(r):(i=t.DP,a=t.RM,t.DP=t.RM=0,r=r.div(e),t.DP=i,t.RM=a,this.minus(r.times(e)))},se.plus=se.add=function(e){var n,t=this.constructor,r=new t(this),i=(e=new t(e),r.s),a=e.s;if(i!=a)return e.s=-a,r.minus(e);var u=r.e,s=r.c,o=e.e,c=e.c;if(!s[0]||!c[0])return c[0]?e:new t(s[0]?r:0*i);if(s=s.slice(),i=u-o){for(i>0?(o=u,n=c):(i=-i,n=s),n.reverse();i--;)n.push(0);n.reverse()}for(s.length-c.length<0&&(n=c,c=s,s=n),i=c.length,a=0;i;s[i]%=10)a=(s[--i]=s[i]+c[i]+a)/10|0;for(a&&(s.unshift(a),++o),i=s.length;0===s[--i];)s.pop();return e.c=s,e.e=o,e},se.pow=function(e){var n=this.constructor,t=new n(this),r=new n(1),i=new n(1),a=e<0;if(e!==~~e||e<-1e6||e>1e6)throw Error(ce+"exponent");for(a&&(e=-e);1&e&&(r=r.times(t)),e>>=1;)t=t.times(t);return a?i.div(r):r},se.round=function(e,n){var t=this.constructor;if(void 0===e)e=0;else if(e!==~~e||e<-1e6||e>1e6)throw Error(le);return we(new t(this),e,void 0===n?t.RM:n)},se.sqrt=function(){var e,n,t,r=this.constructor,i=new r(this),a=i.s,u=i.e,s=new r(.5);if(!i.c[0])return new r(i);if(a<0)throw Error(oe+"No square root");0===(a=Math.sqrt(i+""))||a===1/0?((n=i.c.join("")).length+u&1||(n+="0"),u=((u+1)/2|0)-(u<0||1&u),e=new r(((a=Math.sqrt(n))==1/0?"1e":(a=a.toExponential()).slice(0,a.indexOf("e")+1))+u)):e=new r(a),u=e.e+(r.DP+=4);do{t=e,e=s.times(t.plus(i.div(t)))}while(t.c.slice(0,u).join("")!==e.c.slice(0,u).join(""));return we(e,r.DP-=4,r.RM)},se.times=se.mul=function(e){var n,t=this.constructor,r=new t(this),i=(e=new t(e),r.c),a=e.c,u=i.length,s=a.length,o=r.e,c=e.e;if(e.s=r.s==e.s?1:-1,!i[0]||!a[0])return new t(0*e.s);for(e.e=o+c,u<s&&(n=i,i=a,a=n,c=u,u=s,s=c),n=new Array(c=u+s);c--;)n[c]=0;for(o=s;o--;){for(s=0,c=u+o;c>o;)s=n[c]+a[o]*i[c-o-1]+s,n[c--]=s%10,s=s/10|0;n[c]=(n[c]+s)%10}for(s?++e.e:n.shift(),o=n.length;!n[--o];)n.pop();return e.c=n,e},se.toExponential=function(e){return pe(this,1,e,e)},se.toFixed=function(e){return pe(this,2,e,this.e+e)},se.toPrecision=function(e){return pe(this,3,e,e-1)},se.toString=function(){return pe(this)},se.valueOf=se.toJSON=function(){return pe(this,4)};var he=function e(){function n(t){var r=this;if(!(r instanceof n))return void 0===t?e():new n(t);t instanceof n?(r.s=t.s,r.e=t.e,r.c=t.c.slice(),function(e){if((e=we(e,28,0)).c.length>1&&!e.c[0]){let n=e.c.findIndex(e=>e);e.c=e.c.slice(n),e.e=e.e-n}}(r)):de(r,t),r.constructor=n}return n.prototype=se,n.DP=28,n.RM=1,n.NE=-29,n.PE=29,n.version="5.2.2",n}(),ge=he,ye=ge;new ge(0),new ge(1),new ge(-1),new ge("79228162514264337593543950335"),new ge("-79228162514264337593543950335");var me;function ve(e,n){switch(n){case 8:return e?[0,255]:[-128,127];case 16:return e?[0,65535]:[-32768,32767];case 32:return e?[0,4294967295]:[-2147483648,2147483647];default:throw new Error("Invalid bit size.")}}function Se(e,n,t){const r=/^\s*([\+\-])?(0[xXoObB])?([0-9a-fA-F]+)\s*$/.exec(e.replace(/_/g,""));if(null!=r){const[e,i,a,u]=r;if(!function(e){switch(e){case 2:return/[^0-1]/;case 8:return/[^0-7]/;case 10:return/[^0-9]/;case 16:return/[^0-9a-fA-F]/;default:throw new Error("Invalid Base.")}}(t=t||function(e,n){if(n&me.AllowHexSpecifier)return 16;switch(e){case"0b":case"0B":return 2;case"0o":case"0O":return 8;case"0x":case"0X":return 16;default:return 10}}(a,n)).test(u))return function(e,n){const[t,r,i,a]=e;return{sign:r||"",prefix:i||"",digits:a,radix:n}}(r,t)}return null}function Ee(e,n,t,r){try{return[!0,function(e,n,t,r,i){const a=Se(e,n,i);if(null!=a){let e=Number.parseInt(a.sign+a.digits,a.radix);if(!Number.isNaN(e)){const[n,i]=ve(!0,r);!t&&10!==a.radix&&e>=n&&e<=i&&(e=e<<32-r>>32-r);const[u,s]=ve(t,r);if(e>=u&&e<=s)return e}}throw new Error("Input string was not in a correct format.")}(e,n,t,r)]}catch(e){}return[!1,0]}!function(e){e[e.AllowHexSpecifier=512]="AllowHexSpecifier"}(me||(me={}));var be=null;try{be=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(e){}function Ce(e,n,t){this.low=0|e,this.high=0|n,this.unsigned=!!t}function Ae(e){return!0===(e&&e.__isLong__)}Ce.prototype.GetHashCode=function(){let e=this.unsigned?1:0;return e=(e<<5)+e^this.high,e=(e<<5)+e^this.low,e},Ce.prototype.Equals=function(e){return Ze(this,e)},Ce.prototype.CompareTo=function(e){return nn(this,e)},Ce.prototype.toString=function(e){return Ue(this,e)},Ce.prototype.toJSON=function(){return Ue(this)},Ce.prototype.__isLong__,Object.defineProperty(Ce.prototype,"__isLong__",{value:!0});var ke={},Re={};function Oe(e,n){var t,r,i;return n?(i=0<=(e>>>=0)&&e<256)&&(r=Re[e])?r:(t=Me(e,(0|e)<0?-1:0,!0),i&&(Re[e]=t),t):(i=-128<=(e|=0)&&e<128)&&(r=ke[e])?r:(t=Me(e,e<0?-1:0,!1),i&&(ke[e]=t),t)}function Pe(e,n){if(isNaN(e))return n?je:Ge;if(n){if(e<0)return je;if(e>=xe)return We}else{if(e<=-De)return Le;if(e+1>=De)return qe}return e<0?tn(Pe(-e,n)):Me(e%Fe|0,e/Fe|0,n)}function Me(e,n,t){return new Ce(e,n,t)}var Te=Math.pow;function Ie(e,n,t){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return Ge;if("number"==typeof n?(t=n,n=!1):n=!!n,(t=t||10)<2||36<t)throw RangeError("radix");var r=e.indexOf("-");if(r>0)throw Error("interior hyphen");if(0===r)return tn(Ie(e.substring(1),n,t));for(var i=Pe(Te(t,8)),a=Ge,u=0;u<e.length;u+=8){var s=Math.min(8,e.length-u),o=parseInt(e.substring(u,u+s),t);if(s<8)a=rn(un(a,Pe(Te(t,s))),Pe(o));else a=rn(a=un(a,i),Pe(o))}return a.unsigned=n,a}function Ne(e,n){return"number"==typeof e?Pe(e,n):"string"==typeof e?Ie(e,n):Me(e.low,e.high,"boolean"==typeof n?n:e.unsigned)}var Fe=4294967296,xe=Fe*Fe,De=xe/2,_e=Oe(1<<24),Ge=Oe(0),je=Oe(0,!0),Ve=Oe(1),Be=Oe(1,!0),He=Oe(-1),qe=Me(-1,2147483647,!1),We=Me(-1,-1,!0),Le=Me(0,-2147483648,!1);function ze(e){return e.unsigned?e.low>>>0:e.low}function Je(e){return e.unsigned?(e.high>>>0)*Fe+(e.low>>>0):e.high*Fe+(e.low>>>0)}function Ue(e,n){if((n=n||10)<2||36<n)throw RangeError("radix");if(Ye(e))return"0";if(Ke(e)){if(Ze(e,Le)){var t=Pe(n),r=sn(e,t),i=an(un(r,t),e);return Ue(r,n)+ze(i).toString(n)}return"-"+Ue(tn(e),n)}for(var a=Pe(Te(n,6),e.unsigned),u=e,s="";;){var o=sn(u,a),c=(ze(an(u,un(o,a)))>>>0).toString(n);if(Ye(u=o))return c+s;for(;c.length<6;)c="0"+c;s=""+c+s}}function Ye(e){return 0===e.high&&0===e.low}function Ke(e){return!e.unsigned&&e.high<0}function $e(e){return 1==(1&e.low)}function Ze(e,n){return Ae(n)||(n=Ne(n)),(e.unsigned===n.unsigned||e.high>>>31!=1||n.high>>>31!=1)&&(e.high===n.high&&e.low===n.low)}function Xe(e,n){return nn(e,n)<0}function Qe(e,n){return nn(e,n)>0}function en(e,n){return nn(e,n)>=0}function nn(e,n){if(Ae(n)||(n=Ne(n)),Ze(e,n))return 0;var t=Ke(e),r=Ke(n);return t&&!r?-1:!t&&r?1:e.unsigned?n.high>>>0>e.high>>>0||n.high===e.high&&n.low>>>0>e.low>>>0?-1:1:Ke(an(e,n))?-1:1}function tn(e){return!e.unsigned&&Ze(e,Le)?Le:rn(on(e),Ve)}function rn(e,n){Ae(n)||(n=Ne(n));var t=e.high>>>16,r=65535&e.high,i=e.low>>>16,a=65535&e.low,u=n.high>>>16,s=65535&n.high,o=n.low>>>16,c=0,l=0,f=0,d=0;return f+=(d+=a+(65535&n.low))>>>16,l+=(f+=i+o)>>>16,c+=(l+=r+s)>>>16,c+=t+u,Me((f&=65535)<<16|(d&=65535),(c&=65535)<<16|(l&=65535),e.unsigned)}function an(e,n){return Ae(n)||(n=Ne(n)),rn(e,tn(n))}function un(e,n){if(Ye(e))return e.unsigned?je:Ge;if(Ae(n)||(n=Ne(n)),be)return Me(be.mul(e.low,e.high,n.low,n.high),be.get_high(),e.unsigned);if(Ye(n))return e.unsigned?je:Ge;if(Ze(e,Le))return $e(n)?Le:Ge;if(Ze(n,Le))return $e(e)?Le:Ge;if(Ke(e))return Ke(n)?un(tn(e),tn(n)):tn(un(tn(e),n));if(Ke(n))return tn(un(e,tn(n)));if(Xe(e,_e)&&Xe(n,_e))return Pe(Je(e)*Je(n),e.unsigned);var t=e.high>>>16,r=65535&e.high,i=e.low>>>16,a=65535&e.low,u=n.high>>>16,s=65535&n.high,o=n.low>>>16,c=65535&n.low,l=0,f=0,d=0,w=0;return d+=(w+=a*c)>>>16,f+=(d+=i*c)>>>16,d&=65535,f+=(d+=a*o)>>>16,l+=(f+=r*c)>>>16,f&=65535,l+=(f+=i*o)>>>16,f&=65535,l+=(f+=a*s)>>>16,l+=t*c+r*o+i*s+a*u,Me((d&=65535)<<16|(w&=65535),(l&=65535)<<16|(f&=65535),e.unsigned)}function sn(e,n){if(Ae(n)||(n=Ne(n)),Ye(n))throw Error("division by zero");var t,r,i;if(be)return e.unsigned||-2147483648!==e.high||-1!==n.low||-1!==n.high?Me((e.unsigned?be.div_u:be.div_s)(e.low,e.high,n.low,n.high),be.get_high(),e.unsigned):e;if(Ye(e))return e.unsigned?je:Ge;if(e.unsigned){if(n.unsigned||(n=function(e){return e.unsigned?e:Me(e.low,e.high,!0)}(n)),Qe(n,e))return je;if(Qe(n,fn(e,1)))return Be;i=je}else{if(Ze(e,Le))return Ze(n,Ve)||Ze(n,He)?Le:Ze(n,Le)?Ve:Ze(t=cn(sn(ln(e,1),n),1),Ge)?Ke(n)?Ve:He:i=rn(t,sn(r=an(e,un(n,t)),n));if(Ze(n,Le))return e.unsigned?je:Ge;if(Ke(e))return Ke(n)?sn(tn(e),tn(n)):tn(sn(tn(e),n));if(Ke(n))return tn(sn(e,tn(n)));i=Ge}for(r=e;en(r,n);){t=Math.max(1,Math.floor(Je(r)/Je(n)));for(var a=Math.ceil(Math.log(t)/Math.LN2),u=a<=48?1:Te(2,a-48),s=Pe(t),o=un(s,n);Ke(o)||Qe(o,r);)o=un(s=Pe(t-=u,e.unsigned),n);Ye(s)&&(s=Ve),i=rn(i,s),r=an(r,o)}return i}function on(e){return Me(~e.low,~e.high,e.unsigned)}function cn(e,n){return Ae(n)&&(n=ze(n)),0==(n&=63)?e:n<32?Me(e.low<<n,e.high<<n|e.low>>>32-n,e.unsigned):Me(0,e.low<<n-32,e.unsigned)}function ln(e,n){return Ae(n)&&(n=ze(n)),0==(n&=63)?e:n<32?Me(e.low>>>n|e.high<<32-n,e.high>>n,e.unsigned):Me(e.high>>n-32,e.high>=0?0:-1,e.unsigned)}function fn(e,n){if(Ae(n)&&(n=ze(n)),0===(n&=63))return e;var t=e.high;return n<32?Me(e.low>>>n|t<<32-n,t>>>n,e.unsigned):Me(32===n?t:t>>>n-32,0,e.unsigned)}var dn=Ce;const wn=un,pn=nn,hn=function(e,n,t){return t?function(e,n){return new Ce(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,n)}(e,n):function(e,n){return new Ce(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],n)}(e,n)},gn=function(e,n){return n?function(e){var n=e.high,t=e.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&n,n>>>8&255,n>>>16&255,n>>>24]}(e):function(e){var n=e.high,t=e.low;return[n>>>24,n>>>16&255,n>>>8&255,255&n,t>>>24,t>>>16&255,t>>>8&255,255&t]}(e)},yn=Ue;class mn{constructor(e){this.iter=e}MoveNext(){const e=this.iter.next();return this.current=e.value,!e.done}get Current(){return this.current}Reset(){throw new Error("JS iterators cannot be reset")}Dispose(){}}function vn(e){return new mn(e[Symbol.iterator]())}function Sn(e){return{next:()=>e.MoveNext()?{done:!1,value:e.Current}:{done:!0,value:null}}}function En(e){return kn(()=>_n(n=>n<e.length?[e[n],n+1]:null,0))}function bn(e,n){return kn(()=>{let t=!1;let r=[e[Symbol.iterator](),null];return _n(()=>{let e;if(!t){if(e=r[0].next(),!e.done)return[e.value,r];t=!0,r=[null,n[Symbol.iterator]()]}return e=r[1].next(),e.done?null:[e.value,r]},r)})}function Cn(e){return kn(()=>{const n=e[Symbol.iterator]();let t={value:null};return _n(e=>{let r=!1;for(;!r;)if(null==e){const t=n.next();t.done?r=!0:e=t.value[Symbol.iterator]()}else{const n=e.next();n.done?e=null:(t={value:n.value},r=!0)}return null!=e&&null!=t?[t.value,e]:null},null)})}function An(e,n){return Cn(Mn(e,n))}function kn(e){return{[Symbol.iterator]:()=>e()[Symbol.iterator]()}}function Rn(e,n,t){if(Array.isArray(t)||ArrayBuffer.isView(t))return t.reduce(e,n);{let r;for(let i=0,a=t[Symbol.iterator]();r=a.next(),!r.done;i++)n=e(n,r.value,i);return n}}function On(e,n){Rn((n,t)=>e(t),null,n)}function Pn(e,n){Rn((n,t,r)=>e(r,t),null,n)}function Mn(e,n){return kn(()=>_n(n=>{const t=n.next();return t.done?null:[e(t.value),n]},n[Symbol.iterator]()))}function Tn(e,n,t){return kn(()=>{const r=t[Symbol.iterator]();return _n(t=>{if(null==t)return[n,n];const i=r.next();return i.done?void 0:[t=e(t,i.value),t]},null)})}function In(e){return[e]}function Nn(e,n){return{[Symbol.iterator]:()=>{const t=n[Symbol.iterator]();for(let n=1;n<=e;n++)if(t.next().done)throw new Error("Seq has not enough elements");return t}}}function Fn(e,n,t){return Rn((n,r)=>t.Add(n,e(r)),t.GetZero(),n)}function xn(e,n,t=!1){return kn(()=>{const r=n[Symbol.iterator]();return _n(n=>{if(n<e){const e=r.next();if(!e.done)return[e.value,n+1];if(!t)throw new Error("Seq has not enough elements")}},0)})}function Dn(e,n){for(let t=0,r=n[Symbol.iterator]();;t++){const n=r.next();if(n.done)break;if(e(n.value,t))return t}return null}function _n(e,n){return{[Symbol.iterator]:()=>{let t=n;return{next:()=>{const n=e(t);return null!=n?(t=n[1],{done:!1,value:n[0]}):{done:!0}}}}}}function Gn(e){return e.replace(/[\-\[\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}const jn=/(^|[^%])%([0+\- ]*)(\d+)?(?:\.(\d+))?(\w)/;function Vn(e){return"number"==typeof e||e instanceof dn||e instanceof ye}function Bn(e,n){return e instanceof dn?pn(e,n)<0:e instanceof ye?e.cmp(n)<0:e<n}function Hn(e,n){return e instanceof dn?wn(e,n):e instanceof ye?e.mul(n):e*n}function qn(e,n){return e instanceof dn?String(e)+(0).toFixed(n).substr(1):e.toFixed(n)}function Wn(e,n){return e instanceof dn?String(e)+(0).toPrecision(n).substr(1):e.toPrecision(n)}function Ln(e,n){return e instanceof dn?String(e)+(0).toExponential(n).substr(1):e.toExponential(n)}function zn(e){return e instanceof dn?yn(e.unsigned?e:hn(gn(e),!0),16):(Number(e)>>>0).toString(16)}function Jn(e){return{input:e,cont:(n=e,e=>jn.test(n)?function e(n,t){return(...r)=>{let i=n;for(const e of r)i=Kn(i,e);return jn.test(i)?e(i,t):t(i.replace(/%%/g,"%"))}}(n,e):e(n))};var n}function Un(e){return e.cont(e=>e)}function Yn(e){return e.cont(e=>{throw new Error(e)})}function Kn(e,n){return e.replace(jn,(e,t,r,i,a,u)=>{let s="";if(Vn(n))switch("x"!==u.toLowerCase()&&(Bn(n,0)?(n=Hn(n,-1),s="-"):r.indexOf(" ")>=0?s=" ":r.indexOf("+")>=0&&(s="+")),a=null==a?null:parseInt(a,10),u){case"f":case"F":n=qn(n,a=null!=a?a:6);break;case"g":case"G":n=null!=a?Wn(n,a):Wn(n);break;case"e":case"E":n=null!=a?Ln(n,a):Ln(n);break;case"x":n=zn(n);break;case"X":n=zn(n).toUpperCase();break;default:n=String(n)}if(i=parseInt(i,10),isNaN(i))n=s+n;else{const e=r.indexOf("0")>=0,t=r.indexOf("-")>=0,a=t||!e?" ":"0";n="0"===a?s+(n=Zn(n,i-s.length,a,t)):Zn(s+n,i,a,t)}return(t+n).replace(/%/g,"%%")})}function $n(e,n){return Array.isArray(n)?n.join(e):Array.from(n).join(e)}function Zn(e,n,t,r){t=t||" ",n-=e.length;for(let i=0;i<n;i++)e=r?e+t:t+e;return e}const Xn=x((function(e,n){const t=new W(null);this.comparer=n,t.contents=this,this["entries@24"]=new Map([]),this["init@21-2"]=1,On((function(e){tt(t.contents,e)}),e)}));function Qn(e,n){const t=0|e.comparer.GetHashCode(n),r=i(e["entries@24"],t,null);return r[0]?[!0,t,r[1].findIndex((function(t){return e.comparer.Equals(n,t)}))]:[!1,t,-1]}function et(e){e["entries@24"].clear()}function nt(e){return 0|Fn((function(e){return e.length}),e["entries@24"].values(),{GetZero:()=>0,Add:(e,n)=>e+n})}function tt(e,n){const t=Qn(e,n);switch(t[0]&&t[2]>-1?0:1){case 0:return!1;case 1:if(t[0]){N(e["entries@24"],t[1]).push(n);return!0}return e["entries@24"].set(t[1],[n]),!0}}function rt(e,n){const t=Qn(e,n);switch(t[0]&&t[2]>-1?0:1){case 0:return!0;case 1:return!1}}function it(e,n){const t=Qn(e,n);switch(t[0]&&t[2]>-1?0:1){case 0:return N(e["entries@24"],t[1]).splice(t[2],1),!0;case 1:return!1}}Xn.prototype[Symbol.iterator]=function(){const e=this;return Sn(vn(kn((function(){return An((function(e){return Mn((function(e){return e}),e)}),e["entries@24"].values())}))))},Xn.prototype.Add=function(e){tt(this,e)},Xn.prototype.Clear=function(){et(this)},Xn.prototype.Contains=function(e){return rt(this,e)},Xn.prototype.CopyTo=function(e,n){Pn((function(t,r){e[n+t]=r}),this)},Object.defineProperty(Xn.prototype,"Count",{get:function(){return 0|nt(this)}}),Object.defineProperty(Xn.prototype,"IsReadOnly",{get:function(){return!1}}),Xn.prototype.Remove=function(e){return it(this,e)},Object.defineProperty(Xn.prototype,"size",{get:function(){return 0|nt(this)}}),Xn.prototype.add=function(e){tt(this,e);return this},Xn.prototype.add_=function(e){return tt(this,e)},Xn.prototype.clear=function(){et(this)},Xn.prototype.delete=function(e){return it(this,e)},Xn.prototype.has=function(e){return rt(this,e)},Xn.prototype.keys=function(){return Mn((function(e){return e}),this)},Xn.prototype.values=function(){return Mn((function(e){return e}),this)},Xn.prototype.entries=function(){return Mn((function(e){return[e,e]}),this)};const at=x((function(e,n,...t){j.call(this,e,n,...t)}),j);function ut(e){return function e(n,t){e:for(;;){const r=n,i=t;switch(r.tag){case 2:return i+1|0;case 0:return 0|i;default:n=r.fields[1],t=e(r.fields[2],i+1);continue e}break}}(e,0)}function st(e){return new at(2,"SetOne",e)}function ot(e,n,t,r){return new at(1,"SetNode",e,n,t,r)}function ct(e){switch(e.tag){case 2:return 1;case 1:return 0|e.fields[3];default:return 0}}function lt(e,n,t){switch(0===e.tag&&0===t.tag?0:1){case 0:return st(n);case 1:{const r=0|ct(e),i=0|ct(t);return ot(n,e,t,(0|(r<i?i:r))+1)}}}function ft(e,n,t){const r=0|ct(e),i=0|ct(t);if(i>r+2){if(1===t.tag){if(ct(t.fields[1])>r+1){if(1===t.fields[1].tag)return lt(lt(e,n,t.fields[1].fields[1]),t.fields[1].fields[0],lt(t.fields[1].fields[2],t.fields[0],t.fields[2]));throw new Error("rebalance")}return lt(lt(e,n,t.fields[1]),t.fields[0],t.fields[2])}throw new Error("rebalance")}if(r>i+2){if(1===e.tag){if(ct(e.fields[2])>i+1){if(1===e.fields[2].tag)return lt(lt(e.fields[1],e.fields[0],e.fields[2].fields[1]),e.fields[2].fields[0],lt(e.fields[2].fields[2],n,t));throw new Error("rebalance")}return lt(e.fields[1],e.fields[0],lt(e.fields[2],n,t))}throw new Error("rebalance")}return lt(e,n,t)}function dt(e,n,t){switch(t.tag){case 2:{const r=0|e.Compare(n,t.fields[0]);return r<0?ot(n,new at(0,"SetEmpty"),t,2):0===r?t:ot(n,t,new at(0,"SetEmpty"),2)}case 0:return st(n);default:{const r=0|e.Compare(n,t.fields[0]);return r<0?ft(dt(e,n,t.fields[1]),t.fields[0],t.fields[2]):0===r?t:ft(t.fields[1],t.fields[0],dt(e,n,t.fields[2]))}}}function wt(e,n,t,r){var i,a,u,s,o,c,l,f,d,w,p,h,g,y,m;switch(2===n.tag?0===r.tag?(i=1,u=n):(r.tag,i=2,s=n.fields[0],o=r):1===n.tag?2===r.tag?(i=3,c=r.fields[0],l=n):1===r.tag?(i=4,f=n.fields[3],d=r.fields[3],w=n.fields[0],p=r.fields[0],h=n.fields[1],g=n.fields[2],y=r.fields[1],m=r.fields[2]):(i=1,u=n):(i=0,a=r),i){case 0:return dt(e,t,a);case 1:return dt(e,t,u);case 2:return dt(e,t,dt(e,s,o));case 3:return dt(e,t,dt(e,c,l));case 4:return f+2<d?ft(wt(e,n,t,y),p,m):d+2<f?ft(h,w,wt(e,g,t,r)):lt(n,t,r)}}function pt(e,n,t){switch(t.tag){case 2:{const r=0|e.Compare(t.fields[0],n);return r<0?[t,!1,new at(0,"SetEmpty")]:0===r?[new at(0,"SetEmpty"),!0,new at(0,"SetEmpty")]:[new at(0,"SetEmpty"),!1,t]}case 0:return[new at(0,"SetEmpty"),!1,new at(0,"SetEmpty")];default:{const r=0|e.Compare(n,t.fields[0]);if(r<0){const r=pt(e,n,t.fields[1]);return[r[0],r[1],wt(e,r[2],t.fields[0],t.fields[2])]}if(0===r)return[t.fields[1],!0,t.fields[2]];{const r=pt(e,n,t.fields[2]);return[wt(e,t.fields[1],t.fields[0],r[0]),r[1],r[2]]}}}}function ht(e,n,t){switch(t.tag){case 2:return 0===(0|e.Compare(n,t.fields[0]))?new at(0,"SetEmpty"):t;case 1:{const r=0|e.Compare(n,t.fields[0]);if(r<0)return ft(ht(e,n,t.fields[1]),t.fields[0],t.fields[2]);if(0===r){if(0===t.fields[1].tag)return t.fields[2];if(0===t.fields[2].tag)return t.fields[1];{const e=function e(n){switch(n.tag){case 2:return[n.fields[0],new at(0,"SetEmpty")];case 1:if(0===n.fields[1].tag)return[n.fields[0],n.fields[2]];{const t=e(n.fields[1]);return[t[0],lt(t[1],n.fields[0],n.fields[2])]}default:throw new Error("internal error: Set.spliceOutSuccessor")}}(t.fields[2]);return lt(t.fields[1],e[0],e[1])}}return ft(t.fields[1],t.fields[0],ht(e,n,t.fields[2]))}default:return t}}function gt(e,n,t){e:for(;;){const r=e,i=n,a=t;switch(a.tag){case 2:return 0===r.Compare(i,a.fields[0]);case 0:return!1;default:{const u=0|r.Compare(i,a.fields[0]);if(u<0){e=r,n=i,t=a.fields[1];continue e}if(0===u)return!0;e=r,n=i,t=a.fields[2];continue e}}break}}function yt(e,n,t){e:for(;;){const r=e,i=n,a=t;switch(a.tag){case 2:return r(i,a.fields[0]);case 0:return i;default:{const u=r(yt(r,i,a.fields[1]),a.fields[0]);e=r,n=u,t=a.fields[2];continue e}}break}}function mt(e,n){e:for(;;){const t=e,r=n;switch(r.tag){case 2:return t(r.fields[0]);case 0:return!0;default:if(t(r.fields[0])&&mt(t,r.fields[1])){e=t,n=r.fields[2];continue e}return!1}break}}function vt(e,n){e:for(;;){const t=e,r=n;switch(r.tag){case 2:return t(r.fields[0]);case 0:return!1;default:if(t(r.fields[0])||vt(t,r.fields[1]))return!0;e=t,n=r.fields[2];continue e}break}}function St(e,n,t){return mt((function(n){return gt(e,n,t)}),n)}function Et(e,n,t){return function e(n,t,r,i){e:for(;;){const a=n,u=t,s=r,o=i;switch(s.tag){case 2:return u(s.fields[0])?dt(a,s.fields[0],o):o;case 0:return o;default:{const c=u(s.fields[0])?dt(a,s.fields[0],o):o;n=a,t=u,r=s.fields[1],i=e(a,u,s.fields[2],c);continue e}}break}}(e,n,t,new at(0,"SetEmpty"))}function bt(e,n,t){return function e(n,t,r){e:for(;;){const i=n,a=t,u=r;switch(a.tag){case 2:return ht(i,a.fields[0],u);case 0:return u;default:n=i,t=a.fields[1],r=e(i,a.fields[2],ht(i,a.fields[0],u));continue e}break}}(e,t,n)}const Ct=x((function(e,n){this.stack=e,this.started=n}),q);function At(e){for(;;){const n=e;if(null==n.tail)return new G;if(2===n.head.tag)return n;1!==n.head.tag?e=n.tail:e=new G(n.head.fields[1],new G(st(n.head.fields[0]),new G(n.head.fields[2],n.tail)))}}function kt(e){return new Ct(At(new G(e,new G)),!1)}function Rt(e){if(e.started){const n=e.stack;if(null==n.tail)return function(){throw new Error("Enumeration already started")}();if(2===n.head.tag)return n.head.fields[0];throw new Error("Please report error: Set iterator, unexpected stack for current")}return function(){throw new Error("Enumeration not started")}()}const Ot=x((function(e){this.s=e,this.i=kt(this.s)}));function Pt(e){return function(e){return this instanceof Ot?Ot.call(this,e):new Ot(e)}(e)}function Mt(e,n,t){return 0===n.tag?0===t.tag?0:-1:0===t.tag?1:0|function(e,n,t){e:for(;;){const B=e,H=n,q=t;var r,i,a,u,s,o,c,l,f,d,w,p,h,g,y,m,v,S,E,b,C,A,k,R,O,P,M,T,I,N,F,x,D,_,j,V;switch(null!=H.tail?null!=q.tail?2===q.head.tag?2===H.head.tag?(r=4,u=H.head.fields[0],s=q.head.fields[0],o=H.tail,c=q.tail):1===H.head.tag?0===H.head.fields[1].tag?(r=6,h=H.head.fields[1],g=H.head.fields[0],y=H.head.fields[2],m=q.head.fields[0],v=H.tail,S=q.tail):(r=9,M=H.head.fields[0],T=H.head.fields[1],I=H.head.fields[2],N=H.tail):(r=10,F=q.head.fields[0],x=q.tail):1===q.head.tag?0===q.head.fields[1].tag?2===H.head.tag?(r=5,l=H.head.fields[0],f=q.head.fields[0],d=q.head.fields[2],w=H.tail,p=q.tail):1===H.head.tag?0===H.head.fields[1].tag?(r=7,E=H.head.fields[0],b=H.head.fields[2],C=q.head.fields[0],A=q.head.fields[2],k=H.tail,R=q.tail):(r=9,M=H.head.fields[0],T=H.head.fields[1],I=H.head.fields[2],N=H.tail):(r=11,D=q.head.fields[0],_=q.head.fields[1],j=q.head.fields[2],V=q.tail):2===H.head.tag?(r=8,O=H.head.fields[0],P=H.tail):1===H.head.tag?(r=9,M=H.head.fields[0],T=H.head.fields[1],I=H.head.fields[2],N=H.tail):(r=11,D=q.head.fields[0],_=q.head.fields[1],j=q.head.fields[2],V=q.tail):2===H.head.tag?(r=8,O=H.head.fields[0],P=H.tail):1===H.head.tag?(r=9,M=H.head.fields[0],T=H.head.fields[1],I=H.head.fields[2],N=H.tail):(r=3,i=H.tail,a=q.tail):r=2:r=null!=q.tail?1:0,r){case 0:return 0;case 1:return-1;case 2:return 1;case 3:e=B,n=i,t=a;continue e;case 4:{const r=0|B.Compare(u,s);if(0!==r)return 0|r;e=B,n=o,t=c;continue e}case 5:{const r=0|B.Compare(l,f);if(0!==r)return 0|r;e=B,n=new G(new at(0,"SetEmpty"),w),t=new G(d,p);continue e}case 6:{const r=0|B.Compare(g,m);if(0!==r)return 0|r;e=B,n=new G(y,v),t=new G(h,S);continue e}case 7:{const r=0|B.Compare(E,C);if(0!==r)return 0|r;e=B,n=new G(b,k),t=new G(A,R);continue e}case 8:e=B,n=new G(new at(0,"SetEmpty"),new G(st(O),P)),t=q;continue e;case 9:e=B,n=new G(T,new G(ot(M,new at(0,"SetEmpty"),I,0),N)),t=q;continue e;case 10:e=B,n=H,t=new G(new at(0,"SetEmpty"),new G(st(F),x));continue e;case 11:e=B,n=H,t=new G(_,new G(ot(D,new at(0,"SetEmpty"),j,0),V));continue e}break}}(e,new G(n,new G),new G(t,new G))}function Tt(e){return function e(n,t){e:for(;;){const r=n,i=t;switch(r.tag){case 2:return new G(r.fields[0],i);case 0:return i;default:n=r.fields[1],t=new G(r.fields[0],e(r.fields[2],i));continue e}break}}(e,new G)}function It(e,n){const t=vn(n);try{return function(e,n,t){for(;;){const r=e,i=n,a=t;if(!a.MoveNext())return i;e=r,n=dt(r,a.Current,i),t=a}}(e,new at(0,"SetEmpty"),t)}finally{r(t)&&t.Dispose()}}Object.defineProperty(Ot.prototype,"Current",{get:function(){return Rt(this.i)}}),Ot.prototype.MoveNext=function(){return function(e){if(e.started){const n=e.stack;if(null==n.tail)return!1;if(2===n.head.tag)return e.stack=At(n.tail),!(null==e.stack.tail);throw new Error("Please report error: Set iterator, unexpected stack for moveNext")}return e.started=!0,!(null==e.stack.tail)}(this.i)},Ot.prototype.Reset=function(){this.i=kt(this.s)},Ot.prototype.Dispose=function(){};const Nt=x((function(e,n){this.comparer=e,this.tree=n}));function Ft(e,n){return this instanceof Nt?Nt.call(this,e,n):new Nt(e,n)}function xt(e){return e.comparer}function Dt(e){return e.tree}function _t(e,n){return gt(xt(e),n,Dt(e))}function Gt(e,n){if(0===Dt(e).tag)return e;return 0===Dt(n).tag?e:Ft(xt(e),bt(xt(e),Dt(e),Dt(n)))}function jt(e,n){if(0===Dt(n).tag)return e;return 0===Dt(e).tag?n:Ft(xt(e),function e(n,t,r){var i,a,u,s,o,c,l,f,d,w,p,h,g,y,m;switch(0===t.tag?(i=1,w=r):2===t.tag?0===r.tag?(i=2,p=t):(r.tag,i=3,h=t.fields[0],g=r):0===r.tag?(i=2,p=t):2===r.tag?(i=4,y=r.fields[0],m=t):(i=0,a=t.fields[3],u=r.fields[3],s=t.fields[0],o=r.fields[0],c=t.fields[1],l=t.fields[2],f=r.fields[1],d=r.fields[2]),i){case 0:if(a>u){const t=pt(n,s,r);return wt(n,e(n,c,t[0]),s,e(n,l,t[2]))}{const r=pt(n,o,t);return wt(n,e(n,f,r[0]),o,e(n,d,r[2]))}case 1:return w;case 2:return p;case 3:return dt(n,h,g);case 4:return dt(n,y,m)}}(xt(e),Dt(e),Dt(n)))}function Vt(e){return 0===Dt(e).tag}function Bt(e,n){return _t(n,e)}function Ht(e,n){return r=e,Ft(xt(t=n),dt(xt(t),r,Dt(t)));var t,r}function qt(e,n){return Ft(n,new at(2,"SetOne",e))}function Wt(e,n){return r=e,Ft(xt(t=n),ht(xt(t),r,Dt(t)));var t,r}function Lt(e,n){return Rn(jt,Ft(n,new at(0,"SetEmpty")),e)}function zt(e){return Ft(e,new at(0,"SetEmpty"))}function Jt(e,n){return vt(e,Dt(n))}function Ut(e,n){return r=e,0===Dt(t=n).tag?t:Ft(xt(t),Et(xt(t),r,Dt(t)));var t,r}function Yt(e,n,t){return r=n,i=e,Ft(a=t,yt((function(e,n){return dt(a,i(n),e)}),new at(0,"SetEmpty"),Dt(r)));var r,i,a}function Kt(e){return ut(Dt(e))}function $t(e,n){return Ft(n,It(n,e))}function Zt(e,n){return r=n,St(xt(t=e),Dt(t),Dt(r));var t,r}Nt.prototype.toString=function(){return"set ["+$n("; ",Mn((function(e){return String(e)}),this))+"]"},Nt.prototype.GetHashCode=function(){let e=0;const n=Pt(Dt(this));for(;n.MoveNext();){e=((0|e)<<1)+(0|l(n.Current))+631}return 0|Math.abs(e)},Nt.prototype.Equals=function(e){return 0===Mt(xt(this),Dt(this),Dt(e))},Nt.prototype.CompareTo=function(e){return 0|Mt(xt(this),Dt(this),Dt(e))},Nt.prototype[Symbol.iterator]=function(){return Sn(Pt(Dt(this)))};const Xt=x((function(e,n){const t=new W(null);this.comparer=n,t.contents=this,this["entries@23"]=new Map([]),this["init@20-1"]=1,On((function(e){rr(t.contents,e[0],e[1])}),e)}));function Qt(e,n){const t=0|e.comparer.GetHashCode(n),r=i(e["entries@23"],t,null);return r[0]?[!0,t,r[1].findIndex((function(t){return e.comparer.Equals(n,t[0])}))]:[!1,t,-1]}function er(e,n){const t=Qt(e,n);switch(t[0]&&t[2]>-1?0:1){case 0:return N(e["entries@23"],t[1])[t[2]];case 1:return null}}function nr(e){e["entries@23"].clear()}function tr(e){return 0|Fn((function(e){return e.length}),e["entries@23"].values(),{GetZero:()=>0,Add:(e,n)=>e+n})}function rr(e,n,t){const r=Qt(e,n);switch(r[0]&&r[2]>-1?0:1){case 0:{let e;throw e=Un(Jn("An item with the same key has already been added. Key: %A"))(n),new Error(e)}case 1:if(r[0]){N(e["entries@23"],r[1]).push([n,t])}else e["entries@23"].set(r[1],[[n,t]])}}function ir(e,n){const t=Qt(e,n);switch(t[0]&&t[2]>-1?0:1){case 0:return N(e["entries@23"],t[1]).splice(t[2],1),!0;case 1:return!1}}Xt.prototype[Symbol.iterator]=function(){const e=this;return Sn(vn(kn((function(){return An((function(e){return Mn((function(e){return e}),e)}),e["entries@23"].values())}))))},Xt.prototype.Add=function(e){rr(this,e[0],e[1])},Xt.prototype.Clear=function(){nr(this)},Xt.prototype.Contains=function(e){const n=er(this,e[0]);switch(null!=n&&p(n[1],e[1])?0:1){case 0:return!0;case 1:return!1}},Xt.prototype.CopyTo=function(e,n){Pn((function(t,r){e[n+t]=r}),this)},Object.defineProperty(Xt.prototype,"Count",{get:function(){return 0|tr(this)}}),Object.defineProperty(Xt.prototype,"IsReadOnly",{get:function(){return!1}}),Xt.prototype.Remove=function(e){const n=this,t=er(n,e[0]);if(null!=t){if(p(t[1],e[1])){ir(n,e[0])}return!0}return!1},Object.defineProperty(Xt.prototype,"size",{get:function(){return 0|tr(this)}}),Xt.prototype.clear=function(){nr(this)},Xt.prototype.delete=function(e){return ir(this,e)},Xt.prototype.entries=function(){return Mn((function(e){return e}),this)},Xt.prototype.get=function(e){return function(e,n){const t=er(e,n);if(null!=t){return t[1]}throw new Error("The item was not found in collection")}(this,e)},Xt.prototype.has=function(e){return function(e,n){const t=Qt(e,n);switch(t[0]&&t[2]>-1?0:1){case 0:return!0;case 1:return!1}}(this,e)},Xt.prototype.keys=function(){return Mn((function(e){return e[0]}),this)},Xt.prototype.set=function(e,n){return function(e,n,t){const r=Qt(e,n);switch(r[0]&&r[2]>-1?0:1){case 0:N(e["entries@23"],r[1])[r[2]]=[n,t];break;case 1:if(r[0]){N(e["entries@23"],r[1]).push([n,t])}else e["entries@23"].set(r[1],[[n,t]])}}(this,e,n),this},Xt.prototype.values=function(){return Mn((function(e){return e[1]}),this)};const ar=x((function(e,n,...t){j.call(this,e,n,...t)}),j);function ur(e){return function e(n,t){e:for(;;){const r=n,i=t;switch(i.tag){case 1:return r+1|0;case 2:n=e(r+1,i.fields[2]),t=i.fields[3];continue e;default:return 0|r}break}}(0,e)}function sr(){return new ar(0,"MapEmpty")}function or(e){switch(e.tag){case 1:return 1;case 2:return 0|e.fields[4];default:return 0}}function cr(e,n,t,r){switch(0===e.tag&&0===r.tag?0:1){case 0:return new ar(1,"MapOne",n,t);case 1:{const i=0|or(e),a=0|or(r);return new ar(2,"MapNode",n,t,e,r,(0|(i<a?a:i))+1)}}}function lr(e,n,t,r){const i=0|or(e),a=0|or(r);if(a>i+2){if(2===r.tag){if(or(r.fields[2])>i+1){if(2===r.fields[2].tag)return cr(cr(e,n,t,r.fields[2].fields[2]),r.fields[2].fields[0],r.fields[2].fields[1],cr(r.fields[2].fields[3],r.fields[0],r.fields[1],r.fields[3]));throw new Error("rebalance")}return cr(cr(e,n,t,r.fields[2]),r.fields[0],r.fields[1],r.fields[3])}throw new Error("rebalance")}if(i>a+2){if(2===e.tag){if(or(e.fields[3])>a+1){if(2===e.fields[3].tag)return cr(cr(e.fields[2],e.fields[0],e.fields[1],e.fields[3].fields[2]),e.fields[3].fields[0],e.fields[3].fields[1],cr(e.fields[3].fields[3],n,t,r));throw new Error("re  balance")}return cr(e.fields[2],e.fields[0],e.fields[1],cr(e.fields[3],n,t,r))}throw new Error("rebalance")}return cr(e,n,t,r)}function fr(e,n,t,r){switch(r.tag){case 1:{const i=0|e.Compare(n,r.fields[0]);return i<0?new ar(2,"MapNode",n,t,new ar(0,"MapEmpty"),r,2):0===i?new ar(1,"MapOne",n,t):new ar(2,"MapNode",n,t,r,new ar(0,"MapEmpty"),2)}case 2:{const i=0|e.Compare(n,r.fields[0]);return i<0?lr(fr(e,n,t,r.fields[2]),r.fields[0],r.fields[1],r.fields[3]):0===i?new ar(2,"MapNode",n,t,r.fields[2],r.fields[3],r.fields[4]):lr(r.fields[2],r.fields[0],r.fields[1],fr(e,n,t,r.fields[3]))}default:return new ar(1,"MapOne",n,t)}}function dr(e,n,t){e:for(;;){const r=e,i=n,a=t;switch(a.tag){case 1:if(0===(0|r.Compare(i,a.fields[0])))return a.fields[1];throw new Error("key not found");case 2:{const u=0|r.Compare(i,a.fields[0]);if(u<0){e=r,n=i,t=a.fields[2];continue e}if(0===u)return a.fields[1];e=r,n=i,t=a.fields[3];continue e}default:throw new Error("key not found")}break}}function wr(e,n,t,r,i){return n(t,r)?fr(e,t,r,i):i}function pr(e,n,t){return function e(n,t,r,i){e:for(;;){const a=n,u=t,s=r,o=i;switch(s.tag){case 1:return wr(a,u,s.fields[0],s.fields[1],o);case 2:{const c=e(a,u,s.fields[2],o),l=wr(a,u,s.fields[0],s.fields[1],c);n=a,t=u,r=s.fields[3],i=l;continue e}default:return o}break}}(e,n,t,sr())}function hr(e,n,t){e:for(;;){const r=e,i=n,a=t;switch(a.tag){case 1:return 0===r.Compare(i,a.fields[0]);case 2:{const u=0|r.Compare(i,a.fields[0]);if(u<0){e=r,n=i,t=a.fields[2];continue e}if(0===u)return!0;e=r,n=i,t=a.fields[3];continue e}default:return!1}break}}function gr(e,n){e:for(;;){const t=e,r=n;switch(r.tag){case 1:return t(r.fields[0],r.fields[1]);case 2:{const i=gr(t,r.fields[2]);if(null==i){const i=t(r.fields[0],r.fields[1]);if(null==i){e=t,n=r.fields[3];continue e}return i}return i}default:return null}break}}function yr(e){return function e(n,t){e:for(;;){const r=n,i=t;switch(r.tag){case 1:return new G([r.fields[0],r.fields[1]],i);case 2:n=r.fields[2],t=new G([r.fields[0],r.fields[1]],e(r.fields[3],i));continue e;default:return i}break}}(e,new G)}function mr(e,n){const t=vn(n);try{return function(e,n,t){for(;;){const r=e,i=n,a=t;if(!a.MoveNext())return i;{const u=a.Current;e=r,n=fr(r,u[0],u[1],i),t=a}}}(e,sr(),t)}finally{r(t)&&t.Dispose()}}const vr=x((function(e,n){this.stack=e,this.started=n}),q);function Sr(e){for(;;){const n=e;if(null==n.tail)return new G;if(1===n.head.tag)return n;2!==n.head.tag?e=n.tail:e=new G(n.head.fields[2],new G(new ar(1,"MapOne",n.head.fields[0],n.head.fields[1]),new G(n.head.fields[3],n.tail)))}}function Er(e){return new vr(Sr(new G(e,new G)),!1)}function br(e){if(e.started){const n=e.stack;if(null==n.tail)return function(){throw new Error("enumeration already finished")}();if(1===n.head.tag)return[n.head.fields[0],n.head.fields[1]];throw new Error("Please report error: Map iterator, unexpected stack for current")}return function(){throw new Error("enumeration not started")}()}const Cr=x((function(e){this.s=e,this.i=Er(this.s)}));function Ar(e){return function(e){return this instanceof Cr?Cr.call(this,e):new Cr(e)}(e)}function kr(e){return _n((function(e){return e.MoveNext()?[e.Current,e]:null}),Ar(e))}Object.defineProperty(Cr.prototype,"Current",{get:function(){return br(this.i)}}),Cr.prototype.MoveNext=function(){return function(e){if(e.started){const n=e.stack;if(null==n.tail)return!1;if(1===n.head.tag)return e.stack=Sr(n.tail),!(null==e.stack.tail);throw new Error("Please report error: Map iterator, unexpected stack for moveNext")}return e.started=!0,!(null==e.stack.tail)}(this.i)},Cr.prototype.Reset=function(){this.i=Er(this.s)},Cr.prototype.Dispose=function(){};const Rr=x((function(e,n){this.comparer=e,this.tree=n}));function Or(e,n){return this instanceof Rr?Rr.call(this,e,n):new Rr(e,n)}function Pr(e){return e.tree}function Mr(e,n){return dr(e.comparer,n,e.tree)}function Tr(e,n){return function e(n,t){e:for(;;){const r=n,i=t;switch(i.tag){case 1:return r(i.fields[0],i.fields[1]);case 2:if(e(r,i.fields[2])||r(i.fields[0],i.fields[1]))return!0;n=r,t=i.fields[3];continue e;default:return!1}break}}(n,e.tree)}function Ir(e,n){return Or(e.comparer,function e(n,t){switch(t.tag){case 1:return new ar(1,"MapOne",t.fields[0],n(t.fields[0],t.fields[1]));case 2:{const r=e(n,t.fields[2]),i=n(t.fields[0],t.fields[1]),a=e(n,t.fields[3]);return new ar(2,"MapNode",t.fields[0],i,r,a,t.fields[4])}default:return sr()}}(n,e.tree))}function Nr(e){return ur(e.tree)}function Fr(e,n){return hr(e.comparer,n,e.tree)}function xr(e,n,t){return i=e,a=n,Or((r=t).comparer,fr(r.comparer,i,a,r.tree));var r,i,a}function Dr(e,n){return r=e,Or((t=n).comparer,pr(t.comparer,r,t.tree));var t,r}function _r(e,n){return Ir(n,e)}function Gr(e,n){return Or(n,mr(n,e))}function jr(e){return yr(e.tree)}function Vr(){throw new Error("An index satisfying the predicate was not found in the collection.")}function Br(e,n){return n.from(e)}function Hr(e){if(null!=e.tail)return e.head;throw new Error("List was empty")}function qr(e,n,t){return function(e,n,t,r){for(;;){const i=e,a=n,u=t,s=r;if(null==s.tail)return u;e=i,n=a+1,t=i(a,u,s.head),r=s.tail}}(e,0,n,t)}function Wr(e,n,t){for(;;){const r=e,i=n,a=t;if(null==a.tail)return i;e=r,n=r(i,a.head),t=a.tail}}function Lr(e){return Wr((function(e,n){return new G(n,e)}),new G,e)}function zr(e,n,t){return Wr((function(n,t){return e(t,n)}),t,Lr(n))}function Jr(e){return Lr(Rn((function(e,n){return new G(n,e)}),new G,e))}function Ur(e){return Wr((function(e,n){return e+1}),0,e)}function Yr(e,n){return Wr((function(e,n){return new G(n,e)}),n,Lr(e))}function Kr(e,n){return Lr(Wr((function(n,t){return new G(e(t),n)}),new G,n))}function $r(e){return n=function(e,n){return[e,n]},t=e,Lr(qr((function(e,t,r){return new G(n(e,r),t)}),new G,t));var n,t}function Zr(e,n){Wr((function(n,t){e(t)}),null,n)}function Xr(e){let n=new G;for(let t=function(e){if(f(e))return e.length;{let n=0;for(const t of e)n++;return n}}(e)-1;t>=0;t--)n=new G(e[t],n);return n}function Qr(e,n){return function(e,n,t){e:for(;;){const r=e,i=n,a=t;if(null!=a.tail){const u=r(i,a.head);if(null==u){e=r,n=i+1,t=a.tail;continue e}return u}return null}}(e,0,n)}function ei(e,n){return Qr((function(n,t){return e(n,t)?ee(t):null}),n)}function ni(e,n){const t=Br(n,Array);return 0|(r=e,0|function(e){for(;;){const n=e;if(n<0)return 0|Vr();if(r(i[n]))return 0|n;e=n-1}}((i=t).length-1));var r,i}function ti(e,n){return Lr(Wr((function(n,t){return e(t)?new G(t,n):n}),new G,n))}function ri(e,n){return Lr(Wr((function(n,t){const r=e(t);if(null==r)return n;return new G(ne(r),n)}),new G,n))}function ii(e,n){if(e<0)throw new Error("The input must be non-negative.");var t,r,i;switch(0===e?t=0:1===e&&null!=n.tail?t=1:(t=2,r=e,i=n),t){case 0:return n;case 1:return n.tail;case 2:return function(e,n){for(;;){const t=e,r=n;if(0===t)return r;if(null==r.tail)throw new Error("The input sequence has an insufficient number of elements.");e=t-1,n=r.tail}}(r,i)}}function ai(e,n,t,r){for(;;){const i=e,a=n,u=t,s=r;if(0===a)return[Lr(u),s];if(null==s.tail){if(i)throw new Error("The input sequence has an insufficient number of elements.");return[Lr(u),s]}e=i,n=a-1,t=new G(s.head,u),r=s.tail}}function ui(e,n){return null!=n.tail?null==n.tail.tail?e(n.head)?n:n.tail:e(n.head)?new G(n.head,ui(e,n.tail)):new G:n}Rr.prototype.toString=function(){return"map ["+$n("; ",Mn((function(e){return Un(Jn("(%A, %A)"))(e[0])(e[1])}),this))+"]"},Rr.prototype.GetHashCode=function(){const e=function(e,n){return(e<<1)+n+631};let n=0;const t=Ar(Pr(this));for(;t.MoveNext();){const r=t.Current;n=e(n,l(r[0])),n=e(n,l(r[1]))}return 0|Math.abs(n)},Rr.prototype.Equals=function(e){return 0===this.CompareTo(e)},Rr.prototype[Symbol.iterator]=function(){return Sn(Ar(this.tree))},Rr.prototype.CompareTo=function(e){const n=this;let t=0,i=!1;const a=Ar(Pr(n));try{const u=Ar(Pr(e));try{for(;!i&&0===t;){const e=[a.MoveNext(),u.MoveNext()];if(e[0])if(e[1]){const e=a.Current,r=u.Current,i=0|n.comparer.Compare(e[0],r[0]);t=0!==i?i:v(e[1],r[1])}else t=1;else e[1]?t=-1:i=!0}return 0|t}finally{r(u)&&u.Dispose()}}finally{r(a)&&a.Dispose()}},Object.defineProperty(Rr.prototype,"size",{get:function(){return 0|Nr(this)}}),Rr.prototype.clear=function(){throw new Error("Map cannot be mutated")},Rr.prototype.delete=function(e){throw new Error("Map cannot be mutated")},Rr.prototype.entries=function(){return kr(Pr(this))},Rr.prototype.get=function(e){return Mr(this,e)},Rr.prototype.has=function(e){return Fr(this,e)},Rr.prototype.keys=function(){return Mn((function(e){return e[0]}),kr(Pr(this)))},Rr.prototype.set=function(e,n){throw new Error("Map cannot be mutated")},Rr.prototype.values=function(){return Mn((function(e){return e[1]}),kr(Pr(this)))};var si=x((function(e,n){for(var t=arguments.length,r=new Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];j.call.apply(j,[this,e,n].concat(r))}),j);function oi(e,n,t){var r,i=0|Kt(t);if(i===e){var a=n(t);return new ie(0,"Ok",a)}return r=Un(Jn("%A should have size %i, but has size %i"))(t)(e)(i),new ie(1,"Error",r)}function ci(e,n,t){var r,i=oi(e,n,t);return 1===(r=i).tag?Yn(Jn("An Error (not Ok) was returned: %s"))(r.fields[0]):r.fields[0]}function li(e){return 1===e.tag?Yn(Jn("%A"))(e.fields[0]):e.fields[0]}var fi=x((function(){}));function di(e,n,t){return ue(t,n)}function wi(e,n){return n}!function(){this instanceof fi?fi.call(this):new fi}();var pi=x((function(e,n){for(var t=arguments.length,r=new Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];j.call.apply(j,[this,e,n].concat(r))}),j);var hi=x((function(e,n){for(var t=arguments.length,r=new Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];j.call.apply(j,[this,e,n].concat(r))}),j);var gi=$t([new hi(0,"Algiers"),new hi(1,"Atlanta"),new hi(2,"Baghdad"),new hi(3,"Bangkok"),new hi(4,"Beijing"),new hi(5,"Bogota"),new hi(6,"BuenosAires"),new hi(7,"Cairo"),new hi(8,"Chennai"),new hi(9,"Chicago"),new hi(10,"Delhi"),new hi(11,"Essen"),new hi(12,"HoChiMinhCity"),new hi(13,"HongKong"),new hi(14,"Istanbul"),new hi(15,"Jakarta"),new hi(16,"Johannesburg"),new hi(17,"Karachi"),new hi(18,"Khartoum"),new hi(19,"Kinshasa"),new hi(20,"Kolkata"),new hi(21,"Lagos"),new hi(22,"Lima"),new hi(23,"London"),new hi(24,"LosAngeles"),new hi(25,"Madrid"),new hi(26,"Manila"),new hi(27,"MexicoCity"),new hi(28,"Miami"),new hi(29,"Milan"),new hi(30,"Montreal"),new hi(31,"Moscow"),new hi(32,"Mumbai"),new hi(33,"NewYork"),new hi(34,"Osaka"),new hi(35,"Paris"),new hi(36,"Riyadh"),new hi(37,"SanFrancisco"),new hi(38,"Santiago"),new hi(39,"SaoPaulo"),new hi(40,"Seoul"),new hi(41,"Shanghai"),new hi(42,"StPetersburg"),new hi(43,"Sydney"),new hi(44,"Taipei"),new hi(45,"Tehran"),new hi(46,"Tokyo"),new hi(47,"Washington")],{Compare:function(e,n){return e.CompareTo(n)}}),yi=x((function(e,n){for(var t=arguments.length,r=new Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];j.call.apply(j,[this,e,n].concat(r))}),j);function mi(e){return n="DeckSize",t=function(e){return new yi(0,"DeckSize",e)},i=48,(a=e)<(r=0)?(u=Un(Jn("%s: Must not be less than %i"))(n)(r),new ie(1,"Error",u)):a>i?(s=Un(Jn("%s: Must not be greater than %i"))(n)(i),new ie(1,"Error",s)):new ie(0,"Ok",t(a));var n,t,r,i,a,u,s}var vi=x((function(e,n){for(var t=arguments.length,r=new Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];j.call.apply(j,[this,e,n].concat(r))}),j);function Si(e){var n,t;if(function(e,n){for(;;){const t=e,r=n;if(null==r.tail)return!1;if(t(r.head))return!0;e=t,n=r.tail}}(Vt,e))return n=Kr((function(e){return e[0]}),ti((function(e){return Vt(e[1])}),$r(e))),t=Un(Jn("%A contains empty sets at indexes %A"))(e)(n),new ie(1,"Error",t);var r,i,a=0|Kt(r=Ut((function(n){return Ur(ti((function(e){return Bt(n,e)}),e))>=2}),Lt(e,{Compare:function(e,n){return e.CompareTo(n)}})));if(0===a){var u=new vi(0,"Deck",e);return new ie(0,"Ok",u)}return i=Un(Jn("%A contains %d duplicates: %A"))(e)(a)(r),new ie(1,"Error",i)}function Ei(e){return e.fields[0]}function bi(e){return Lt(e.fields[0],{Compare:function(e,n){return e.CompareTo(n)}})}function Ci(e){return null==Ei(e).tail}function Ai(e){return function(e){var n=mi(e);if(1===n.tag)throw new Error(n.fields[0]);return n.fields[0]}(0|Kt(bi(e)))}function ki(e,n){return Si(ti((function(e){return!Vt(e)}),Kr((function(n){return Gt(n,e)}),Ei(n))))}function Ri(e){var n,t,r;return ii(1,(n=function(e,n){return[n,e[1]+Kt(n)]},t=[zt({Compare:function(e,n){return e.CompareTo(n)}}),0],r=e.fields[0],Jr(Tn(n,t,r))))}function Oi(e,n){return Lt(Kr((function(e){return e[0]}),ui((function(n){return n[1]<=e.fields[0]}),Ri(n))),{Compare:function(e,n){return e.CompareTo(n)}})}function Pi(e,n){var t,r,i,a;if(e.fields[0]>Ai(n).fields[0])t=null;else if(0===e.fields[0])t=new G;else{var u,s=Ri(n);i=function(n){return n[1]<e.fields[0]},a=s;var o=[Kr((function(e){return e[0]}),(u=Wr((function(e,n){return i(n)?[new G(n,e[0]),e[1]]:[e[0],new G(n,e[1])]}),[new G,new G],Lr(a)))[0]),Kr((function(e){return e[0]}),u[1])],c=(r=0,ei((function(e,n){return r===e}),o[1]));if(null==c)t=o[0];else t=Yr(o[0],new G(c,new G))}return null==t?bi(n):Lt(t,{Compare:function(e,n){return e.CompareTo(n)}})}function Mi(e){return function(e){for(;;){const n=e;if(null==n.tail)return null;if(null==n.tail.tail)return ee(n.head);e=n.tail}}(Ei(e))}function Ti(e,n){return Si(new G(e,n.fields[0]))}function Ii(e,n){var t,r,i=Ft(t={Compare:function(e,n){return e.CompareTo(n)}},It(t,e)),a=function(e){return Bt(e,i)},u=Ei(n),s=0|ni((function(e){return Jt(a,e)}),u);return!Jt((function(e){return!a(e)}),Lt(Kr((function(e){return e[1]}),ui((function(e){return e[0]<s}),$r(u))),{Compare:function(e,n){return e.CompareTo(n)}}))?zr((function(e,n){var t;return ue((t=qt(e,{Compare:function(e,n){return e.CompareTo(n)}}),function(e){return Ti(t,e)}),n)}),e,ki(i,n)):(r=Un(Jn("%A can't be at the top of %A"))(i)(n),new ie(1,"Error",r))}var Ni=x((function(e,n){for(var t=arguments.length,r=new Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];j.call.apply(j,[this,e,n].concat(r))}),j);var Fi=new Ni(0,"DiscardPile",zt({Compare:function(e,n){return e.CompareTo(n)}}));function xi(e){return e.fields[0]}function Di(e,n){var t;if(Bt(e,n.fields[0]))return t=Un(Jn("Tried to add %A to DiscardPile %A, but it is already present"))(e)(n.fields[0]),new ie(1,"Error",t);var r,i=Ht(e,n.fields[0]);return r=new Ni(0,"DiscardPile",i),new ie(0,"Ok",r)}function _i(e,n){return t=function(e,n){return ue((function(e){return Di(n,e)}),e)},r=new ie(0,"Ok",n),yt(t,r,Dt(e));var t,r}var Gi=x((function(e,n){for(var t=arguments.length,r=new Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];j.call.apply(j,[this,e,n].concat(r))}),j);var ji=new Gi(0,"Empty");function Vi(e){switch(e.tag){case 1:return!0;case 2:return!1;default:return!0}}function Bi(e,n){var t;switch(t=Un(Jn("Cannot add %A to removed cards; "))(e),n.tag){case 1:if(p(e,n.fields[0]))return new ie(1,"Error",t+"it is already present.");var r=new Gi(2,"TwoCards",$t([e,n.fields[0]],{Compare:function(e,n){return e.CompareTo(n)}}));return new ie(0,"Ok",r);case 2:var i,a;i=Hr(Jr(n.fields[0])),a=Hr(function(e){if(null!=e.tail)return e.tail;throw new Error("List was empty")}(Jr(n.fields[0])));var u=t+Un(Jn("no more than two cards can be removed, and the following\r\n                cards already have been: %A and %A"))(i)(a);return new ie(1,"Error",u);default:var s=new Gi(1,"OneCard",e);return new ie(0,"Ok",s)}}function Hi(e){switch(e.tag){case 1:return qt(e.fields[0],{Compare:function(e,n){return e.CompareTo(n)}});case 2:return e.fields[0];default:return zt({Compare:function(e,n){return e.CompareTo(n)}})}}var qi=x((function(e,n){for(var t=arguments.length,r=new Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];j.call.apply(j,[this,e,n].concat(r))}),j);var Wi=x((function(e,n){for(var t=arguments.length,r=new Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];j.call.apply(j,[this,e,n].concat(r))}),j);function Li(e){switch(e.tag){case 1:case 2:return new qi(0,"Two");case 3:case 4:return new qi(1,"Three");case 5:case 6:return new qi(2,"Four");default:return new qi(0,"Two")}}var zi;zi=new Wi(6,"SeventhPosition");var Ji=x((function(e,n,t,r){this.Deck=e,this.DiscardPile=n,this.RemovedCards=t,this.TrackPosition=r}),q);var Ui=x((function(e,n){for(var t=arguments.length,r=new Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];j.call.apply(j,[this,e,n].concat(r))}),j);function Yi(e,n,t,r){var i=function(r){var i=function(e){return Bt(r,e)?1:0},a=bi(e),u=xi(n),s=Hi(t);return i(a)+i(u)+i(s)|0},a=Ut((function(e){return 0===i(e)}),gi),u=Ut((function(e){return i(e)>1}),gi),s=[Vt(a),Vt(u)];switch(s[0]?s[1]?2:1:0){case 0:var o;return o=Un(Jn("%A not in any of the deck, discard pile, removed cards"))(a),new ie(1,"Error",o);case 1:var c;return c=Un(Jn("%A in multiple of the deck, discard pile, removed cards"))(u),new ie(1,"Error",c);case 2:var l,f=new Ji(e,n,t,r);return l=new Ui(0,"GameState",f),new ie(0,"Ok",l)}}function Ki(e){return e.fields[0].Deck}function $i(e){return e.fields[0].DiscardPile}function Zi(e){return e.fields[0].RemovedCards}function Xi(e){return e.fields[0].TrackPosition}function Qi(e,n,t){return Yi(n,t,e.fields[0].RemovedCards,e.fields[0].TrackPosition)}function ea(e){return 0|function(e){switch(e.tag){case 1:return 3;case 2:return 4;default:return 2}}(Li(Xi(e)))}function na(e,n){var t,r=0|Kt(n),i=0|ea(e);return r===i?null:(t=Un(Jn("Tried to infect %i cities when infection rate is %i"))(r)(i),new pi(0,"ValidationError",t))}function ta(e,n,t){var r=e(n,t);if(null==r)return di(0,function(e,n){var t=0|Kt(n),r=Oi(new yi(0,"DeckSize",t),e),i=Zt(r,n),a=Pi(new yi(0,"DeckSize",t),e),u=Zt(n,a);switch(i?u?2:1:0){case 0:var s;return s=Un(Jn("When drawing %i cards, the following must be drawn: %A"))(t)(r),new ie(1,"Error",s);case 1:var o;return o=Un(Jn("When drawing %i cards, the cards that can be drawn are: %A"))(t)(a),new ie(1,"Error",o);case 2:return ki(n,e)}}(Ki(n),t),(function(e){var r;return di(0,(r=$i(n),_i(t,r)),(function(t){return wi(0,Qi(n,e,t))}))}));var i=r.fields[0];return new ie(1,"Error",i)}function ra(e,n,t,r,i,a,u){var s=Ki(u);return ue((function(e){return Yi(e,(n=u).fields[0].DiscardPile,n.fields[0].RemovedCards,n.fields[0].TrackPosition);var n}),Ii(Xr([e,n,t,r,i,a]),s))}function ia(e,n){var t,r,i,a,u,s,o,c,l;switch(t=function(e,n){var t,r=Wt(e,n.fields[0]);if(r.Equals(n.fields[0]))return t=Un(Jn("%A is not present in DiscardPile %A, so cannot remove it."))(e)(n.fields[0]),new ie(1,"Error",t);var i=new Ni(0,"DiscardPile",r);return new ie(0,"Ok",i)}(e,$i(n)),r=Bi(e,Zi(n)),1===t.tag?(r.tag,i=1,s=t.fields[0]):1===r.tag?(i=1,s=r.fields[0]):(i=0,a=t.fields[0],u=r.fields[0]),i){case 0:return c=a,l=u,Yi((o=n).fields[0].Deck,c,l,o.fields[0].TrackPosition);case 1:return new ie(1,"Error",s)}}function aa(e,n){var t=function(e){return ae((function(n){return r=n,new Ui(0,"GameState",new Ji((t=e).fields[0].Deck,t.fields[0].DiscardPile,t.fields[0].RemovedCards,r));var t,r}),function(e){switch(e.tag){case 1:return new ie(0,"Ok",new Wi(2,"ThirdPosition"));case 2:return new ie(0,"Ok",new Wi(3,"FourthPosition"));case 3:return new ie(0,"Ok",new Wi(4,"FifthPosition"));case 4:return new ie(0,"Ok",new Wi(5,"SixthPosition"));case 5:return new ie(0,"Ok",new Wi(6,"SeventhPosition"));case 6:return new ie(1,"Error","Cannot advance from seventh position of infection rate track");default:return new ie(0,"Ok",new Wi(1,"SecondPosition"))}}(Xi(e)))},r=function(e){var t;return di(0,(t=Ki(e),function(e,n){var t=Mi(n);switch(null!=t&&Bt(e,t)?0:1){case 0:return ki(qt(e,{Compare:function(e,n){return e.CompareTo(n)}}),n);case 1:return null==t?new ie(1,"Error","Deck is empty."):(r=Un(Jn("%A cannot be at the bottom of %A."))(e)(n),new ie(1,"Error",r));var r}}(n,t)),(function(t){var r;return di(0,(r=$i(e),Di(n,r)),(function(n){return wi(0,Qi(e,t,n))}))}))},i=function(e){var n,t=$i(e);if(Vt(t.fields[0]))n=new ie(0,"Ok",e);else{var r=Ki(e);n=ue((function(n){return Qi(e,n,Fi)}),Ti(t.fields[0],r))}return li(n)},a=function(e,n,t){return ae(n,e(t))},u=function(e,n,t){return ue(n,e(t))};if(null==e)return I(1,a,[I(1,u,[t,r]),i]);var s=e;return I(1,a,[I(1,u,[I(1,u,[t,r]),s]),i])}var ua=function(e){return aa(null,e)};function sa(e,n){return aa((function(e){return ia(n,e)}),e)}var oa=x((function(e,n){this.SelectedCards=e,this.ErrorMessageOpt=n}),q);var ca=x((function(e,n){this.GameState=e,this.ErrorMessageOpt=n}),q);function la(e){return new ca(e,null)}var fa=x((function(e,n,t){this.CardsToSelected=e,this.GameState=n,this.ErrorMessageOpt=t}),q);var da=x((function(e,n,t){this.GameState=e,this.InfectedOpt=n,this.ErrorMessageOpt=t}),q);var wa=x((function(e,n,t,r){this.GameState=e,this.Infected=n,this.IsPlayingResilientPopulationOpt=t,this.ErrorMessageOpt=r}),q);var pa=x((function(e,n,t,r){this.GameState=e,this.Infected=n,this.ResilientOpt=t,this.ErrorMessageOpt=r}),q);var ha=x((function(e,n){for(var t=arguments.length,r=new Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];j.call.apply(j,[this,e,n].concat(r))}),j);function ga(e){var n;return n=new da(e,null,null),new ha(0,"SelectingInfectedData",n)}var ya=x((function(e,n){this.Infected=e,this.ResilientOpt=n}),q);var ma=x((function(e,n){for(var t=arguments.length,r=new Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];j.call.apply(j,[this,e,n].concat(r))}),j);var va=x((function(e,n,t){this.GameState=e,this.EventCardOpt=n,this.ErrorMessageOpt=t}),q);var Sa=x((function(e,n,t){this.GameState=e,this.ResilientOpt=n,this.ErrorMessageOpt=t}),q);var Ea=x((function(e,n,t){this.GameState=e,this.CardsToText=n,this.ErrorMessageOpt=t}),q);function ba(e){var n,t;return n=Gr(Yt((function(e){return[e,""]}),(t=Ki(e),Pi(new yi(0,"DeckSize",6),t)),{Compare:m}),{Compare:function(e,n){return e.CompareTo(n)}}),new Ea(e,n,null)}var Ca=x((function(e,n,t,r,i,a){this.Top=e,this.SecondFromTop=n,this.ThirdFromTop=t,this.FourthFromTop=r,this.FifthFromTop=i,this.SixthFromTop=a}),q);var Aa=x((function(e,n){for(var t=arguments.length,r=new Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];j.call.apply(j,[this,e,n].concat(r))}),j);var ka=x((function(e,n){for(var t=arguments.length,r=new Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];j.call.apply(j,[this,e,n].concat(r))}),j);function Ra(e){switch(e.tag){case 1:return!1;case 3:return!0;case 2:return!1;case 4:return!0;case 5:return!1;case 6:return!0;case 7:return!1;case 8:return!0;case 9:case 10:return!1;case 11:return!0;case 12:case 13:return!1;case 14:return!0;case 15:return!1;case 16:case 17:return!0;case 18:case 19:return!1;case 20:return!0;case 21:return!1;case 22:case 23:return!0;case 24:case 25:return!1;case 26:return!0;case 27:return!1;case 28:default:return!0}}var Oa=x((function(e,n){this.Events=e,this.State=n}),q);function Pa(){return new oa(zt({Compare:function(e,n){return e.CompareTo(n)}}),null)}function Ma(e){return la(function(e){var n=e.fields[0];return li(di(0,Si(new G(Gt(gi,n),new G)),(function(e){return wi(0,Yi(e,new Ni(0,"DiscardPile",n),ji,new Wi(0,"FirstPosition")))})))}(ci(9,(function(e){return new si(0,"NineDistinct",e)}),e.SelectedCards)))}function Ta(e){var n,t,r,i,a,u;return n=Gr(Yt((function(n){var t,r,i,a;return[n,(r=e.GameState,i=Ki(r),a=0|ea(r),t=Oi(new yi(0,"DeckSize",a),i),Bt(n,t))]}),(t=e.GameState,r=Ki(t),i=0|ea(t),Pi(new yi(0,"DeckSize",i),r)),{Compare:m}),{Compare:function(e,n){return e.CompareTo(n)}}),a=n,u=e.GameState,new fa(a,u,null)}function Ia(e){return new va(e,null,null)}function Na(e,n){var t,r,i=(r=n.GameState,function(e){return ta(na,r,e)})(e);1===i.tag?t=Yn(Jn("Bug in processFinishInfecting validation. Tried to\r\n                    apply InfectingFinished, but get an error: %s"))(i.fields[0]):t=i.fields[0];return la(t)}function Fa(e,n){switch(n.tag){case 1:return new ha(1,"SelectingIsPlayingResilientPopulationData",n.fields[0]);case 2:return new ha(2,"SelectingResilientData",n.fields[0]);default:var t;return r=n.fields[0].GameState,t=new wa(r,e,null,null),new ha(1,"SelectingIsPlayingResilientPopulationData",t)}var r}function xa(e,n){switch(n.tag){case 1:var t;return r=n.fields[0].GameState,t=new pa(r,e,null,null),new ha(2,"SelectingResilientData",t);case 2:return new ha(2,"SelectingResilientData",n.fields[0]);default:return new ha(0,"SelectingInfectedData",n.fields[0])}var r}function Da(e){return n=e.GameState,new Sa(n,null,null);var n}function _a(e){switch(e.tag){case 1:return new Aa(1,"Starting",e.fields[0]);case 2:return new Aa(2,"Viewing",e.fields[0]);case 3:return new Aa(3,"Infecting",e.fields[0]);case 4:return new Aa(4,"ResolvingEpidemic",e.fields[0]);case 5:return new Aa(5,"ApplyingEventCard",e.fields[0]);case 6:return new Aa(6,"ApplyingResilientPopulation",e.fields[0]);case 7:return new Aa(7,"ApplyingForecast",e.fields[0]);default:var n=Pa();return new Aa(1,"Starting",n)}}function Ga(e,n){switch(n.tag){case 1:var t=(s=e,o=n.fields[0],c=Bt(s,o.SelectedCards)?Wt(s,o.SelectedCards):Ht(s,o.SelectedCards),new oa(c,o.ErrorMessageOpt));return new Aa(1,"Starting",t);case 2:return new Aa(2,"Viewing",n.fields[0]);case 3:var r=(i=e,a=n.fields[0],u=_r((function(e,n){return p(e,i)?!n:n}),a.CardsToSelected),new fa(u,a.GameState,a.ErrorMessageOpt));return new Aa(3,"Infecting",r);case 4:return new Aa(4,"ResolvingEpidemic",n.fields[0]);case 5:return new Aa(5,"ApplyingEventCard",n.fields[0]);case 6:return new Aa(6,"ApplyingResilientPopulation",n.fields[0]);case 7:return new Aa(7,"ApplyingForecast",n.fields[0]);default:return new Aa(0,"New")}var i,a,u,s,o,c}function ja(e,n){switch(n.tag){case 1:var t=(r=e,i=n.fields[0],a=r,new oa(i.SelectedCards,a));return new Aa(1,"Starting",t);case 2:return new Aa(2,"Viewing",n.fields[0]);case 3:return new Aa(3,"Infecting",n.fields[0]);case 4:return new Aa(4,"ResolvingEpidemic",n.fields[0]);case 5:return new Aa(5,"ApplyingEventCard",n.fields[0]);case 6:return new Aa(6,"ApplyingResilientPopulation",n.fields[0]);case 7:return new Aa(7,"ApplyingForecast",n.fields[0]);default:return new Aa(0,"New")}var r,i,a}function Va(e){switch(e.tag){case 1:var n=Ma(e.fields[0]);return new Aa(2,"Viewing",n);case 2:return new Aa(2,"Viewing",e.fields[0]);case 3:return new Aa(3,"Infecting",e.fields[0]);case 4:return new Aa(4,"ResolvingEpidemic",e.fields[0]);case 5:return new Aa(5,"ApplyingEventCard",e.fields[0]);case 6:return new Aa(6,"ApplyingResilientPopulation",e.fields[0]);case 7:return new Aa(7,"ApplyingForecast",e.fields[0]);default:return new Aa(0,"New")}}function Ba(e){switch(e.tag){case 1:return new Aa(1,"Starting",e.fields[0]);case 2:var n=Ta(e.fields[0]);return new Aa(3,"Infecting",n);case 3:return new Aa(3,"Infecting",e.fields[0]);case 4:return new Aa(4,"ResolvingEpidemic",e.fields[0]);case 5:return new Aa(5,"ApplyingEventCard",e.fields[0]);case 6:return new Aa(6,"ApplyingResilientPopulation",e.fields[0]);case 7:return new Aa(7,"ApplyingForecast",e.fields[0]);default:return new Aa(0,"New")}}function Ha(e,n){switch(n.tag){case 1:return new Aa(1,"Starting",n.fields[0]);case 2:return new Aa(2,"Viewing",n.fields[0]);case 3:var t=(r=e,i=n.fields[0],a=r,new fa(i.CardsToSelected,i.GameState,a));return new Aa(3,"Infecting",t);case 4:return new Aa(4,"ResolvingEpidemic",n.fields[0]);case 5:return new Aa(5,"ApplyingEventCard",n.fields[0]);case 6:return new Aa(6,"ApplyingResilientPopulation",n.fields[0]);case 7:return new Aa(7,"ApplyingForecast",n.fields[0]);default:return new Aa(0,"New")}var r,i,a}function qa(e,n){switch(n.tag){case 1:return new Aa(1,"Starting",n.fields[0]);case 2:var t=(r=e,i=n.fields[0],a=r,new ca(i.GameState,a));return new Aa(2,"Viewing",t);case 3:return new Aa(3,"Infecting",n.fields[0]);case 4:return new Aa(4,"ResolvingEpidemic",n.fields[0]);case 5:return new Aa(5,"ApplyingEventCard",n.fields[0]);case 6:return new Aa(6,"ApplyingResilientPopulation",n.fields[0]);case 7:return new Aa(7,"ApplyingForecast",n.fields[0]);default:return new Aa(0,"New")}var r,i,a}function Wa(e){switch(e.tag){case 1:return new Aa(1,"Starting",e.fields[0]);case 2:var n=ga(e.fields[0].GameState);return new Aa(4,"ResolvingEpidemic",n);case 3:return new Aa(3,"Infecting",e.fields[0]);case 4:return new Aa(4,"ResolvingEpidemic",e.fields[0]);case 5:return new Aa(5,"ApplyingEventCard",e.fields[0]);case 6:return new Aa(6,"ApplyingResilientPopulation",e.fields[0]);case 7:return new Aa(7,"ApplyingForecast",e.fields[0]);default:return new Aa(0,"New")}}function La(e,n){switch(n.tag){case 1:return new Aa(1,"Starting",n.fields[0]);case 2:return new Aa(2,"Viewing",n.fields[0]);case 3:return new Aa(3,"Infecting",n.fields[0]);case 4:var t=function(e,n){var t,r;switch(n.tag){case 1:return new ha(1,"SelectingIsPlayingResilientPopulationData",n.fields[0]);case 2:return new ha(2,"SelectingResilientData",(t=e,new pa(n.fields[0].GameState,n.fields[0].Infected,t,n.fields[0].ErrorMessageOpt)));default:return new ha(0,"SelectingInfectedData",(r=e,new da(n.fields[0].GameState,r,n.fields[0].ErrorMessageOpt)))}}(e,n.fields[0]);return new Aa(4,"ResolvingEpidemic",t);case 5:return new Aa(5,"ApplyingEventCard",n.fields[0]);case 6:var r=(i=e,a=n.fields[0],u=i,new Sa(a.GameState,u,a.ErrorMessageOpt));return new Aa(6,"ApplyingResilientPopulation",r);case 7:return new Aa(7,"ApplyingForecast",n.fields[0]);default:return new Aa(0,"New")}var i,a,u}function za(e,n){switch(n.tag){case 1:return new Aa(1,"Starting",n.fields[0]);case 2:return new Aa(2,"Viewing",n.fields[0]);case 3:return new Aa(3,"Infecting",n.fields[0]);case 4:var t=function(e,n){var t;switch(n.tag){case 1:return new ha(1,"SelectingIsPlayingResilientPopulationData",n.fields[0]);case 2:return new ha(2,"SelectingResilientData",n.fields[0]);default:return new ha(0,"SelectingInfectedData",(t=e,new da(n.fields[0].GameState,n.fields[0].InfectedOpt,t)))}}(e,n.fields[0]);return new Aa(4,"ResolvingEpidemic",t);case 5:return new Aa(5,"ApplyingEventCard",n.fields[0]);case 6:return new Aa(6,"ApplyingResilientPopulation",n.fields[0]);case 7:return new Aa(7,"ApplyingForecast",n.fields[0]);default:return new Aa(0,"New")}}function Ja(e,n){switch(n.tag){case 1:return new Aa(1,"Starting",n.fields[0]);case 2:return new Aa(2,"Viewing",n.fields[0]);case 3:return new Aa(3,"Infecting",n.fields[0]);case 4:var t=function(e,n){switch(n.tag){case 1:var t,r=e;return t=new wa(n.fields[0].GameState,n.fields[0].Infected,r,n.fields[0].ErrorMessageOpt),new ha(1,"SelectingIsPlayingResilientPopulationData",t);case 2:return new ha(2,"SelectingResilientData",n.fields[0]);default:return new ha(0,"SelectingInfectedData",n.fields[0])}}(e,n.fields[0]);return new Aa(4,"ResolvingEpidemic",t);case 5:return new Aa(5,"ApplyingEventCard",n.fields[0]);case 6:return new Aa(6,"ApplyingResilientPopulation",n.fields[0]);case 7:return new Aa(7,"ApplyingForecast",n.fields[0]);default:return new Aa(0,"New")}}function Ua(e,n){switch(n.tag){case 1:return new Aa(1,"Starting",n.fields[0]);case 2:return new Aa(2,"Viewing",n.fields[0]);case 3:return new Aa(3,"Infecting",n.fields[0]);case 4:var t=function(e,n){switch(n.tag){case 1:var t,r=e;return t=new wa(n.fields[0].GameState,n.fields[0].Infected,n.fields[0].IsPlayingResilientPopulationOpt,r),new ha(1,"SelectingIsPlayingResilientPopulationData",t);case 2:return new ha(2,"SelectingResilientData",n.fields[0]);default:return new ha(0,"SelectingInfectedData",n.fields[0])}}(e,n.fields[0]);return new Aa(4,"ResolvingEpidemic",t);case 5:return new Aa(5,"ApplyingEventCard",n.fields[0]);case 6:return new Aa(6,"ApplyingResilientPopulation",n.fields[0]);case 7:return new Aa(7,"ApplyingForecast",n.fields[0]);default:return new Aa(0,"New")}}function Ya(e,n){switch(n.tag){case 1:return new Aa(1,"Starting",n.fields[0]);case 2:return new Aa(2,"Viewing",n.fields[0]);case 3:return new Aa(3,"Infecting",n.fields[0]);case 4:var t=function(e,n){var t,r,i;switch(n.tag){case 1:return new ha(1,"SelectingIsPlayingResilientPopulationData",(t=e,new wa(n.fields[0].GameState,n.fields[0].Infected,n.fields[0].IsPlayingResilientPopulationOpt,t)));case 2:return new ha(2,"SelectingResilientData",(r=e,new pa(n.fields[0].GameState,n.fields[0].Infected,n.fields[0].ResilientOpt,r)));default:return new ha(0,"SelectingInfectedData",(i=e,new da(n.fields[0].GameState,n.fields[0].InfectedOpt,i)))}}(e,n.fields[0]);return new Aa(4,"ResolvingEpidemic",t);case 5:return new Aa(5,"ApplyingEventCard",n.fields[0]);case 6:return new Aa(6,"ApplyingResilientPopulation",n.fields[0]);case 7:return new Aa(7,"ApplyingForecast",n.fields[0]);default:return new Aa(0,"New")}}function Ka(e,n){switch(n.tag){case 1:return new Aa(1,"Starting",n.fields[0]);case 2:return new Aa(2,"Viewing",n.fields[0]);case 3:return new Aa(3,"Infecting",n.fields[0]);case 4:var t=function(e,n){var t,r=function(e){switch(e.tag){case 1:case 2:default:return e.fields[0].GameState}}(n);if(null==e.ResilientOpt)t=ua(e.Infected)(r);else{var i=e.ResilientOpt;t=sa(e.Infected,i)(r)}return 1===t.tag?Yn(Jn("Bug in processFinishResolvingEpidemic validation.\r\n                    Tried to apply ResolvingEpidemicFinished, but get an error:\r\n                    %s"))(t.fields[0]):la(t.fields[0])}(e,n.fields[0]);return new Aa(2,"Viewing",t);case 5:return new Aa(5,"ApplyingEventCard",n.fields[0]);case 6:return new Aa(6,"ApplyingResilientPopulation",n.fields[0]);case 7:return new Aa(7,"ApplyingForecast",n.fields[0]);default:return new Aa(0,"New")}}function $a(e){switch(e.tag){case 1:return new Aa(1,"Starting",e.fields[0]);case 2:var n=Ia(e.fields[0].GameState);return new Aa(5,"ApplyingEventCard",n);case 3:return new Aa(3,"Infecting",e.fields[0]);case 4:return new Aa(4,"ResolvingEpidemic",e.fields[0]);case 5:return new Aa(5,"ApplyingEventCard",e.fields[0]);case 6:return new Aa(6,"ApplyingResilientPopulation",e.fields[0]);case 7:return new Aa(7,"ApplyingForecast",e.fields[0]);default:return new Aa(0,"New")}}function Za(e,n){switch(n.tag){case 1:return new Aa(1,"Starting",n.fields[0]);case 2:return new Aa(2,"Viewing",n.fields[0]);case 3:return new Aa(3,"Infecting",n.fields[0]);case 4:return new Aa(4,"ResolvingEpidemic",n.fields[0]);case 5:var t=(r=e,i=n.fields[0],a=r,new va(i.GameState,a,i.ErrorMessageOpt));return new Aa(5,"ApplyingEventCard",t);case 6:return new Aa(6,"ApplyingResilientPopulation",n.fields[0]);case 7:return new Aa(7,"ApplyingForecast",n.fields[0]);default:return new Aa(0,"New")}var r,i,a}function Xa(e,n){switch(n.tag){case 1:return new Aa(1,"Starting",n.fields[0]);case 2:return new Aa(2,"Viewing",n.fields[0]);case 3:return new Aa(3,"Infecting",n.fields[0]);case 4:return new Aa(4,"ResolvingEpidemic",n.fields[0]);case 5:var t=(r=e,i=n.fields[0],a=r,new va(i.GameState,i.EventCardOpt,a));return new Aa(5,"ApplyingEventCard",t);case 6:return new Aa(6,"ApplyingResilientPopulation",n.fields[0]);case 7:return new Aa(7,"ApplyingForecast",n.fields[0]);default:return new Aa(0,"New")}var r,i,a}function Qa(e){switch(e.tag){case 1:return new Aa(1,"Starting",e.fields[0]);case 2:return new Aa(2,"Viewing",e.fields[0]);case 3:return new Aa(3,"Infecting",e.fields[0]);case 4:return new Aa(4,"ResolvingEpidemic",e.fields[0]);case 5:var n=Da(e.fields[0]);return new Aa(6,"ApplyingResilientPopulation",n);case 6:return new Aa(6,"ApplyingResilientPopulation",e.fields[0]);case 7:return new Aa(7,"ApplyingForecast",e.fields[0]);default:return new Aa(0,"New")}}function eu(e,n){switch(n.tag){case 1:return new Aa(1,"Starting",n.fields[0]);case 2:return new Aa(2,"Viewing",n.fields[0]);case 3:return new Aa(3,"Infecting",n.fields[0]);case 4:return new Aa(4,"ResolvingEpidemic",n.fields[0]);case 5:return new Aa(5,"ApplyingEventCard",n.fields[0]);case 6:var t=(r=e,i=n.fields[0],a=r,new Sa(i.GameState,i.ResilientOpt,a));return new Aa(6,"ApplyingResilientPopulation",t);case 7:return new Aa(7,"ApplyingForecast",n.fields[0]);default:return new Aa(0,"New")}var r,i,a}function nu(e){switch(e.tag){case 1:return new Aa(1,"Starting",e.fields[0]);case 2:return new Aa(2,"Viewing",e.fields[0]);case 3:return new Aa(3,"Infecting",e.fields[0]);case 4:return new Aa(4,"ResolvingEpidemic",e.fields[0]);case 5:return new Aa(5,"ApplyingEventCard",e.fields[0]);case 6:var n=function(e){var n=function(e){return Yn(Jn("Bug in processFinishApplyingResilientPopulation validation.\r\n                    Tried to apply ApplyingResilientPopulationFinished, but got\r\n                    an error: %s"))(e)};if(null==e.ResilientOpt)return n("No city chosen to remove.");var t=ia(e.ResilientOpt,e.GameState);return 1===t.tag?n(t.fields[0]):la(t.fields[0])}(e.fields[0]);return new Aa(2,"Viewing",n);case 7:return new Aa(7,"ApplyingForecast",e.fields[0]);default:return new Aa(0,"New")}}function tu(e){switch(e.tag){case 1:return new Aa(1,"Starting",e.fields[0]);case 2:return new Aa(2,"Viewing",e.fields[0]);case 3:return new Aa(3,"Infecting",e.fields[0]);case 4:return new Aa(4,"ResolvingEpidemic",e.fields[0]);case 5:var n=ba(e.fields[0].GameState);return new Aa(7,"ApplyingForecast",n);case 6:return new Aa(6,"ApplyingResilientPopulation",e.fields[0]);case 7:return new Aa(7,"ApplyingForecast",e.fields[0]);default:return new Aa(0,"New")}}function ru(e,n,t){switch(t.tag){case 1:return new Aa(1,"Starting",t.fields[0]);case 2:return new Aa(2,"Viewing",t.fields[0]);case 3:return new Aa(3,"Infecting",t.fields[0]);case 4:return new Aa(4,"ResolvingEpidemic",t.fields[0]);case 5:return new Aa(5,"ApplyingEventCard",t.fields[0]);case 6:return new Aa(6,"ApplyingResilientPopulation",t.fields[0]);case 7:var r=(i=e,a=n,u=t.fields[0],s=xr(a,i,u.CardsToText),new Ea(u.GameState,s,u.ErrorMessageOpt));return new Aa(7,"ApplyingForecast",r);default:return new Aa(0,"New")}var i,a,u,s}function iu(e,n){switch(n.tag){case 1:return new Aa(1,"Starting",n.fields[0]);case 2:return new Aa(2,"Viewing",n.fields[0]);case 3:return new Aa(3,"Infecting",n.fields[0]);case 4:return new Aa(4,"ResolvingEpidemic",n.fields[0]);case 5:return new Aa(5,"ApplyingEventCard",n.fields[0]);case 6:return new Aa(6,"ApplyingResilientPopulation",n.fields[0]);case 7:var t=(r=e,i=n.fields[0],a=r,new Ea(i.GameState,i.CardsToText,a));return new Aa(7,"ApplyingForecast",t);default:return new Aa(0,"New")}var r,i,a}function au(e,n){switch(n.tag){case 1:return new Aa(1,"Starting",n.fields[0]);case 2:return new Aa(2,"Viewing",n.fields[0]);case 3:return new Aa(3,"Infecting",n.fields[0]);case 4:return new Aa(4,"ResolvingEpidemic",n.fields[0]);case 5:return new Aa(5,"ApplyingEventCard",n.fields[0]);case 6:return new Aa(6,"ApplyingResilientPopulation",n.fields[0]);case 7:var t=(r=e,i=n.fields[0],la(1===(a=ra(r.Top,r.SecondFromTop,r.ThirdFromTop,r.FourthFromTop,r.FifthFromTop,r.SixthFromTop,i.GameState)).tag?Yn(Jn("Bug in processFinishApplyingForecast validation. Tried to\r\n                    apply ApplyingForecastFinished, but get an error: %s"))(a.fields[0]):a.fields[0]));return new Aa(2,"Viewing",t);default:return new Aa(0,"New")}var r,i,a}function uu(e){return function(n){return function(e,n){var t,r,i,a,u,s,o,c;switch(n.tag){case 1:return new Aa(1,"Starting",(t=e,new oa(n.fields[0].SelectedCards,t)));case 2:return new Aa(2,"Viewing",(r=e,new ca(n.fields[0].GameState,r)));case 3:return new Aa(3,"Infecting",(i=e,new fa(n.fields[0].CardsToSelected,n.fields[0].GameState,i)));case 4:var l=1===n.fields[0].tag?new ha(1,"SelectingIsPlayingResilientPopulationData",(a=e,new wa(n.fields[0].fields[0].GameState,n.fields[0].fields[0].Infected,n.fields[0].fields[0].IsPlayingResilientPopulationOpt,a))):2===n.fields[0].tag?new ha(2,"SelectingResilientData",(u=e,new pa(n.fields[0].fields[0].GameState,n.fields[0].fields[0].Infected,n.fields[0].fields[0].ResilientOpt,u))):new ha(0,"SelectingInfectedData",(s=e,new da(n.fields[0].fields[0].GameState,n.fields[0].fields[0].InfectedOpt,s)));return new Aa(4,"ResolvingEpidemic",l);case 5:return new Aa(5,"ApplyingEventCard",(o=e,new va(n.fields[0].GameState,n.fields[0].EventCardOpt,o)));case 6:return new Aa(6,"ApplyingResilientPopulation",(c=e,new Sa(n.fields[0].GameState,n.fields[0].ResilientOpt,c)));case 7:return new Aa(7,"ApplyingForecast",n.fields[0]);default:return new Aa(0,"New")}}(e,n)}}function su(e){switch(e.tag){case 1:return function(n){return Ga(e.fields[0],n)};case 3:return Va;case 2:return function(n){return ja(e.fields[0],n)};case 4:return Ba;case 5:return function(n){return Ha(e.fields[0],n)};case 6:return function(n){return function(e,n){switch(n.tag){case 1:return new Aa(1,"Starting",n.fields[0]);case 2:return new Aa(2,"Viewing",n.fields[0]);case 3:var t=Na(e,n.fields[0]);return new Aa(2,"Viewing",t);case 4:return new Aa(4,"ResolvingEpidemic",n.fields[0]);case 5:return new Aa(5,"ApplyingEventCard",n.fields[0]);case 6:return new Aa(6,"ApplyingResilientPopulation",n.fields[0]);case 7:return new Aa(7,"ApplyingForecast",n.fields[0]);default:return new Aa(0,"New")}}(e.fields[0],n)};case 7:return function(n){return qa(e.fields[0],n)};case 8:return Wa;case 9:return function(n){return La(e.fields[0],n)};case 10:return function(n){return za(e.fields[0],n)};case 11:return function(n){return function(e,n){switch(n.tag){case 1:return new Aa(1,"Starting",n.fields[0]);case 2:return new Aa(2,"Viewing",n.fields[0]);case 3:return new Aa(3,"Infecting",n.fields[0]);case 4:var t=Fa(e,n.fields[0]);return new Aa(4,"ResolvingEpidemic",t);case 5:return new Aa(5,"ApplyingEventCard",n.fields[0]);case 6:return new Aa(6,"ApplyingResilientPopulation",n.fields[0]);case 7:return new Aa(7,"ApplyingForecast",n.fields[0]);default:return new Aa(0,"New")}}(e.fields[0],n)};case 12:return function(n){return Ja(e.fields[0],n)};case 13:return function(n){return Ua(e.fields[0],n)};case 14:return function(n){return function(e,n){switch(n.tag){case 1:return new Aa(1,"Starting",n.fields[0]);case 2:return new Aa(2,"Viewing",n.fields[0]);case 3:return new Aa(3,"Infecting",n.fields[0]);case 4:var t=xa(e,n.fields[0]);return new Aa(4,"ResolvingEpidemic",t);case 5:return new Aa(5,"ApplyingEventCard",n.fields[0]);case 6:return new Aa(6,"ApplyingResilientPopulation",n.fields[0]);case 7:return new Aa(7,"ApplyingForecast",n.fields[0]);default:return new Aa(0,"New")}}(e.fields[0],n)};case 15:return function(n){return Ya(e.fields[0],n)};case 16:return function(n){return Ka(e.fields[0],n)};case 17:return $a;case 18:return function(n){return Za(e.fields[0],n)};case 19:return function(n){return Xa(e.fields[0],n)};case 20:return Qa;case 21:return function(n){return eu(e.fields[0],n)};case 22:return nu;case 23:return tu;case 24:return function(n){return ru(e.fields[1],e.fields[0],n)};case 25:return function(n){return iu(e.fields[0],n)};case 26:return function(n){return au(e.fields[0],n)};case 27:return uu(e.fields[0]);case 28:return function(n){return e.fields[0]};default:return _a}}var ou=x((function(e,n){for(var t=arguments.length,r=new Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];j.call.apply(j,[this,e,n].concat(r))}),j);function cu(e,n){var t;return t=e,Fr(n.CardsToSelected,t)?new ka(1,"SelectionToggled",e):null}function lu(e){var n,t=Dr((function(e,n){return n}),e.CardsToSelected);n=$t(Mn((function(e){return e[0]}),kr(Pr(t))),{Compare:function(e,n){return e.CompareTo(n)}});var r,i=0|ea(e.GameState);if(Kt(n)===i){var a=na(e.GameState,n);if(null==a)return new ka(6,"InfectingFinished",n);var u=a.fields[0];return new ka(5,"FinishInfectingValidationFailed",u)}switch(Li(Xi(e.GameState)).tag){case 1:r="Select three cities";break;case 2:r="Select four cities";break;default:r="Select two cities"}return new ka(5,"FinishInfectingValidationFailed",r)}function fu(e){return new ka(15,"FinishResolvingEpidemicValidationFailed",e)}function du(e,n){var t=ua(e)(n);if(1===t.tag)return fu(t.fields[0]);var r=new ya(e,null);return new ka(16,"ResolvingEpidemicFinished",r)}function wu(e){switch(e.tag){case 1:return null==e.fields[0].IsPlayingResilientPopulationOpt?fu("Select whether you are playing resilient population"):e.fields[0].IsPlayingResilientPopulationOpt?fu("You cannot resolve an epidemic: you have indicated that\r\n                    you are playing resilient population, but haven't chosen a\r\n                    city to apply it to."):du(e.fields[0].Infected,e.fields[0].GameState);case 2:if(null==e.fields[0].ResilientOpt)return fu("Select a card");var n=e.fields[0].ResilientOpt;return function(e,n,t){var r=sa(e,n)(t);if(1===r.tag)return fu(r.fields[0]);var i=new ya(e,n);return new ka(16,"ResolvingEpidemicFinished",i)}(e.fields[0].Infected,n,e.fields[0].GameState);default:return Vi(Zi(e.fields[0].GameState))?null:null!=e.fields[0].InfectedOpt?du(e.fields[0].InfectedOpt,e.fields[0].GameState):fu("Select a city")}}function pu(e){if(null==e.ResilientOpt)return new ka(21,"FinishApplyingResPopValidationFailed","Select a card");var n=ia(e.ResilientOpt,e.GameState);if(1===n.tag){var t,r=function(e,n,t){return function(e,n,t){return e.replace(new RegExp(Gn(n),"g"),t)}(t,e,n)};return t=r("StPetersburg","St Petersburg",r("SaoPaulo","Sao Paulo",r("SanFrancisco","San Francisco",r("NewYork","New York",r("MexicoCity","Mexico City",r("LosAngeles","Los Angeles",r("HongKong","Hong Kong",r("HoChiMinhCity","Ho Chi Minh City",r("BuenosAires","Buenos Aires",n.fields[0]))))))))),new ka(21,"FinishApplyingResPopValidationFailed",t)}return new ka(22,"ApplyingResilientPopulationFinished")}function hu(e){var n,t;t=Dr((function(e,n){return n.length>0}),e.CardsToText),n=_r((function(e,n){return Ee(n,511,!1,32)}),t);var r,i,a=6!==Nr(n),u=Tr(n,(function(e,n){return!n[0]}));if(r=!p(function(e,n){let t;const r=Br(e,Array);return r.sort((function(e,t){return n.Compare(e,t)})),t=r,Xr(t)}(Kr((function(e){return e[1][1]}),jr(n)),{Compare:g}),Xr([1,2,3,4,5,6])),!(!a&&!u)||r)i=new ka(25,"FinishApplyingForecastValidationFailed","Enter the numbers 1 to 6 without duplicates, leaving all\r\n                    other input fields blank.");else{var s=function(e){return function(e,n){let t;if(t=gr((function(n,t){return e(n,t)?ee(n):null}),Pr(n)),null==t)throw new Error("Key not found");return ne(t)}((function(n,t){return e===t[1]}),n)};i=new ka(26,"ApplyingForecastFinished",new Ca(s(1),s(2),s(3),s(4),s(5),s(6)))}return i}function gu(e){return 1===e.State.tag?null:2===e.State.tag?null:3===e.State.tag?null:4===e.State.tag?null:5===e.State.tag?null:6===e.State.tag?null:7===e.State.tag?null:new ka(0,"StartingStarted")}function yu(e,n){return 1===n.State.tag?(t=e,n.State.fields[0],new ka(1,"SelectionToggled",t)):2===n.State.tag?null:3===n.State.tag?cu(e,n.State.fields[0]):4===n.State.tag?null:5===n.State.tag?null:6===n.State.tag?null:(n.State.tag,null);var t}function mu(e){return 1===e.State.tag?9===Kt(e.State.fields[0].SelectedCards)?new ka(3,"StartingFinished"):new ka(2,"FinishStartingValidationFailed","Select nine cities"):2===e.State.tag?null:3===e.State.tag?null:4===e.State.tag?null:5===e.State.tag?null:6===e.State.tag?null:(e.State.tag,null)}function vu(e){return 1===e.State.tag?null:2===e.State.tag?(e.State.fields[0],new ka(4,"InfectingStarted")):3===e.State.tag?null:4===e.State.tag?null:5===e.State.tag?null:6===e.State.tag?null:(e.State.tag,null)}function Su(e){return 1===e.State.tag?null:2===e.State.tag?function(e){switch(Xi(e.GameState).tag){case 1:case 2:case 3:case 4:case 5:return Ci(Ki(e.GameState))?new ka(7,"StartResolvingEpidemicValidationFailed","You cannot resolve an epidemic: epidemic behaviour is\r\n                    undefined when the deck is empty."):new ka(8,"ResolvingEpidemicStarted");case 6:return new ka(7,"StartResolvingEpidemicValidationFailed","You can no longer resolve an epidemic: all the epidemic cards\r\n                have already been played.");default:return Ci(Ki(e.GameState))?new ka(7,"StartResolvingEpidemicValidationFailed","You cannot resolve an epidemic: epidemic behaviour is\r\n                    undefined when the deck is empty."):new ka(8,"ResolvingEpidemicStarted")}}(e.State.fields[0]):3===e.State.tag?null:4===e.State.tag?null:5===e.State.tag?null:6===e.State.tag?null:(e.State.tag,null)}function Eu(e,n){return 1===n.State.tag?null:2===n.State.tag?null:3===n.State.tag?null:4===n.State.tag?function(e,n){switch(n.tag){case 2:return new ka(9,"CardChosen",e);case 1:return null;default:return new ka(9,"CardChosen",e)}}(e,n.State.fields[0]):5===n.State.tag?null:6===n.State.tag?(t=e,n.State.fields[0],new ka(9,"CardChosen",t)):(n.State.tag,null);var t}function bu(e){return 1===e.State.tag?null:2===e.State.tag?null:3===e.State.tag?null:4===e.State.tag?function(e){switch(e.tag){case 1:return null==e.fields[0].IsPlayingResilientPopulationOpt?new ka(13,"MoveToSelectingResilientValidationFailed","Select whether you are playing resilient population"):e.fields[0].IsPlayingResilientPopulationOpt?new ka(14,"SelectingResilientMovedTo",e.fields[0].Infected):null;case 2:return null;default:if(null==e.fields[0].InfectedOpt)return new ka(10,"MoveToSelectingIsPlayingResPopValidationFailed","Select a city");var n=e.fields[0].InfectedOpt;return new ka(11,"SelectingIsPlayingResPopMovedTo",n)}}(e.State.fields[0]):5===e.State.tag?null:6===e.State.tag?null:(e.State.tag,null)}function Cu(e,n){return 1===n.State.tag?null:2===n.State.tag?null:3===n.State.tag?null:4===n.State.tag?function(e,n){switch(n.tag){case 1:return new ka(12,"BoolChosen",e);case 2:default:return null}}(e,n.State.fields[0]):5===n.State.tag?null:6===n.State.tag?null:(n.State.tag,null)}function Au(e){return 1===e.State.tag?null:2===e.State.tag?(e.State.fields[0],new ka(17,"ApplyingEventCardStarted")):3===e.State.tag?null:4===e.State.tag?null:5===e.State.tag?null:6===e.State.tag?null:(e.State.tag,null)}function ku(e,n){return 1===n.State.tag?null:2===n.State.tag?null:3===n.State.tag?null:4===n.State.tag?null:5===n.State.tag?(t=e,n.State.fields[0],new ka(18,"EventCardChosen",t)):6===n.State.tag?null:(n.State.tag,null);var t}function Ru(e){return 1===e.State.tag?null:2===e.State.tag?null:3===e.State.tag?null:4===e.State.tag?null:5===e.State.tag?null==(n=e.State.fields[0]).EventCardOpt?new ka(19,"StartApplyingChosenEventCardValidationFailed","Select an event card"):1===n.EventCardOpt.tag?new ka(23,"ApplyingForecastStarted"):new ka(20,"ApplyingResilientPopulationStarted"):6===e.State.tag?null:(e.State.tag,null);var n}function Ou(e,n,t){return 1===t.State.tag?null:2===t.State.tag?null:3===t.State.tag?null:4===t.State.tag?null:5===t.State.tag?null:6===t.State.tag?null:7===t.State.tag?(r=n,i=e,t.State.fields[0],new ka(24,"TextAssignedToCard",i,r)):null;var r,i}function Pu(e){var n,t,r,i=Dn((function(e){return e<0}),Tn((function(e,n){return e+(28===n.tag?1:Ra(n)?-1:0)}),0,e.Events));return null==i?new ka(27,"GoBackValidationFailed","Cannot go back: there have not been any page transitions."):(t=ii(0|i,e.Events),r=t,n=zr(M(2,su),r,new Aa(0,"New")),new ka(28,"WentBack",n))}function Mu(e,n){switch(e.tag){case 1:return yu(e.fields[0],n);case 2:return mu(n);case 3:return vu(n);case 4:return 1===(a=n).State.tag?null:2===a.State.tag?null:3===a.State.tag?lu(a.State.fields[0]):4===a.State.tag?null:5===a.State.tag?null:6===a.State.tag?null:(a.State.tag,null);case 5:return Su(n);case 6:return Eu(e.fields[0],n);case 7:return bu(n);case 8:return Cu(e.fields[0],n);case 9:return 1===(i=n).State.tag?null:2===i.State.tag?null:3===i.State.tag?null:4===i.State.tag?wu(i.State.fields[0]):5===i.State.tag?null:6===i.State.tag?null:(i.State.tag,null);case 10:return Au(n);case 11:return ku(e.fields[0],n);case 12:return Ru(n);case 13:return 1===(r=n).State.tag?null:2===r.State.tag?null:3===r.State.tag?null:4===r.State.tag?null:5===r.State.tag?null:6===r.State.tag?pu(r.State.fields[0]):(r.State.tag,null);case 14:return Ou(e.fields[0],e.fields[1],n);case 15:return 1===(t=n).State.tag?null:2===t.State.tag?null:3===t.State.tag?null:4===t.State.tag?null:5===t.State.tag?null:6===t.State.tag?null:7===t.State.tag?hu(t.State.fields[0]):null;case 16:return Pu(n);default:return gu(n)}var t,r,i,a}function Tu(e,n){var t=Mu(e,n);if(null==t)return n;var r=t;return new Oa(new G(r,n.Events),su(r)(n.State))}t(55),t(59),t(60),t(82),t(88),t(40),t(94),t(65),t(96),t(66),t(67),x((function(e,n){for(var t=arguments.length,r=new Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];j.call.apply(j,[this,e,n].concat(r))}),j);x((function(e,n){for(var t=arguments.length,r=new Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];j.call.apply(j,[this,e,n].concat(r))}),j);x((function(e){this.__html=e}),q);var Iu=x((function(e,n){for(var t=arguments.length,r=new Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];j.call.apply(j,[this,e,n].concat(r))}),j);x((function(e,n){for(var t=arguments.length,r=new Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];j.call.apply(j,[this,e,n].concat(r))}),j);var Nu=x((function(e,n){for(var t=arguments.length,r=new Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];j.call.apply(j,[this,e,n].concat(r))}),j);x((function(e,n){for(var t=arguments.length,r=new Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];j.call.apply(j,[this,e,n].concat(r))}),j);var Fu=t(0);t(101);function xu(e){return(xu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Du(e,n){return Fu.memo(n,e)}x((function(){}));function _u(e){return function(e){if(Array.isArray(e)){for(var n=0,t=new Array(e.length);n<e.length;n++)t[n]=e[n];return t}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var Gu=x((function(e,n){for(var t=arguments.length,r=new Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];j.call.apply(j,[this,e,n].concat(r))}),j);function ju(e){switch(e.tag){case 1:return new Gu(2,"Blue");case 2:return new Gu(3,"Black");case 3:case 4:return new Gu(1,"Red");case 5:case 6:return new Gu(0,"Yellow");case 7:case 8:return new Gu(3,"Black");case 9:return new Gu(2,"Blue");case 10:return new Gu(3,"Black");case 11:return new Gu(2,"Blue");case 12:case 13:return new Gu(1,"Red");case 14:return new Gu(3,"Black");case 15:return new Gu(1,"Red");case 16:return new Gu(0,"Yellow");case 17:return new Gu(3,"Black");case 18:case 19:return new Gu(0,"Yellow");case 20:return new Gu(3,"Black");case 21:case 22:return new Gu(0,"Yellow");case 23:return new Gu(2,"Blue");case 24:return new Gu(0,"Yellow");case 25:return new Gu(2,"Blue");case 26:return new Gu(1,"Red");case 27:case 28:return new Gu(0,"Yellow");case 29:case 30:return new Gu(2,"Blue");case 31:case 32:return new Gu(3,"Black");case 33:return new Gu(2,"Blue");case 34:return new Gu(1,"Red");case 35:return new Gu(2,"Blue");case 36:return new Gu(3,"Black");case 37:return new Gu(2,"Blue");case 38:case 39:return new Gu(0,"Yellow");case 40:case 41:return new Gu(1,"Red");case 42:return new Gu(2,"Blue");case 43:case 44:return new Gu(1,"Red");case 45:return new Gu(3,"Black");case 46:return new Gu(1,"Red");case 47:return new Gu(2,"Blue");default:return new Gu(3,"Black")}}function Vu(e){switch(e.tag){case 1:return"Atlanta";case 2:return"Baghdad";case 3:return"Bangkok";case 4:return"Beijing";case 5:return"Bogotá";case 6:return"Buenos Aires";case 7:return"Cairo";case 8:return"Chennai";case 9:return"Chicago";case 10:return"Delhi";case 11:return"Essen";case 12:return"Ho Chi Minh City";case 13:return"Hong Kong";case 14:return"Istanbul";case 15:return"Jakarta";case 16:return"Johannesburg";case 17:return"Karachi";case 18:return"Khartoum";case 19:return"Kinshasa";case 20:return"Kolkata";case 21:return"Lagos";case 22:return"Lima";case 23:return"London";case 24:return"Los Angeles";case 25:return"Madrid";case 26:return"Manila";case 27:return"Mexico City";case 28:return"Miami";case 29:return"Milan";case 30:return"Montréal";case 31:return"Moscow";case 32:return"Mumbai";case 33:return"New York";case 34:return"Osaka";case 35:return"Paris";case 36:return"Riyadh";case 37:return"San Francisco";case 38:return"Santiago";case 39:return"São Paulo";case 40:return"Seoul";case 41:return"Shanghai";case 42:return"St Petersburg";case 43:return"Sydney";case 44:return"Taipei";case 45:return"Tehran";case 46:return"Tokyo";case 47:return"Washington";default:return"Algiers"}}function Bu(e){return 1===e.tag?"Forecast":"Resilient population"}function Hu(e,n){var t,r;switch(ju(n).tag){case 1:r="red";break;case 2:r="blue";break;case 3:r="black";break;default:r="yellow"}var i,a=new G(r,e);i=$n(" ",new G("colour-circle",Kr((t=Un(Jn("%s--%s")),function(e){var n=t(e);return function(e){return n(e)}})("colour-circle"),a)));var u=[new Nu(25,"className",i)];return Fu.createElement.apply(Fu,["span",P(u,1)].concat([]))}var qu,Wu,Lu=(qu=new G("right",new G),function(e){return Hu(qu,e)}),zu=(Wu=new G("small",new G),function(e){return Hu(Wu,e)});function Ju(e){var n=[new Nu(25,"className","heading heading-l")],t=[e];return Fu.createElement.apply(Fu,["h1",P(n,1)].concat(t))}function Uu(e){var n=[new Nu(25,"className","heading heading-m")],t=[e];return Fu.createElement.apply(Fu,["h2",P(n,1)].concat(t))}function Yu(e){var n=[new Nu(25,"className","prose")],t=[e];return Fu.createElement.apply(Fu,["p",P(n,1)].concat(t))}function Ku(e,n){var t=[new Nu(25,"className","button"),new Nu(119,"Type","button"),new Iu(40,"OnClick",n)],r=[e];return Fu.createElement.apply(Fu,["button",P(t,1)].concat(r))}function $u(e,n){var t=[new Nu(25,"className","button button--secondary"),new Nu(119,"Type","button"),new Iu(40,"OnClick",n)],r=[e];return Fu.createElement.apply(Fu,["button",P(t,1)].concat(r))}function Zu(e){var n=new G(e,new G),t=new G(new Nu(25,"className","error-message"),new G),r=n;return Fu.createElement.apply(Fu,["span",P(t,1)].concat(_u(r)))}function Xu(e){return[ju(e),Vu(e)]}function Qu(e){return n=function(e,n){return m(Xu(e),Xu(n))},t=e,En(Array.from(t).sort(n));var n,t}function es(e,n,t,r,i){var a,u,s=Vu(i),o=[new Nu(59,"Id",s),new Nu(25,"className",n),(a=r(i),new Nu(22,"Checked",a)),new Nu(83,"Name","cards"),(u=I(1,t,[i]),new Iu(9,"OnChange",u)),new Nu(119,"Type",e),new Nu(121,"Value",s)];return Fu.createElement.apply(Fu,["input",P(o,1)].concat([]))}function ns(e,n){var t=Vu(n),r=[new Nu(25,"className",e),new Nu(56,"HtmlFor",t)],i=[t];return Fu.createElement.apply(Fu,["label",P(r,1)].concat(i))}function ts(e,n,t,r){var i=Xr([e(r),n(r),Lu(r)]),a=new G(new Nu(25,"className",t),new G),u=i;return Fu.createElement.apply(Fu,["div",P(a,1)].concat(_u(u)))}function rs(e){return function(n){var t=Qu(n);return Mn(e,t)}}function is(e,n){return rs((function(t){return ts((function(t){return es("checkbox","checkbox__input",(function(e,t){n(new ou(1,"ToggleSelection",e))}),(function(n){return Mr(e,n)}),t)}),(function(e){return ns("checkbox__label",e)}),"checkbox__item",t)}))(Mn((function(e){return e[0]}),e))}function as(e,n){return Kr((function(e){var t,r,i,a,u,s,o,c=Xr([(t=Vu(e[0]),r=[new Nu(25,"className","number__label"),new Nu(56,"HtmlFor",t)],i=[t],Fu.createElement.apply(Fu,["label",P(r,1)].concat(_u(i)))),(s=Un(Jn("%A_position")),a=s(e[0]),u=[(o=Vu(e[0]),new Nu(59,"Id",o)),new Nu(25,"className","number__input input--width-1"),new Nu(83,"Name",a),new Iu(9,"OnChange",(function(t){n(new ou(14,"AssignTextToCard",e[0],t.target.value))})),new Nu(119,"Type","text"),new Nu(121,"Value",e[1]),new Nu(60,"InputMode","numeric"),new Nu(87,"Pattern","[0-9]*")],Fu.createElement.apply(Fu,["input",P(u,1)].concat([]))),Lu(e[0])]),l=new G(new Nu(25,"className","number__item"),new G),f=c;return Fu.createElement.apply(Fu,["div",P(l,1)].concat(_u(f)))}),function(e,n,t){let r;const i=Br(n,Array);return i.sort((function(n,r){return t.Compare(e(n),e(r))})),r=i,Xr(r)}((function(e){return Xu(e[0])}),jr(e),{Compare:m}))}function us(e,n,t,r){var i,a,u,s,o,c,l,f,d,w=(i=$n(" ",ri((function(e){return e}),Xr(["form-group",re((function(e){return"form-group--error"}),t)]))),new Nu(25,"className",i));d=new G(w,new G),f=function(e){var n=d,t=e;return Fu.createElement.apply(Fu,["div",P(n,1)].concat(_u(t)))};var p,h,g,y,m=re(Zu,t);p=ri((function(e){return e}),Xr([(u=[new Nu(25,"className","fieldset-legend")],s=[(h=e,g=[new Nu(25,"className","fieldset-heading heading")],y=[h],Fu.createElement.apply(Fu,["h1",P(g,1)].concat(y)))],a=Fu.createElement.apply(Fu,["legend",P(u,1)].concat(_u(s))),a),re((function(e){var n=[new Nu(25,"className","fieldset-hint")],t=[e];return Fu.createElement.apply(Fu,["span",P(n,1)].concat(t))}),n),m,(c=new G,l=c,o=Fu.createElement.apply(Fu,["div",P(l,1)].concat(_u(r))),o)]));var v=new G(new Nu(25,"className","fieldset"),new G),S=p;return f(new G(Fu.createElement.apply(Fu,["fieldset",P(v,1)].concat(_u(S))),new G))}function ss(e,n,t,r,i,a){var u=Xr([us(e,n,t,is(i,a)),Ku("Continue",(function(e){a(r)}))]),s=new G(new Nu(84,"NoValidate",!0),new G),o=u;return Fu.createElement.apply(Fu,["form",P(s,1)].concat(_u(o)))}function os(e,n,t,r,i,a,u){var s,o,c,l=Xr([us(e,n,t,(s=i,o=a,c=u,rs((function(e){return ts((function(e){return es("radio","radio__input",(function(e,n){c(new ou(6,"ChooseCard",e))}),(function(e){return null!=o&&p(e,o)}),e)}),(function(e){return ns("radio__label",e)}),"radio__item",e)}))(s))),Ku("Continue",(function(e){u(r)}))]),f=new G(new Nu(84,"NoValidate",!0),new G),d=l;return Fu.createElement.apply(Fu,["form",P(f,1)].concat(_u(d)))}function cs(e){var n=[new Nu(25,"className","game-state-section")];return Fu.createElement.apply(Fu,["div",P(n,1)].concat(_u(e)))}function ls(e){var n;n=Mn((function(e){var n;n=Vu(e);var t=zu(e),r=[new Nu(25,"className","card-chip")],i=[t,n];return Fu.createElement.apply(Fu,["div",P(r,1)].concat(i))}),Qu(Tt(Dt(e))));var t=new G(new Nu(25,"className","card-set"),new G);return Fu.createElement.apply(Fu,["div",P(t,1)].concat(_u(n)))}function fs(e){var n,t,r,i;if(null==(n=function(e,n){if(e<0)throw new Error("The input must be non-negative.");var t,r,i;switch(0===e?t=0:1===e&&null!=n.tail?t=1:(t=2,r=e,i=n),t){case 0:return new G;case 1:return new G(n.head,new G);case 2:return ai(!0,r,new G,i)[0]}}(Ur(t=Ei(e))-1,t)).tail)return null;i=Kr(ls,n);var a=new G(new Nu(25,"className","card-sets"),new G),u=i;return r=Fu.createElement.apply(Fu,["div",P(a,1)].concat(_u(u))),cs(Xr([Uu("Deck top"),r]))}function ds(e,n){var t,r,i,a,u,s,o,c,l,f,d,w,h,g,y=p(e.IsPlayingResilientPopulationOpt,!0)?new ou(7,"MoveToNextSubstep"):new ou(9,"FinishResolvingEpidemic");return t="Are you playing resilient population?",r=null,i=e.ErrorMessageOpt,a=function(e){return e?"Yes":"No"},u=y,s=e.IsPlayingResilientPopulationOpt,w=Xr([us(t,r,i,(c=a,l=s,f=o=n,d=function(e){var n,t,r,i,a,u,s,o=Xr([(n=[(t=String(e),new Nu(59,"Id",t)),new Nu(25,"className","radio__input"),(r=null!=l&&(i=l,e===i),new Nu(22,"Checked",r)),new Nu(83,"Name","is-playing-resilient"),new Iu(9,"OnChange",(function(n){f(new ou(8,"ChooseBool",e))})),new Nu(119,"Type","radio"),new Nu(121,"Value",e)],Fu.createElement.apply(Fu,["input",P(n,1)].concat([]))),(a=c(e),u=[new Nu(25,"className","radio__label"),new Nu(56,"HtmlFor",a)],s=[a],Fu.createElement.apply(Fu,["label",P(u,1)].concat(_u(s))))]),d=new G(new Nu(25,"className","radio__item"),new G),w=o;return Fu.createElement.apply(Fu,["div",P(d,1)].concat(_u(w)))},Xr([d(!0),d(!1)]))),Ku("Continue",(function(e){o(u)}))]),h=new G(new Nu(84,"NoValidate",!0),new G),g=w,Fu.createElement.apply(Fu,["form",P(h,1)].concat(_u(g)))}function ws(e,n){switch(e.tag){case 1:return ds(e.fields[0],n);case 2:return t=e.fields[0],r=n,a=xi($i(t.GameState)),i=Ht(t.Infected,a),os("Which infection card did you remove from the game?",null,t.ErrorMessageOpt,new ou(9,"FinishResolvingEpidemic"),i,t.ResilientOpt,r);default:return function(e,n){var t=Mi(Ki(e.GameState));if(null==t)throw new Error("epidemic behaviour is undefined when deck is empty\\nParameter name: data");var r=t,i=Vi(Zi(e.GameState))?new ou(7,"MoveToNextSubstep"):new ou(9,"FinishResolvingEpidemic");return os("Which city was infected?",null,e.ErrorMessageOpt,i,r,e.InfectedOpt,n)}(e.fields[0],n)}var t,r,i,a}function ps(e,n){return t="Which event card are you playing?",r=e.ErrorMessageOpt,i=e.EventCardOpt,c=Xr([us(t,null,r,(u=i,s=a=n,o=function(e){var n,t,r,i,a,o,c,l=Xr([(n=Bu(e),t=[new Nu(59,"Id",n),new Nu(25,"className","radio__input"),(r=null!=u&&(i=u,p(e,i)),new Nu(22,"Checked",r)),new Nu(83,"Name","event-card"),new Iu(9,"OnChange",(function(n){s(new ou(11,"ChooseEventCard",e))})),new Nu(119,"Type","radio"),new Nu(121,"Value",n)],Fu.createElement.apply(Fu,["input",P(t,1)].concat([]))),(a=Bu(e),o=[new Nu(25,"className","radio__label"),new Nu(56,"HtmlFor",a)],c=[a],Fu.createElement.apply(Fu,["label",P(o,1)].concat(_u(c))))]),f=new G(new Nu(25,"className","radio__item"),new G),d=l;return Fu.createElement.apply(Fu,["div",P(f,1)].concat(_u(d)))},Xr([o(new ma(0,"ResilientPopulation")),o(new ma(1,"Forecast"))]))),Ku("Continue",(function(e){a(new ou(12,"StartApplyingChosenEventCard"))}))]),l=new G(new Nu(84,"NoValidate",!0),new G),f=c,Fu.createElement.apply(Fu,["form",P(l,1)].concat(_u(f)));var t,r,i,a,u,s,o,c,l,f}function hs(e,n){return t=e.ErrorMessageOpt,r=new ou(15,"FinishApplyingForecast"),i=e.CardsToText,u=Xr([us("What is the new order of the top six cards?","Enter the number 1 against the card at the top of the deck\r\n                and the numbers 2, 3, 4, 5 and 6 against the next five cards.\r\n                Leave the other input fields blank.",t,as(i,a=n)),Ku("Continue",(function(e){a(r)}))]),s=new G(new Nu(84,"NoValidate",!0),new G),o=u,Fu.createElement.apply(Fu,["form",P(s,1)].concat(_u(o)));var t,r,i,a,u,s,o}var gs=x((function(e,n){this.Model=e,this.Dispatch=n}),q);var ys=function(e,n,t){if(null==n);else{var r=n;e.displayName=r}var i;if(null==T(2,t))i=e;else{var a=Du(t,e);if(null==n);else{var u=n;a.displayName="Memo("+u+")"}i=a}return function(e){return Fu.createElement.apply(Fu,[i,e].concat([]))}}((function(e){var n;te(re((function(e){return!!Ra(e)||function(e){switch(e.tag){case 1:case 3:return!1;case 2:return!0;case 4:return!1;case 5:return!0;case 6:return!1;case 7:return!0;case 8:case 9:return!1;case 10:return!0;case 11:case 12:return!1;case 13:return!0;case 14:return!1;case 15:return!0;case 16:case 17:case 18:return!1;case 19:return!0;case 20:return!1;case 21:return!0;case 22:case 23:case 24:return!1;case 25:return!0;case 26:return!1;case 27:return!0;case 28:default:return!1}}(e)}),null!=(n=e.Model.Events).tail?ee(n.head):null),!0)&&Fu.useEffect((function(){window.scrollTo(0,0)}));var t,r,i,a,u,s,o,c,l,f,d,w,p,h,g,y,v,S,E,b,C,A,k,R,O,M,T,I,N,F,x,D,_,j,V,B,H,q,W,L,z,J,U,Y,K,$,Z=1===e.Model.State.tag?(D=e.Model.State.fields[0],_=e.Dispatch,ss("Which cities did you infect during setup?",null,D.ErrorMessageOpt,new ou(2,"FinishStarting"),Gr(Yt((function(e){return[e,Bt(e,D.SelectedCards)]}),gi,{Compare:m}),{Compare:function(e,n){return e.CompareTo(n)}}),_)):2===e.Model.State.tag?(l=e.Model.State.fields[0],f=e.Dispatch,N=ri((function(e){return e}),Xr([(d=Ju("Game state"),d),(w=Ki(l.GameState),fs(w)),(h=$i(l.GameState),M=h,I=xi(M),T=Vt(I)?Yu("The discard pile is empty."):ls(I),p=cs([Uu("Discard pile"),T]),p),(g=Zi(l.GameState),R=g,O=Hi(R),Vt(Hi(R))?null:cs([Uu("Removed cards"),ls(O)])),(b=l.GameState,y=cs(Xr([Uu("Infection rate"),(A=0|ea(b),k=Un(Jn("The infection rate is %i.")),C=k(A),Yu(C))])),y),re(Zu,l.ErrorMessageOpt),(v=Ku("Infect cities",(function(e){f(new ou(3,"StartInfecting"))})),v),(S=$u("Resolve an epidemic",(function(e){f(new ou(5,"StartResolvingEpidemic"))})),S),(E=$u("Play an event card",(function(e){f(new ou(10,"StartApplyingEventCard"))})),E)])),F=new G,x=N,Fu.createElement.apply(Fu,["div",P(F,1)].concat(_u(x)))):3===e.Model.State.tag?(o=e.Model.State.fields[0],c=e.Dispatch,ss("Which cities did you infect?",null,o.ErrorMessageOpt,new ou(4,"FinishInfecting"),o.CardsToSelected,c)):4===e.Model.State.tag?ws(e.Model.State.fields[0],e.Dispatch):5===e.Model.State.tag?ps(e.Model.State.fields[0],e.Dispatch):6===e.Model.State.tag?(u=e.Model.State.fields[0],s=e.Dispatch,os("Which infection card did you remove from the game?",null,u.ErrorMessageOpt,new ou(13,"FinishApplyingResilientPopulation"),xi($i(u.GameState)),u.ResilientOpt,s)):7===e.Model.State.tag?hs(e.Model.State.fields[0],e.Dispatch):(t=e.Dispatch,r=Xr([Ju("Pandemic Infection Deck Tracker"),Yu("This app helps you keep track of infection cards during your\r\n            game of Pandemic (standard version only)."),Yu("It is designed for mobile so might feel a bit weird on larger\r\n            devices."),Ku("Start now",(function(e){t(new ou(0,"StartStarting"))}))]),i=new G,a=r,Fu.createElement.apply(Fu,["div",P(i,1)].concat(_u(a))));0===e.Model.State.tag?(Y=Z,K=[new Nu(25,"className","main")],$=[Y],j=Fu.createElement.apply(Fu,["main",P(K,1)].concat($))):(V=e.Dispatch,B=Z,z=Xr([(W=V,L=[new Nu(54,"Href","#"),new Nu(25,"className","back-link"),new Iu(40,"OnClick",(function(e){W(new ou(16,"GoBack"))}))],Fu.createElement.apply(Fu,["a",P(L,1)].concat(["Back"]))),(H=[new Nu(25,"className","main")],q=[B],Fu.createElement.apply(Fu,["main",P(H,1)].concat(_u(q))))]),J=new G,U=z,j=Fu.createElement.apply(Fu,["div",P(J,1)].concat(_u(U))));var X=[new Nu(25,"className","width-container")],Q=[j];return Fu.createElement.apply(Fu,["div",P(X,1)].concat(Q))}),null,(function(e,n){if(e===n)return!0;if("object"!==xu(e)||e[Symbol.iterator]||null==n)return p(e,n);for(var t=Object.keys(e),r=0|t.length,i=0,a=!0;i<r&&a;){var u=t[i];i+=1;var s=e[u];a="function"==typeof s||p(s,n[u])}return a}));function ms(e,n){return ys(new gs(e,n))}class vs{constructor(e=!1){this._id=0,this._cancelled=e,this._listeners=new Map}get isCancelled(){return this._cancelled}cancel(){if(!this._cancelled){this._cancelled=!0;for(const[,e]of this._listeners)e()}}addListener(e){const n=this._id;return this._listeners.set(this._id++,e),n}removeListener(e){return this._listeners.delete(e)}register(e,n){const t=this,r=this.addListener(null==n?e:()=>e(n));return{Dispose(){t.removeListener(r)}}}}class Ss extends Error{constructor(){super("The operation was canceled"),Object.setPrototypeOf(this,Ss.prototype)}}function Es(e){return n=>{if(n.cancelToken.isCancelled)n.onCancel(new Ss);else if(n.trampoline.incrementAndCheck())n.trampoline.hijack(()=>{try{e(n)}catch(e){n.onError(e)}});else try{e(n)}catch(e){n.onError(e)}}}function bs(e,n){return Es(t=>{e({onSuccess:e=>{try{n(e)(t)}catch(e){t.onError(e)}},onError:t.onError,onCancel:t.onCancel,cancelToken:t.cancelToken,trampoline:t.trampoline})})}function Cs(e){return Es(n=>n.onSuccess(e))}new class{Bind(e,n){return bs(e,n)}Combine(e,n){return this.Bind(e,()=>n)}Delay(e){return Es(n=>e()(n))}For(e,n){const t=e[Symbol.iterator]();let r=t.next();return this.While(()=>!r.done,this.Delay(()=>{const e=n(r.value);return r=t.next(),e}))}Return(e){return Cs(e)}ReturnFrom(e){return e}TryFinally(e,n){return Es(t=>{e({onSuccess:e=>{n(),t.onSuccess(e)},onError:e=>{n(),t.onError(e)},onCancel:e=>{n(),t.onCancel(e)},cancelToken:t.cancelToken,trampoline:t.trampoline})})}TryWith(e,n){return Es(t=>{e({onSuccess:t.onSuccess,onCancel:t.onCancel,cancelToken:t.cancelToken,trampoline:t.trampoline,onError:e=>{try{n(e)(t)}catch(e){t.onError(e)}}})})}Using(e,n){return this.TryFinally(n(e),()=>e.Dispose())}While(e,n){return e()?this.Bind(n,()=>this.While(e,n)):this.Return(void 0)}Zero(){return Es(e=>e.onSuccess(void 0))}};new vs;function As(e,n){Zr((function(n){n(e)}),n)}function ks(){return new G}function Rs(e,n){console.error(ee(e),n)}var Os=x((function(e,n){for(var t=arguments.length,r=new Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];j.call.apply(j,[this,e,n].concat(r))}),j);var Ps=x((function(e){var n,t,r,i;this.state=new Os(0,"Writable",(n=new Array(S(g,e,10)),t=0,r=S(g,e,10),i=null,n.fill(i,t,t+r),n),0)}));function Ms(e){var n=e.state;if(1===n.tag){var t=(n.fields[2]+1)%n.fields[0].length|0,r=t===n.fields[1];return e.state=r?new Os(0,"Writable",n.fields[0],n.fields[1]):new Os(1,"ReadWritable",n.fields[0],n.fields[1],t),ee(n.fields[0][n.fields[2]])}return null}function Ts(e,n){var t,r,i,a=e.state;if(1===a.tag){a.fields[0][a.fields[1]]=n;var u,s=(a.fields[1]+1)%a.fields[0].length|0;if(s===a.fields[2])t=a.fields[2],r=a.fields[0],i=kn((function(){return bn(Nn(t,r),kn((function(){return bn(xn(t,r),kn((function(){return An((function(e){return In(null)}),function(e,n,t){if(0===n)throw new Error("Step cannot be 0");return kn(()=>_n(e=>n>0&&e<=t||n<0&&e>=t?[e,e+n]:null,e))}(0,1,r.length))})))})))})),u=Array.from(i),e.state=new Os(1,"ReadWritable",u,s,0);else e.state=new Os(1,"ReadWritable",a.fields[0],s,a.fields[2])}else{a.fields[0][a.fields[1]]=n;var o=(a.fields[1]+1)%a.fields[0].length|0;e.state=new Os(1,"ReadWritable",a.fields[0],o,a.fields[1])}}var Is=x((function(e,n,t,r,i,a,u){this.init=e,this.update=n,this.subscribe=t,this.view=r,this.setState=i,this.onError=a,this.syncDispatch=u}),q);function Ns(e,n){return new Is(n.init,n.update,n.subscribe,n.view,e,n.onError,n.syncDispatch)}function Fs(e){return T(2,e.view)}function xs(e,n){var t,r=n.init(e),i=function(e){return this instanceof Ps?Ps.call(this,e):new Ps(e)}(10),a=!1,u=r[0],s=I(1,n.syncDispatch,[function(e){var t;if(a)Ts(i,e);else{a=!0;for(var r=ee(e);null!=r;){var o=ne(r);try{var c=n.update(o,u);n.setState(c[0],s),As(s,c[1]),u=c[0]}catch(e){n.onError([(t=Un(Jn("Unable to process the message: %A")),t(o)),e])}r=Ms(i)}a=!1}}]);n.setState(r[0],s);try{t=n.subscribe(r[0])}catch(e){n.onError(["Unable to subscribe:",e]),t=ks()}var o=Yr(t,r[1]);As(s,o)}var Ds=t(25),_s=x((function(e,n,t){this.model=e,this.render=n,this.equal=t}),q);var Gs,js,Vs,Bs,Hs=x((function(e){Fu.Component.call(this,e)}),Fu.Component);function qs(e,n,t,r){var i,a=new _s(t,(function(){return n(t,r)}),e);return i=Hs,Fu.createElement.apply(Fu,[i,a].concat([]))}function Ws(e,n,t){var r=null;return Ns((function(i,a){if(null!=r){var u=r;window.cancelAnimationFrame(u)}r=window.requestAnimationFrame((function(r){Ds.render(e((function(e,n){return e===n}),M(2,Fs(t)),i,a),document.getElementById(n))}))}),t)}Hs.prototype.shouldComponentUpdate=function(e,n){return!this.props.equal(this.props.model,e.model)},Hs.prototype.render=function(){return this.props.render()},Gs=function(){return new Oa(new G,new Aa(0,"New"))},js=Tu,Bs=new Is((function(e){return[Gs(e),ks()]}),(function(e,n){return[js(e,n),ks()]}),(function(e){return ks()}),Vs=ms,(function(e,n){Vs(e,n)}),(function(e){Rs(e[0],e[1])}),M(2,(function(e){return e}))),xs(null,Ws(qs,"elmish-app",Bs))}});